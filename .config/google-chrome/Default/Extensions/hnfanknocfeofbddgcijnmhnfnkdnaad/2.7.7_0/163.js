"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[163],{61466:(e,t,n)=>{n.d(t,{r:()=>l});var a,o,r,i=n(67294),s=n(53521);function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,s.I)(!1,t),a=(0,i.useMemo)((function(){if(null!=n&&n.length){var t=decodeURIComponent(e),a=n.find((function(e){return e.id===t}));return null!=a?a:n[0]}}),[e,n]);return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(l,"usePortfolioWallets{wallets}\nuseMemo{wallet}",(function(){return[s.I]})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(l,"useSelectWallet","/workspaces/apps/extension/src/data/Wallets/hooks/useSelectWallet.tsx"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},63149:(e,t,n)=>{n.d(t,{$:()=>c});var a,o=n(6585),r=n(74673),i=n(85893);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var s,l;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(e){var t=e.icon,n=e.handleOnPress,a=e.isCell,s=e.testID;return(0,i.jsx)(r.PressableOpacity,{onPress:n,children:(0,i.jsx)(o.Box,{justifyContent:"center",alignItems:"center",width:a?"40px":"50px",height:a?"40px":"50px",position:"relative",borderRadius:"round",borderColor:"line",testID:s,children:t})})}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(c,"SpeedUpAndCancelIcon","/workspaces/apps/extension/src/screens/TransactionHistory/SpeedUpAndCancelIcon.tsx"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},38826:(e,t,n)=>{n.d(t,{H:()=>H});var a,o=n(67294),r=n(25387),i=n(86896),s=n(5977),l=n(22488),c=n(80383),d=n(30628),u=n(9643),p=n(28209),f=n(27025),x=n(30103),g=n(83363),h=n(61466),m=n(61220),b=n(47393),y=n(9943),k=n(6585),w=n(23991),v=n(63149),T=n(85893);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L="TxnDetail",C=(0,r.vU)({copyToolTip:{id:"".concat(L,".copyAddressIconLabel"),defaultMessage:"Copy address",description:"Tooltip label for copy address that shows up on hovering over the tooltip icon"},dateLabel:{id:"".concat(L,".txnDateLabel"),defaultMessage:"Date",description:"Label for transaction date"},toLabel:{id:"".concat(L,".txnAddressToLabel"),defaultMessage:"To",description:"Label for receipents address"},fromLabel:{id:"".concat(L,".txnAddressFromLabel"),defaultMessage:"From",description:"Label for senders address"},statusLabel:{id:"".concat(L,".txnStatusLabel"),defaultMessage:"Status",description:"Label for status of transaction"},valueLabel:{id:"".concat(L,".txnValueLabel"),defaultMessage:"Value",description:"Label for value of transaction"},networkDisplayName:{id:"".concat(L,".txnnetworkDisplayName"),defaultMessage:"Network",description:"Label for network name"},networkFeeLabel:{id:"".concat(L,".txnNetworkFeeLabel"),defaultMessage:"Network fee",description:"Label for network fee"},totalLabel:{id:"".concat(L,".txnTotalLabel"),defaultMessage:"Total cost",description:"Label for total"},totalReceivedLabel:{id:"".concat(L,".txnTotalReceivedLabel"),defaultMessage:"Total received",description:"Label for total received"},txExplorerButtonLabel:{id:"".concat(L,".viewOnExplorerLabel"),defaultMessage:"View on Tx Explorer",description:"View on transaction scanner button"},infoTooltip:{id:"".concat(L,".tooltipTextNetworkFee"),defaultMessage:"Applies to all transactions. Not paid to Coinbase.",description:"Tooltip label for network fee that shows up on hovering over the question mark icon"}});function H(e){var t,n,a,r,j,L=e.transaction,H=(0,i.Z)().formatMessage,D=(0,s.k6)(),M=(0,f.$)(),B=L.isSent,I=null!==(t=L.toAddress)&&void 0!==t?t:"",G=null!==(n=L.fromAddress)&&void 0!==n?n:"",A=(0,o.useMemo)((function(){var e,t;return null===(e=L.network)||void 0===e||null===(t=e.asChain())||void 0===t?void 0:t.displayName}),[L]),F=(0,s.UO)(),N=F.walletId,V=F.id,E=(0,h.r)(N),P=(0,u.z)(),U=(0,o.useMemo)((function(){if(E)return(0,d.F)(E.network)}),[E]),_=(0,o.useMemo)((function(){return(0,s.Gn)(p.Xv.TX_SPEEDUP_CANCEL,{walletId:N,id:V,updateType:"speedup"})}),[V,N]),z=(0,o.useMemo)((function(){return(0,s.Gn)(p.Xv.TX_SPEEDUP_CANCEL,{walletId:N,id:V,updateType:"cancel"})}),[V,N]),O=(0,o.useMemo)((function(){return B?L.entityDisplayName(!0):(0,c.ro)(I,6,4)}),[L,B,I]),R=(0,o.useMemo)((function(){return B?(0,c.ro)(G,6,4):L.entityDisplayName(!0)}),[L,B,G]),$=L.confirmedAt?"".concat(L.confirmedAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," \u2022 ").concat(L.confirmedAt.toLocaleString("default",{year:"numeric",month:"short",day:"2-digit"})):"Submitted ".concat(L.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),W=(0,o.useMemo)((function(){return M.formatToFiat(L.currencyCode,L.tokenDecimal,L.amount,!1,L.contractAddress,L.network)}),[M,L.currencyCode,L.tokenDecimal,L.amount,L.contractAddress,L.network]),Z=(0,o.useMemo)((function(){return M.formatToCrypto({currencyCode:L.currencyCode,decimals:L.tokenDecimal,value:L.amount,includeCode:!0,maxDisplayDecimals:BigInt(8)})}),[M,L.currencyCode,L.tokenDecimal,L.amount]),X=(0,o.useMemo)((function(){var e;return M.formatToFiatTotalRange({feeCurrencyCode:L.feeCurrencyCode,currencyCode:L.currencyCode,contractAddress:L.contractAddress,network:L.network,fee:L.fee,lowerBoundFee:null===(e=L.pendingTxData)||void 0===e?void 0:e.lowerBoundValue,amount:L.amount,isConfirmed:Boolean(L.confirmedAt),decimals:L.tokenDecimal,includeFee:L.isSent,feeDecimals:L.feeCurrencyDecimal})}),[M,L.feeCurrencyCode,L.currencyCode,L.contractAddress,L.network,L.fee,null===(a=L.pendingTxData)||void 0===a?void 0:a.lowerBoundValue,L.amount,L.confirmedAt,L.tokenDecimal,L.isSent,L.feeCurrencyDecimal]),K=(0,o.useMemo)((function(){var e,t=M.formatToFiatFeeRange(L.feeCurrencyCode,L.feeCurrencyDecimal,L.fee,!1,L.confirmedAt||null===(e=L.pendingTxData)||void 0===e?void 0:e.lowerBoundValue,L.network);return t||M.formatToCrypto({currencyCode:L.feeCurrencyCode,decimals:L.feeCurrencyDecimal,value:L.fee,includeCode:!0})}),[M,L.feeCurrencyCode,L.feeCurrencyDecimal,L.fee,L.confirmedAt,null===(r=L.pendingTxData)||void 0===r?void 0:r.lowerBoundValue,L.network]),q=W?"".concat(W," \u2022 ").concat(Z):Z,J=L.txHash?L.blockchain.blockExplorerUrl(L.txHash,L.network):"",Q=(0,o.useCallback)((function(){(0,m.logEvent)("etherscan_click",{action:m.ActionType.click,componentType:m.ComponentType.button,loggingId:"ba55a561-2385-4378-9adc-a8719b4f348f"}),chrome.tabs.create({url:J})}),[J]),Y=(0,o.useCallback)((function(){D.push(_)}),[_,D]),ee=(0,o.useCallback)((function(){D.push(z)}),[z,D]),te=(0,x.N)("speedup_and_cancel")&&P&&U&&L.state===g.Z.PENDING,ne=Boolean(W);return(0,T.jsxs)(k.VStack,{overflow:"scroll",height:"406px",offsetHorizontal:3,spacingHorizontal:3,children:[(0,T.jsx)(k.VStack,{alignItems:"center",children:ne?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(w.TextLabel2,{spacingTop:2,testID:"txDetail_crypto_display",as:"p",color:"foregroundMuted",children:Z}),(0,T.jsx)(w.TextTitle1,{testID:"txDetail_fiat_display",as:"h2",children:W})]}):(0,T.jsx)(w.TextDisplay2,{testID:"txDetail_crypto_display",as:"h2",spacingTop:3,spacingBottom:1,children:Z})}),(0,T.jsx)(k.Divider,{direction:"horizontal",spacingTop:2}),(0,T.jsxs)(k.VStack,{children:[(0,T.jsxs)(k.HStack,{spacingTop:2,spacingBottom:1,width:"100%",justifyContent:"space-between",children:[(0,T.jsx)(w.TextBody,{as:"p",children:H(C.fromLabel)}),(0,T.jsx)(w.TextBody,{as:"p",color:"foregroundMuted",align:"end",children:R})]}),(0,T.jsxs)(k.HStack,{spacingVertical:1,width:"100%",justifyContent:"space-between",children:[(0,T.jsx)(w.TextBody,{as:"p",children:H(C.toLabel)}),(0,T.jsx)(w.TextBody,{as:"p",color:"foregroundMuted",align:"end",children:O})]}),(0,T.jsxs)(k.HStack,{spacingVertical:1,width:"100%",justifyContent:"space-between",children:[(0,T.jsx)(w.TextBody,{as:"p",children:H(C.dateLabel)}),(0,T.jsx)(w.TextBody,{as:"p",color:"foregroundMuted",align:"end",children:$})]}),(0,T.jsxs)(k.HStack,{spacingVertical:1,width:"100%",justifyContent:"space-between",children:[(0,T.jsx)(w.TextBody,{as:"p",children:H(C.networkDisplayName)}),(0,T.jsx)(w.TextBody,{as:"p",color:"foregroundMuted",align:"end",children:A})]}),(0,T.jsxs)(k.HStack,{spacingVertical:1,width:"100%",justifyContent:"space-between",children:[(0,T.jsx)(w.TextBody,{as:"p",children:H(C.statusLabel)}),(0,T.jsx)(w.TextBody,{as:"p",color:"foregroundMuted",align:"end",children:L.getTransactionStatus(L.state)})]}),(0,T.jsxs)(k.HStack,{spacingVertical:1,width:"100%",justifyContent:"space-between",children:[(0,T.jsx)(w.TextBody,{as:"p",children:H(C.valueLabel)}),(0,T.jsx)(w.TextBody,{as:"p",color:"foregroundMuted",align:"end",children:q})]}),(0,T.jsxs)(k.HStack,{spacingVertical:1,width:"100%",justifyContent:"space-between",children:[(0,T.jsxs)(k.HStack,{children:[(0,T.jsx)(w.TextBody,{as:"p",children:H(C.networkFeeLabel)}),(0,T.jsx)("div",{className:S,children:(0,T.jsx)(l.u,{content:H(C.infoTooltip),placement:"bottom",children:(0,T.jsx)(y.Icon,{name:"info",size:"xs",color:"foregroundMuted"})})})]}),(0,T.jsx)(w.TextBody,{testID:"tx-detail-network-fee",as:"p",color:"foregroundMuted",align:"end",children:K})]}),(0,T.jsxs)(k.HStack,{spacingVertical:1,width:"100%",justifyContent:"space-between",children:[(0,T.jsx)(w.TextBody,{as:"p",children:L.isSent?H(C.totalLabel):H(C.totalReceivedLabel)}),(0,T.jsx)(w.TextBody,{as:"p",color:"foregroundMuted",align:"end",children:null!=X?X:Z})]}),(0,T.jsx)(k.VStack,{position:"absolute",width:"100%",spacingHorizontal:3,spacingBottom:3,bottom:0,right:0,background:"background",children:te?(0,T.jsxs)(k.HStack,{alignSelf:"center",gap:2,children:[(0,T.jsx)(v.$,{icon:(0,T.jsx)(y.Icon,{name:"lightningBolt",color:"primary",size:"m"}),handleOnPress:Y,isCell:!1,testID:"speedupButton"}),"cancel"!==(null==L||null===(j=L.pendingTxData)||void 0===j?void 0:j.txSubmissionType)?(0,T.jsx)(v.$,{icon:(0,T.jsx)(y.Icon,{name:"close",color:"negative",size:"m"}),handleOnPress:ee,isCell:!1,testID:"cancelButton"}):null,(0,T.jsx)(v.$,{icon:(0,T.jsx)(y.Icon,{name:"externalLink",color:"foreground",size:"s"}),handleOnPress:Q,isCell:!1,testID:"view-on-etherscan-button"})]}):(0,T.jsx)(b.Button,{variant:"secondary",onPress:Q,testID:"view-on-etherscan-button",children:H(C.txExplorerButtonLabel)})})]})]})}j(H,"useIntl{{\n    formatMessage\n  }}\nuseHistory{history}\nuseCurrencyFormatter{currencyFormatter}\nuseMemo{networkName}\nuseParams{{\n    walletId,\n    id\n  }}\nuseSelectWallet{wallet}\nuseIsStandalone{isStandalone}\nuseMemo{is1559Enabled}\nuseMemo{speedUpURL}\nuseMemo{cancelURL}\nuseMemo{toAddressDisplay}\nuseMemo{fromAddressDisplay}\nuseMemo{fiatAmountDisplay}\nuseMemo{cryptoAmountDisplay}\nuseMemo{totalFiat}\nuseMemo{networkFee}\nuseCallback{handleEtherscanClick}\nuseCallback{handleSpeedUp}\nuseCallback{handleCancel}\nuseIsFeatureEnabled{}",(function(){return[i.Z,s.k6,f.$,s.UO,h.r,u.z,x.N]}));var D,M,S="i1unb18o";n(51674),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(D.register(L,"i18nKey","/workspaces/apps/extension/src/screens/TransactionHistory/txnDetail.tsx"),D.register(C,"messages","/workspaces/apps/extension/src/screens/TransactionHistory/txnDetail.tsx"),D.register(H,"TxnDetail","/workspaces/apps/extension/src/screens/TransactionHistory/txnDetail.tsx"),D.register(S,"infoIcon","/workspaces/apps/extension/src/screens/TransactionHistory/txnDetail.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},43163:(e,t,n)=>{n.r(t),n.d(t,{TxnDetailContainer:()=>v});var a,o=n(67294),r=n(25387),i=n(86896),s=n(5977),l=n(17969),c=n(52443),d=n(83363),u=n(79885),p=n(6585),f=n(38826),x=n(85893);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,o,r=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var m,b,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k="TxnDetailContainer",w=(0,r.vU)({pendingSend:{id:"".concat(k,".pendingNavHeader"),defaultMessage:"Pending send",description:"transaction state nav title"},sendTxnHeader:{id:"".concat(k,".sendNavHeader"),defaultMessage:"Sent {walletDisplayName}",description:"transaction state navbar title"},receiveTxnHeader:{id:"".concat(k,".receiveNavHeader"),defaultMessage:"Received {walletDisplayName}",description:"transaction state nav title"}});function v(){var e=(0,s.k6)().goBack,t=(0,s.UO)().id,n=g((0,o.useState)(void 0),2),a=n[0],r=n[1],h=(0,i.Z)().formatMessage,m=(0,c.o)(),b=(0,u.r)();(0,o.useEffect)((function(){var e=m.getTxById(t).subscribe((function(e){e&&r(e)}));return function(){null==e||e.unsubscribe()}}),[b,t,m]);var y=(0,o.useMemo)((function(){if(!a)return"";if(a.state===d.Z.PENDING)return h(w.pendingSend);var e=h(w.sendTxnHeader,{walletDisplayName:a.tokenName}),t=h(w.receiveTxnHeader,{walletDisplayName:a.tokenName});return a.isSent?e:t}),[a,h]);return(0,x.jsx)(p.VStack,{children:a?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.w,{onBack:e,title:y}),(0,x.jsx)(p.VStack,{spacingHorizontal:3,children:(0,x.jsx)(f.H,{transaction:a})})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(p.VStack,{children:[(0,x.jsx)(l.w,{onBack:e,title:(0,x.jsx)(p.Fallback,{width:150,height:20})}),(0,x.jsxs)(p.VStack,{spacingHorizontal:3,children:[(0,x.jsx)(p.Fallback,{spacingVertical:2,width:180,height:60,alignSelf:"center"}),(0,x.jsx)(p.Fallback,{spacingBottom:2,alignSelf:"center",width:120,height:20}),(0,x.jsx)(p.Fallback,{spacingTop:2,width:60,height:20}),(0,x.jsx)(p.Fallback,{spacingVertical:1,width:"100%",height:20}),(0,x.jsx)(p.Fallback,{spacingBottom:1,width:"100%",height:20}),(0,x.jsx)(p.Fallback,{spacingTop:2,width:60,height:20}),(0,x.jsx)(p.Fallback,{spacingVertical:1,width:"100%",height:20}),(0,x.jsx)(p.Fallback,{spacingTop:2,width:60,height:20}),(0,x.jsx)(p.Fallback,{spacingVertical:1,width:"100%",height:20}),(0,x.jsx)(p.Fallback,{spacingTop:2,width:60,height:20}),(0,x.jsx)(p.Fallback,{spacingVertical:1,width:"100%",height:20})]})]})})})}y(v,"useHistory{{ goBack }}\nuseParams{{ id }}\nuseState{[transaction, setTransaction](undefined)}\nuseIntl{{ formatMessage }}\nuseTransactionHistoryRepository{transactionHistoryRepository}\nuseWallets{wallets}\nuseEffect{}\nuseMemo{txnState}",(function(){return[s.k6,s.UO,i.Z,c.o,u.r]})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(k,"i18nKey","/workspaces/apps/extension/src/screens/TransactionHistory/txnDetailContainer.tsx"),m.register(w,"messages","/workspaces/apps/extension/src/screens/TransactionHistory/txnDetailContainer.tsx"),m.register(v,"TxnDetailContainer","/workspaces/apps/extension/src/screens/TransactionHistory/txnDetailContainer.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},51674:(e,t,n)=>{n.r(t)},30103:(e,t,n)=>{n.d(t,{N:()=>o});var a=n(97434);function o(e){return!!(0,a.g)()[e]}}}]);
//# sourceMappingURL=163.js.map