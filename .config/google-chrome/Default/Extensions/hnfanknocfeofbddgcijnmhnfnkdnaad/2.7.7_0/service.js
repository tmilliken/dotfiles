/*! For license information please see service.js.LICENSE.txt */
(()=>{var e={56368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optIn=t.optOut=t.initTrackPageview=t.identify=t.exposeExperiment=t.getExperimentExposureParams=t.init=void 0;var n=r(28929),i=r(76902),o=r(37507),s=r(96095),a=r(36192),u=r(51582),c=r(54876),l=r(72228),h=r(93002),f=r(59490),d=r(46442),p=r(36070),m=r(75568),g=r(41420),v=r(51371);t.init=e=>{(0,n.setConfig)(e),(0,o.setLanguageCode)(),(0,o.setPlatform)(),(0,p.initIDB)(),(0,d.debugLog)({metricName:"Initialized Analytics:",data:{deviceId:o.identity.deviceId}}),c.cbDBInit.push((()=>{(0,g.queueEvents)()})),(0,c.initByDB)(),(0,o.setDevice)(),(0,a.initPageVisibilityChange)(),(0,a.initPageResize)(),(0,m.initPerfMonitoring)()};const y=e=>({test_name:e.testName,group_name:e.group,subject_id:e.subjectId,exposed_at:(0,v.getNow)(),subject_type:e.subjectType,platform:n.config.platform});t.getExperimentExposureParams=y;t.exposeExperiment=e=>{const t=y(e),r=n.config.isProd?i.ANALYTICS_SERVICE_EXPOSE_API_ENDPOINT:i.ANALYTICS_SERVICE_EXPOSE_API_ENDPOINT_DEV;(0,f.apiFetch)({url:`https://${r}`,data:[t],onError:n.config.onError,isJSON:!0,importance:h.AnalyticsEventImportance.high}),(0,d.debugLog)({metricName:"Event: exposeExperiment",data:t})};t.identify=e=>{(0,o.setIdentity)(e),(0,d.debugLog)({metricName:"Identify:",data:{countryCode:o.identity.countryCode,deviceId:o.identity.deviceId,userId:o.identity.userId}})};t.initTrackPageview=({blacklistRegex:e,pageKeyRegex:t,browserHistory:r})=>{(0,u.setPageview)({blacklistRegex:e||[],isEnabled:!0}),(0,l.setLocation)({pageKeyRegex:t}),(0,s.logPageView)(),r.listen((()=>{(0,s.logPageView)()}))};t.optOut=()=>{(0,o.setIdentity)({isOptOut:!0}),(0,p.idbSet)({})};t.optIn=()=>{(0,o.setIdentity)({isOptOut:!1})}},28929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setConfig=t.config=void 0;var n=r(76902),i=r(93002);const o={authCookie:"logged_in",amplitudeApiKey:"",batchEventsPeriod:n.BATCH_PERIOD,batchEventsThreshold:n.BATCH_THRESHOLD,batchMetricsPeriod:n.BATCH_PERIOD,batchMetricsThreshold:n.BATCH_THRESHOLD,headers:{},interactionManager:null,isAlwaysAuthed:!1,isProd:!1,onError:(e,t)=>{console.error(n.DEBUG_LOGGING_PREFIX,e,t)},platform:i.PlatformName.unknown,projectName:"",ricTimeoutScheduleEvent:1e3,ricTimeoutSetDevice:500,showDebugLogging:!1,trackUserId:!1,version:null};t.config=o;t.setConfig=e=>{Object.assign(o,e)}},76902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PERF_EVENTS=t.SESSION_DURATION_LOGGING_ID=t.PAGEVIEW_LOGGING_ID=t.UAA_QUERIES=t.SESSION_TIMEOUT=t.MAX_EVENT_DATA_QUEUE_LIMIT=t.DEBUG_LOGGING_PREFIX=t.DB_NAME=t.DB_ITEM=t.BATCH_THRESHOLD=t.BATCH_PERIOD=t.ANALYTICS_SERVICE_METRICS_API_ENDPOINT_DEV=t.ANALYTICS_SERVICE_METRICS_API_ENDPOINT=t.ANALYTICS_SERVICE_EXPOSE_API_ENDPOINT_DEV=t.ANALYTICS_SERVICE_EXPOSE_API_ENDPOINT=t.ANALYTICS_SERVICE_API_ENDPOINT_DEV=t.ANALYTICS_SERVICE_API_ENDPOINT=t.ANALYTICS_SDK_VERSION=void 0;var n=r(93002);t.ANALYTICS_SDK_VERSION="3.4.0";t.ANALYTICS_SERVICE_API_ENDPOINT="events-service.coinbase.com/amp";t.ANALYTICS_SERVICE_API_ENDPOINT_DEV="analytics-service-dev.cbhq.net/amp";t.ANALYTICS_SERVICE_EXPOSE_API_ENDPOINT="events-service.coinbase.com/track-exposures";t.ANALYTICS_SERVICE_EXPOSE_API_ENDPOINT_DEV="analytics-service-dev.cbhq.net/track-exposures";t.ANALYTICS_SERVICE_METRICS_API_ENDPOINT="events-service.coinbase.com/metrics";t.ANALYTICS_SERVICE_METRICS_API_ENDPOINT_DEV="analytics-service-dev.cbhq.net/metrics";t.BATCH_PERIOD=5e3;t.BATCH_THRESHOLD=30;t.DB_ITEM="analytics-db";t.DB_NAME="keyval-store";t.DEBUG_LOGGING_PREFIX="Analytics SDK:";t.MAX_EVENT_DATA_QUEUE_LIMIT=10;t.SESSION_TIMEOUT=18e5;const i=Object.values(n.AnalyticsQueries);t.UAA_QUERIES=i;t.PAGEVIEW_LOGGING_ID="db6d70de-c5ed-4a26-bddb-05191acbc278";t.SESSION_DURATION_LOGGING_ID="4164ca36-1d78-4b7f-bbae-3c59d97ca3d9";t.PERF_EVENTS={ttfb:{eventName:"perf_time_to_first_byte",loggingId:"7e7a84f5-f1ab-4769-b322-52e198483f85"},networkInformation:{eventName:"perf_network_information",loggingId:"9229ea1a-2d1e-48e3-b832-669357bcf327"},storageEstimate:{eventName:"perf_storage_estimate",loggingId:"fef62231-45b9-4796-af8a-7520c3b8dc5d"},fcp:{eventName:"perf_first_contentful_paint",loggingId:"d5f76a1c-5210-4e2f-9d44-f6b28ce57a6c"},fid:{eventName:"perf_first_input_delay",loggingId:"b59e6a00-55d4-400e-a09d-f2ae44e4a5fe"},lcp:{eventName:"perf_largest_contentful_paint",loggingId:"efa86d13-ce1a-47b5-b130-918c028b58ae"},cls:{eventName:"perf_cumulative_layout_shift",loggingId:"5280dc84-cb97-4587-9904-df9eda8f118e"},tbt:{eventName:"perf_total_blocking_time",loggingId:"69631829-d3e7-4f8f-8e0e-2ae3be067e0f"}}},37507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPlatform=t.setLanguageCode=t.setIdentity=t.setDevice=t.getUserProperties=t.getIsAuthed=t.generateUUID=t.camelToSnake=t.identity=t.device=void 0;var n=r(28929),i=r(93002),o=r(88581),s=r(42004),a=r(394);const u={amplitudeOSName:null,amplitudeOSVersion:null,amplitudeDeviceModel:null,amplitudePlatform:null,browserName:null,browserMajor:null,osName:null,userAgent:null};t.device=u;const c={countryCode:null,deviceId:null,isOptOut:!1,languageCode:null,locale:null,jwt:null,userId:null};t.identity=c;t.camelToSnake=e=>e.replace(/[\w]([A-Z])/g,(e=>`${e[0]}_${e[1]}`)).toLowerCase();const l=e=>e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l);t.generateUUID=l;t.getIsAuthed=()=>n.config.isAlwaysAuthed||!!c.userId;t.getUserProperties=()=>{const e={};return c.countryCode&&(e.country_code=c.countryCode),e};t.setDevice=()=>{var e,t;(0,o.isWebPlatform)()?("requestIdleCallback"in window?window.requestIdleCallback(h,{timeout:n.config.ricTimeoutSetDevice}):h(),u.amplitudePlatform=i.AmplitudePlatformName.web,u.userAgent=(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)||null):(0,o.isIOSPlatform)()?u.amplitudePlatform=i.AmplitudePlatformName.ios:(0,o.isAndroidPlatform)()&&(u.amplitudePlatform=i.AmplitudePlatformName.android)};t.setIdentity=e=>{Object.assign(c,e),(0,o.isWebPlatform)()&&(0,s.postMessage)({identity:{isAuthed:!!c.userId,locale:c.locale||null}})};t.setLanguageCode=()=>{var e,t;(0,o.isWebPlatform)()&&(c.languageCode=(null===(e=navigator)||void 0===e?void 0:e.languages[0])||(null===(t=navigator)||void 0===t?void 0:t.language)||"")};t.setPlatform=()=>{(0,n.setConfig)({platform:(0,a.getPlatformValue)()}),(0,o.isWebPlatform)()&&(0,s.postMessage)({config:{platform:n.config.platform}})};const h=()=>{performance.mark&&performance.mark("ua_parser_start");const e=new(r(46353))(u.userAgent).getResult();u.browserName=e.browser.name||null,u.browserMajor=e.browser.major||null,u.osName=e.os.name||null,u.amplitudeOSName=u.browserName,u.amplitudeOSVersion=u.browserMajor,u.amplitudeDeviceModel=u.osName,(0,s.postMessage)({device:{browserName:u.browserName,osName:u.osName}}),performance.mark&&(performance.mark("ua_parser_end"),performance.measure("ua_parser","ua_parser_start","ua_parser_end"))}},61220:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={init:!0,exposeExperiment:!0,identify:!0,initTrackPageview:!0,optOut:!0,optIn:!0,config:!0,setConfig:!0,device:!0,identity:!0,generateUUID:!0,logEvent:!0,logMetric:!0,logPageView:!0,setPageview:!0,useEventLogger:!0,useLogEventOnMount:!0,location:!0,setBreadcrumbs:!0,setLocation:!0,getUrlHostname:!0,getUrlParams:!0,getUrlPathname:!0,setPagePath:!0,getAnalyticsHeaders:!0,onVisibilityChange:!0,sendScheduledEvents:!0,postMessage:!0,setTime:!0,timeStone:!0};Object.defineProperty(t,"init",{enumerable:!0,get:function(){return i.init}}),Object.defineProperty(t,"exposeExperiment",{enumerable:!0,get:function(){return i.exposeExperiment}}),Object.defineProperty(t,"identify",{enumerable:!0,get:function(){return i.identify}}),Object.defineProperty(t,"initTrackPageview",{enumerable:!0,get:function(){return i.initTrackPageview}}),Object.defineProperty(t,"optOut",{enumerable:!0,get:function(){return i.optOut}}),Object.defineProperty(t,"optIn",{enumerable:!0,get:function(){return i.optIn}}),Object.defineProperty(t,"config",{enumerable:!0,get:function(){return o.config}}),Object.defineProperty(t,"setConfig",{enumerable:!0,get:function(){return o.setConfig}}),Object.defineProperty(t,"device",{enumerable:!0,get:function(){return s.device}}),Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return s.identity}}),Object.defineProperty(t,"generateUUID",{enumerable:!0,get:function(){return s.generateUUID}}),Object.defineProperty(t,"logEvent",{enumerable:!0,get:function(){return a.logEvent}}),Object.defineProperty(t,"logMetric",{enumerable:!0,get:function(){return a.logMetric}}),Object.defineProperty(t,"logPageView",{enumerable:!0,get:function(){return u.logPageView}}),Object.defineProperty(t,"setPageview",{enumerable:!0,get:function(){return c.setPageview}}),Object.defineProperty(t,"useEventLogger",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useLogEventOnMount",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"location",{enumerable:!0,get:function(){return f.location}}),Object.defineProperty(t,"setBreadcrumbs",{enumerable:!0,get:function(){return f.setBreadcrumbs}}),Object.defineProperty(t,"setLocation",{enumerable:!0,get:function(){return f.setLocation}}),Object.defineProperty(t,"getUrlHostname",{enumerable:!0,get:function(){return d.getUrlHostname}}),Object.defineProperty(t,"getUrlParams",{enumerable:!0,get:function(){return d.getUrlParams}}),Object.defineProperty(t,"getUrlPathname",{enumerable:!0,get:function(){return d.getUrlPathname}}),Object.defineProperty(t,"setPagePath",{enumerable:!0,get:function(){return d.setPagePath}}),Object.defineProperty(t,"getAnalyticsHeaders",{enumerable:!0,get:function(){return p.getAnalyticsHeaders}}),Object.defineProperty(t,"onVisibilityChange",{enumerable:!0,get:function(){return m.onVisibilityChange}}),Object.defineProperty(t,"sendScheduledEvents",{enumerable:!0,get:function(){return g.sendScheduledEvents}}),Object.defineProperty(t,"postMessage",{enumerable:!0,get:function(){return v.postMessage}}),Object.defineProperty(t,"setTime",{enumerable:!0,get:function(){return y.setTime}}),Object.defineProperty(t,"timeStone",{enumerable:!0,get:function(){return y.timeStone}});var i=r(56368),o=r(28929),s=r(37507),a=r(2673),u=r(96095),c=r(51582),l=w(r(92892)),h=w(r(24660)),f=r(72228),d=r(87867),p=r(57436),m=r(79046),g=r(41420),v=r(42004),y=r(51371),b=r(93002);function w(e){return e&&e.__esModule?e:{default:e}}Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}))},2673:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendMetrics=t.logMetric=t.logEvent=void 0;var n=r(28929),i=r(76902),o=r(37507),s=r(51582),a=r(72228),u=r(59016),c=r(93002),l=r(59490),h=r(46442),f=r(87867),d=r(98720),p=r(99898),m=r(41420),g=r(394);t.logEvent=(e,t,r=c.AnalyticsEventImportance.low)=>{if(o.identity.isOptOut)return;if(n.config.platform===c.PlatformName.unknown)return void n.config.onError(new Error("SDK platform not initialized"));const i=(0,g.getValidatedEvent)(t);(0,s.setPageviewEnrichment)(i),(0,f.setUserAttributionEnrichment)(i),i.has_double_fired=!1,i.event_type=e,r===c.AnalyticsEventImportance.high?(0,m.queueEvents)(i,r):(0,p.scheduleEvent)((()=>{(0,m.queueEvents)(i)}))};t.logMetric=e=>{if(n.config.platform!==c.PlatformName.unknown&&(c.PlatformName.server!==n.config.platform&&!e.pagePath&&a.location.pagePath&&(e.pagePath=a.location.pagePath),u.scheduler.metricsQueue.push(e),(0,p.isBatchMetricsReady)(v))){const e=(0,d.prepareMetricsData)(u.scheduler.metricsQueue);v(e),u.scheduler.metricsQueue=[]}};const v=e=>{const t=n.config.isProd?i.ANALYTICS_SERVICE_METRICS_API_ENDPOINT:i.ANALYTICS_SERVICE_METRICS_API_ENDPOINT_DEV;(0,p.scheduleEvent)((()=>{(0,l.apiFetch)({url:`https://${t}`,data:{metrics:e},isJSON:!0,onError:n.config.onError})})),(0,h.debugBatch)({metricName:"Batch Metrics",data:e})};t.sendMetrics=v},96095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logPageView=void 0;var n=r(28929),i=r(76902),o=r(2673),s=r(51582),a=r(93002),u=r(87867);t.logPageView=e=>{"unknown"!==n.config.platform&&(s.pageview.blacklistRegex.some((e=>e.test((0,u.getUrlPathname)())))||(0,o.logEvent)("pageview",{action:a.ActionType.render,componentType:a.ComponentType.page,loggingId:e||i.PAGEVIEW_LOGGING_ID}))}},36192:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initPageResize=t.initPageVisibilityChange=void 0;var n=r(37507),i=r(54876),o=r(6496),s=r(11045),a=r(88581),u=r(14712),c=r(79046),l=r(41420),h=r(51371);t.initPageVisibilityChange=()=>{(0,a.isWebPlatform)()&&((0,c.onVisibilityChange)((()=>{(0,s.setPersistentData)({lastEventTime:(0,h.getNow)()}),(0,i.savePersistentData)(),(0,l.sendScheduledEvents)()}),"hidden"),(0,c.onVisibilityChange)((()=>{(0,o.recordSessionDuration)()}),"visible"))};t.initPageResize=()=>{(0,a.isWebPlatform)()&&(0,u.onResizeWithRAF)((()=>{(0,n.setPlatform)()}))}},51582:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPageviewEnrichment=t.setPageview=t.getPageviewProperties=t.pageview=void 0;var n=r(72228),i=r(87867);const o={blacklistRegex:[],isEnabled:!1};t.pageview=o;const s=()=>({page_key:n.location.pageKey,page_path:n.location.pagePath,prev_page_key:n.location.prevPageKey,prev_page_path:n.location.prevPagePath});t.getPageviewProperties=s;t.setPageview=e=>{Object.assign(o,e)};t.setPageviewEnrichment=e=>{o.isEnabled&&((0,i.setPagePath)(),Object.assign(e,s()))}},54876:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.savePersistentData=t.incrementSequenceNumber=t.incrementEventId=t.onDBReady=t.onDBInit=t.initByDB=t.cbDBReady=t.cbDBInit=void 0;var n=r(28929),i=r(37507),o=r(6496),s=r(26355),a=r(11045),u=r(46442),c=r(36070),l=r(55962),h=r(51371);const f=[];t.cbDBInit=f;const d=[];t.cbDBReady=d;t.initByDB=async()=>{const e=await(0,c.idbGet)();(0,s.setDB)({isReady:!0}),p(),e&&(m(),(0,a.setPersistentData)({eventId:e.eventId||a.persistentData.eventId,sequenceNumber:e.sequenceNumber||a.persistentData.sequenceNumber,sessionId:e.sessionId||a.persistentData.sessionId,lastEventTime:e.lastEventTime||a.persistentData.lastEventTime,sessionUUID:e.sessionUUID||a.persistentData.sessionUUID}),(0,h.setTime)({sessionStart:e.sessionStart||a.persistentData.sessionStart}),(0,l.setSessionQuality)({ac:e.ac||l.sessionQuality.ac,af:e.af||l.sessionQuality.af,ah:e.ah||l.sessionQuality.ah,al:e.al||l.sessionQuality.al,am:e.am||l.sessionQuality.am,ar:e.ar||l.sessionQuality.ar,as:e.as||l.sessionQuality.as,pv:e.pv||l.sessionQuality.pv}),n.config.trackUserId&&(0,i.setIdentity)({userId:e.userId||i.identity.userId}),(0,o.recordSessionDuration)(),(0,u.debugLog)({metricName:"Initialized Analytics IndexedDB:",data:e}))};const p=()=>{const e=f.shift();e&&e()};t.onDBInit=p;const m=()=>{const e=d.shift();e&&e()};t.onDBReady=m;t.incrementEventId=()=>{(0,a.setPersistentData)({eventId:a.persistentData.eventId+1})};t.incrementSequenceNumber=()=>{(0,a.setPersistentData)({sequenceNumber:a.persistentData.sequenceNumber+1})};t.savePersistentData=()=>{"server"!==n.config.platform&&((0,a.setPersistentData)({sessionStart:h.timeStone.sessionStart,ac:l.sessionQuality.ac,af:l.sessionQuality.af,ah:l.sessionQuality.ah,al:l.sessionQuality.al,am:l.sessionQuality.am,ar:l.sessionQuality.ar,as:l.sessionQuality.as,pv:l.sessionQuality.pv}),i.identity.userId&&(0,a.setPersistentData)({userId:i.identity.userId}),(0,c.idbSet)(a.persistentData))}},6496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionStart=t.recordSessionDuration=t.isSessionEnded=t.MAX_SESSION_IN_SECONDS=void 0;var n=r(76902),i=r(37507),o=r(2673),s=r(11045),a=r(93002),u=r(46442),c=r(55962),l=r(51371);t.MAX_SESSION_IN_SECONDS=36e3;const h=e=>e-s.persistentData.lastEventTime>n.SESSION_TIMEOUT;t.isSessionEnded=h;t.recordSessionDuration=()=>{if(!s.persistentData.lastEventTime||!l.timeStone.sessionStart||!h((0,l.getNow)()))return;const e=Math.round((s.persistentData.lastEventTime-l.timeStone.sessionStart)/1e3);if(e<1||e>36e3)return;const t=(0,c.getSessionRank)(e);(0,o.logEvent)("session_duration",{action:a.ActionType.measurement,componentType:a.ComponentType.page,loggingId:n.SESSION_DURATION_LOGGING_ID,session_duration:e,session_end:s.persistentData.lastEventTime,session_start:l.timeStone.sessionStart,session_rank:t})};t.setSessionStart=()=>{const e=(0,l.getNow)();s.persistentData.sessionId&&s.persistentData.lastEventTime&&!h(e)||(s.persistentData.sessionId=e,s.persistentData.sessionUUID=(0,i.generateUUID)(),(0,l.setTime)({sessionStart:e}),(0,u.debugLog)({metricName:"Started new session:",data:{persistentData:s.persistentData,timeStone:l.timeStone}})),s.persistentData.lastEventTime=e}},26355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDB=t.db=void 0;const r={isReady:!1,idbKeyval:null};t.db=r;t.setDB=e=>{Object.assign(r,e)}},72228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLocation=t.setBreadcrumbs=t.location=void 0;const r={breadcrumbs:[],initialUAAData:{},pageKey:"",pageKeyRegex:{},pagePath:"",prevPageKey:"",prevPagePath:""};t.location=r;t.setBreadcrumbs=e=>{Object.assign(r,{breadcrumbs:e})};t.setLocation=e=>{Object.assign(r,e)}},11045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPersistentData=t.persistentData=void 0;const r={eventId:0,sequenceNumber:0,sessionId:0,lastEventTime:0,sessionStart:0,sessionUUID:null,userId:null,ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0};t.persistentData=r;t.setPersistentData=e=>{Object.assign(r,e)}},59016:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setScheduler=t.scheduler=void 0;const r={eventsQueue:[],eventsScheduled:!1,metricsQueue:[],metricsScheduled:!1};t.scheduler=r;t.setScheduler=e=>{Object.assign(r,e)}},93002:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionRank=t.SessionAutomatedEvents=t.SessionActions=t.AuthStatus=t.AmplitudePlatformName=t.PlatformName=t.ActionType=t.ComponentType=t.SubjectType=t.MetricType=t.AnalyticsEventImportance=t.UserTypeWallet=t.UserTypeCommerce=t.UserTypeRetailBusinessBanking=t.UserTypeRetailEmployeePersonal=t.UserTypeRetailEmployeeInternal=t.UserTypeInsto=t.UserTypeRetail=t.AnalyticsQueries=void 0,t.AnalyticsQueries=r,function(e){e.fbclid="fbclid",e.gclid="gclid",e.msclkid="msclkid",e.utm_source="utm_source",e.utm_medium="utm_medium",e.utm_campaign="utm_campaign",e.utm_term="utm_term",e.utm_content="utm_content"}(r||(t.AnalyticsQueries=r={}));t.UserTypeRetail=0;t.UserTypeInsto=1;t.UserTypeRetailEmployeeInternal=2;t.UserTypeRetailEmployeePersonal=3;t.UserTypeRetailBusinessBanking=4;t.UserTypeCommerce=5;let n,i,o,s,a,u,c,l,h,f,d;t.UserTypeWallet=6,t.AnalyticsEventImportance=n,function(e){e.low="low",e.high="high"}(n||(t.AnalyticsEventImportance=n={})),t.MetricType=i,function(e){e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram"}(i||(t.MetricType=i={})),t.SubjectType=o,function(e){e.user="user",e.device="device"}(o||(t.SubjectType=o={})),t.ComponentType=s,function(e){e.unknown="unknown",e.banner="banner",e.button="button",e.card="card",e.chart="chart",e.dropdown="dropdown",e.link="link",e.page="page",e.modal="modal",e.table="table",e.search_bar="search_bar",e.text="text",e.text_input="text_input",e.tray="tray"}(s||(t.ComponentType=s={})),t.ActionType=a,function(e){e.unknown="unknown",e.blur="blur",e.click="click",e.change="change",e.focus="focus",e.hover="hover",e.select="select",e.measurement="measurement",e.move="move",e.render="render",e.scroll="scroll",e.view="view",e.search="search",e.keyPress="keyPress"}(a||(t.ActionType=a={})),t.PlatformName=u,function(e){e.unknown="unknown",e.web="web",e.android="android",e.ios="ios",e.mobile_web="mobile_web",e.server="server",e.windows="windows",e.macos="macos"}(u||(t.PlatformName=u={})),t.AmplitudePlatformName=c,function(e){e.web="Web",e.ios="iOS",e.android="Android"}(c||(t.AmplitudePlatformName=c={})),t.AuthStatus=l,function(e){e[e.notLoggedIn=0]="notLoggedIn",e[e.loggedIn=1]="loggedIn"}(l||(t.AuthStatus=l={})),t.SessionActions=h,function(e){e.ac="ac",e.af="af",e.ah="ah",e.al="al",e.am="am",e.ar="ar",e.as="as"}(h||(t.SessionActions=h={})),t.SessionAutomatedEvents=f,function(e){e.pv="pv"}(f||(t.SessionAutomatedEvents=f={})),t.SessionRank=d,function(e){e.xs="xs",e.s="s",e.m="m",e.l="l",e.xl="xl",e.xxl="xxl"}(d||(t.SessionRank=d={}))},92892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r=o.AnalyticsEventImportance.low){const s=(0,n.useRef)(t);return(0,n.useEffect)((()=>{s.current=t}),[t]),(0,n.useCallback)((t=>{(0,i.logEvent)(e,a(a({},s.current),t),r)}),[e,r])};var n=r(67294),i=r(2673),o=r(93002);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},24660:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.useEffect)((()=>{const r=a(a({},t),{},{action:o.ActionType.render});(0,i.logEvent)(e,r)}),[])};var n=r(67294),i=r(2673),o=r(93002);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},59490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiFetch=void 0;var n=r(28929),i=r(37507),o=r(93002),s=r(88581);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l="application/x-www-form-urlencoded; charset=UTF-8";t.apiFetch=e=>{const{data:t,importance:r,isJSON:a,onError:c,url:h}=e,f=a?"application/json":l,d=r||o.AnalyticsEventImportance.low,p=a?JSON.stringify(t):new URLSearchParams(t).toString();if(!(0,s.isWebPlatform)()||a||!("sendBeacon"in navigator)||d!==o.AnalyticsEventImportance.low||n.config.headers&&0!==Object.keys(n.config.headers).length)if((0,s.isWebPlatform)()&&!a){const e=new XMLHttpRequest;e.open("POST",h,!0),Object.keys(n.config.headers).forEach((t=>{e.setRequestHeader(t,n.config.headers[t])})),e.setRequestHeader("Content-Type",l),i.identity.jwt&&e.setRequestHeader("authorization",`Bearer ${i.identity.jwt}`),e.send(p)}else{const e=u(u({},n.config.headers),{},{"Content-Type":f});i.identity.jwt&&(e.Authorization=`Bearer ${i.identity.jwt}`),fetch(h,{method:"POST",mode:"no-cors",headers:e,body:p}).catch((e=>{c(e,{context:"AnalyticsSDKApiError"})}))}else{const e=new Blob([p],{type:l});navigator.sendBeacon(h,e)}}},6969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChecksum=t.AMPLITUDE_API_VERSION=void 0;var n,i=(n=r(68762))&&n.__esModule?n:{default:n};t.AMPLITUDE_API_VERSION="2";t.getChecksum=(e,t,r)=>{const n=e||"";return(0,i.default)("2"+n+t+r)}},46442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debugLog=t.debugBatch=t.debugOptions=void 0;var n=r(28929),i=r(76902);const o={color:"rgb(5,177,105)",fontSize:11};t.debugOptions=o;t.debugBatch=e=>{const{metricName:t,data:r}=e;if(!n.config.showDebugLogging||!console)return;const s=`%c ${i.DEBUG_LOGGING_PREFIX}`,a=`color:${o.color};font-size:${o.fontSize}px;`;console.group(s,a,t),r.forEach((e=>{e.event_type?console.log(e.event_type,e):console.log(e)})),console.groupEnd()};t.debugLog=e=>{const{metricName:t,data:r}=e;if(!n.config.showDebugLogging||!console)return;const s=`color:${o.color};font-size:${o.fontSize}px;`,a=`%c ${i.DEBUG_LOGGING_PREFIX}`;console.log(a,s,t,r)}},57436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAnalyticsHeaders=void 0;var n=r(28929),i=r(72228),o=r(11045);t.getAnalyticsHeaders=()=>({"X-CB-Platform":n.config.platform,"X-CB-Pagekey":i.location.pageKey||"unknown","X-CB-Session-UUID":o.persistentData.sessionUUID||"unknown"})},99777:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentReferrer=void 0;t.getDocumentReferrer=()=>{var e,t;return null!==(e=null===(t=document)||void 0===t?void 0:t.referrer)&&void 0!==e?e:""}},36070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.idbSet=t.idbGet=t.initIDB=void 0;var n=r(28898),i=r(28929),o=r(76902),s=r(26355),a=r(88581);const u={};t.initIDB=()=>{var e;if((0,a.isWebPlatform)()&&null!==(e=window)&&void 0!==e&&e.indexedDB){const e=(0,n.openDB)(o.DB_NAME,1,{upgrade(e){e.createObjectStore("keyval")}});(0,s.setDB)({idbKeyval:{get:async t=>(await e).get("keyval",t),set:async(t,r)=>(await e).put("keyval",r,t),delete:async t=>(await e).delete("keyval",t),keys:async()=>(await e).getAllKeys("keyval")}})}else(0,s.setDB)({idbKeyval:{get:async e=>new Promise((t=>{t(u[e])})),set:async(e,t)=>new Promise((()=>{u[e]=t})),delete:async e=>new Promise((()=>{delete u[e]})),keys:async()=>new Promise((e=>{e(Object.keys(u))}))}})};t.idbGet=async()=>{if(!s.db.idbKeyval)return Promise.resolve(null);try{return await s.db.idbKeyval.get(o.DB_ITEM)}catch(e){return i.config.onError(new Error("IndexedDB:Get:InternalError")),Promise.resolve(null)}};t.idbSet=e=>{if(s.db.idbKeyval)try{s.db.idbKeyval.set(o.DB_ITEM,e)}catch(e){i.config.onError(new Error("IndexedDB:Set:InternalError"))}}},88581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebPlatform=t.isMobileWeb=t.isIOSPlatform=t.isAndroidPlatform=void 0;var n=r(28929);t.isAndroidPlatform=()=>"android"===n.config.platform;t.isIOSPlatform=()=>"ios"===n.config.platform;t.isMobileWeb=()=>window.matchMedia("(max-width: 430px)").matches;t.isWebPlatform=()=>["web","mobile_web"].includes(n.config.platform)},14820:(e,t)=>{"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.safelyJsonStringifyDomEvent=t.DomReferenceInAnalyticsEventError=t.CircularJsonReferenceError=void 0;class o extends Error{constructor(e){super(e),i(this,"name","CircularJsonReference"),this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}t.CircularJsonReferenceError=o;t.DomReferenceInAnalyticsEventError=class extends o{constructor(...e){super(...e),i(this,"name","DomReferenceInAnalyticsEvent")}};t.safelyJsonStringifyDomEvent=e=>{try{const r=[];for(const i of e){const e=Object.assign({},i);i.event_properties&&(e.event_properties=n(n({},e.event_properties),{},{currentTarget:null,target:null,relatedTarget:null,_dispatchInstances:null,_targetInst:null,view:(t=i.event_properties.view,["string","number","boolean"].includes(typeof t)?i.event_properties.view:null)})),r.push(e)}return[!0,JSON.stringify(r)]}catch(e){return[!1,""]}var t}},87867:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUserAttributionEnrichment=t.setPrevPagePath=t.setPagePath=t.setPageKey=t.getUrlPathname=t.getUrlParams=t.getUrlHostname=t.setUAAValues=t.getUserAcquisitionAttribution=t.getReferrerData=void 0;var n=r(76902),i=r(72228),o=r(99777),s=r(88581);const a=()=>{const e=(0,o.getDocumentReferrer)();if(!e)return{};const t=new URL(e);return t.hostname===l()?{}:{referrer:e,referring_domain:t.hostname}};t.getReferrerData=a;const u=()=>{if(!(0,s.isWebPlatform)())return i.location.initialUAAData;if(Object.keys(i.location.initialUAAData).length>0)return i.location.initialUAAData;const e=new URLSearchParams(h()),t=c(e);return i.location.initialUAAData=Object.assign({},t,a()),i.location.initialUAAData};t.getUserAcquisitionAttribution=u;const c=e=>{const t={};return n.UAA_QUERIES.forEach((r=>{e.has(r)&&(t[r]=(e.get(r)||"").toLowerCase())})),t};t.setUAAValues=c;const l=()=>{var e,t;return(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.hostname)||""};t.getUrlHostname=l;const h=()=>{var e,t;return(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.search)||""};t.getUrlParams=h;const f=()=>{var e,t;return(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)||""};t.getUrlPathname=f;const d=()=>{i.location.pageKeyRegex&&Object.keys(i.location.pageKeyRegex).some((e=>{if(i.location.pageKeyRegex[e].test(i.location.pagePath))return i.location.pageKey=e,!0}))};t.setPageKey=d;t.setPagePath=()=>{const e=f()+h();e&&e!==i.location.pagePath&&(e!==i.location.pagePath&&p(),i.location.pagePath=e,d())};const p=()=>{if((0,s.isWebPlatform)()){const e=(0,o.getDocumentReferrer)();if(!i.location.prevPagePath&&e){const t=new URL(e);if(t.hostname===l())return void(i.location.prevPagePath=t.pathname)}}i.location.prevPagePath=i.location.pagePath,i.location.prevPageKey=i.location.pageKey};t.setPrevPagePath=p;t.setUserAttributionEnrichment=e=>{(0,s.isWebPlatform)()&&Object.assign(e,u())}},14712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onResizeWithRAF=void 0;t.onResizeWithRAF=e=>{addEventListener("resize",(()=>{requestAnimationFrame((()=>{e()}))}))}},79046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onVisibilityChange=void 0;let r=!1,n=!1;const i=e=>{r=!e.persisted};t.onVisibilityChange=(e,t="hidden",o=!1)=>{n||(addEventListener("pagehide",i),addEventListener("beforeunload",(()=>{})),n=!0),addEventListener("visibilitychange",(({timeStamp:n})=>{document.visibilityState===t&&e({timeStamp:n,isUnloading:r})}),{capture:!0,once:o})}},75568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initPerfMonitoring=t.getPerfumeOptions=void 0;var n=r(28929),i=r(76902),o=r(2673),s=r(72228),a=r(93002),u=r(88581);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let f={};const d=()=>({analyticsTracker:e=>{const{data:t,eventProperties:r,metricName:n,navigatorInformation:u,vitalsScore:c}=e,h=i.PERF_EVENTS[n];if(!h)return;const d=(null==u?void 0:u.deviceMemory)||0,p=(null==u?void 0:u.hardwareConcurrency)||0,m=(null==u?void 0:u.isLowEndDevice)||!1,g=(null==u?void 0:u.isLowEndExperience)||!1,v=(null==u?void 0:u.serviceWorkerStatus)||"unsupported",y=l({deviceMemory:d,hardwareConcurrency:p,isLowEndDevice:m,isLowEndExperience:g,serviceWorkerStatus:v},f),b={device_memory:d,hardware_concurrency:p,is_low_end_device:m,is_low_end_experience:g,page_key:s.location.pageKey||"",service_worker:v};if("ttfb"===n)(0,o.logEvent)(h.eventName,l({action:a.ActionType.measurement,componentType:a.ComponentType.page,loggingId:i.PERF_EVENTS[n].loggingId,duration:t||null,vitalsScore:c||null},y)),(0,o.logMetric)({metricName:i.PERF_EVENTS.ttfb.eventName,metricType:a.MetricType.histogram,tags:l({},b),value:t}),c&&(0,o.logMetric)({metricName:`perf_web_vitals_ttfb_${c}`,metricType:a.MetricType.count,tags:l({},b),value:1});else if("networkInformation"===n)t&&t.effectiveType&&(f=t,(0,o.logEvent)(h.eventName,{action:a.ActionType.measurement,componentType:a.ComponentType.page,loggingId:i.PERF_EVENTS.networkInformation.loggingId,networkInformationDownlink:t.downlink,networkInformationEffectiveType:t.effectiveType,networkInformationRtt:t.rtt,networkInformationSaveData:t.saveData,navigatorDeviceMemory:d,navigatorHardwareConcurrency:p}));else if("storageEstimate"===n)(0,o.logEvent)(h.eventName,l(l({action:a.ActionType.measurement,componentType:a.ComponentType.page,loggingId:i.PERF_EVENTS.storageEstimate.loggingId},t),y)),(0,o.logMetric)({metricName:"perf_storage_estimate_caches",metricType:a.MetricType.histogram,tags:l({},b),value:t.caches}),(0,o.logMetric)({metricName:"perf_storage_estimate_indexed_db",metricType:a.MetricType.histogram,tags:l({},b),value:t.indexedDB});else if("cls"===n)(0,o.logEvent)(h.eventName,l({action:a.ActionType.measurement,componentType:a.ComponentType.page,loggingId:i.PERF_EVENTS[n].loggingId,score:100*t||null,vitalsScore:c||null},y)),c&&(0,o.logMetric)({metricName:`perf_web_vitals_cls_${c}`,metricType:a.MetricType.count,tags:l({},b),value:1});else if("fid"===n){const e=(null==r?void 0:r.performanceEntry)||null,s=parseInt((null==e?void 0:e.processingStart)||"");(0,o.logEvent)(h.eventName,l({action:a.ActionType.measurement,componentType:a.ComponentType.page,duration:t||null,loggingId:i.PERF_EVENTS[n].loggingId,processingStart:null!=e&&e.processingStart?s:null,startTime:null!=e&&e.startTime?parseInt(e.startTime):null,vitalsScore:c||null},y)),c&&(0,o.logMetric)({metricName:`perf_web_vitals_fidVitals_${c}`,metricType:a.MetricType.count,tags:l({},b),value:1})}else i.PERF_EVENTS[n]&&((0,o.logEvent)(h.eventName,l({action:a.ActionType.measurement,componentType:a.ComponentType.page,loggingId:i.PERF_EVENTS[n].loggingId,duration:t||null,vitalsScore:c||null},y)),c&&(0,o.logMetric)({metricName:`perf_web_vitals_${n}_${c}`,metricType:a.MetricType.count,tags:l({},b),value:1}))},maxMeasureTime:3e4});t.getPerfumeOptions=d;t.initPerfMonitoring=()=>{if((0,u.isWebPlatform)())try{new(0,r(26002).Z)(d())}catch(e){return void n.config.onError(e)}}},75467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareEventsData=t.prepareEventData=void 0;var n=r(28929),i=r(76902),o=r(37507),s=r(54876),a=r(6496),u=r(11045),c=r(55962);const l=e=>{(0,c.setSessionQualityEnrichment)(e);const t=e.event_type;delete e.event_type;const r=e.deviceId?e.deviceId:null,l=e.timestamp;return delete e.timestamp,(0,s.incrementEventId)(),(0,s.incrementSequenceNumber)(),(0,a.setSessionStart)(),(0,s.savePersistentData)(),{device_id:o.identity.deviceId||r||null,user_id:o.identity.userId,timestamp:l,event_id:u.persistentData.eventId,session_id:u.persistentData.sessionId||-1,event_type:t,version_name:n.config.version||null,platform:o.device.amplitudePlatform,os_name:o.device.amplitudeOSName,os_version:o.device.amplitudeOSVersion,device_model:o.device.amplitudeDeviceModel,language:o.identity.languageCode,event_properties:e,user_properties:(0,o.getUserProperties)(),uuid:(0,o.generateUUID)(),library:{name:"@cbhq/cca",version:i.ANALYTICS_SDK_VERSION},sequence_number:u.persistentData.sequenceNumber,user_agent:o.device.userAgent}};t.prepareEventData=l;t.prepareEventsData=e=>e.map((e=>l(e)))},98720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareMetricsData=t.prepareMetricData=void 0;var n=r(28929),i=r(37507);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=e=>{const t=e.tags||{};return{metric_name:e.metricName,page_path:e.pagePath||null,value:e.value,tags:s(s({authed:(0,i.getIsAuthed)()?"true":"false",platform:n.config.platform,locale:i.identity.locale||"unknown"},t),{},{project_name:n.config.projectName,version_name:n.config.version||null}),type:e.metricType}};t.prepareMetricData=u;t.prepareMetricsData=e=>e.map((e=>u(e)))},99898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleEvent=t.isBatchMetricsReady=t.isBatchEventsReady=void 0;var n=r(28929),i=r(59016),o=r(88581),s=r(75467),a=r(98720);t.isBatchEventsReady=e=>0!==i.scheduler.eventsQueue.length&&(i.scheduler.eventsQueue.length>=n.config.batchEventsThreshold||(i.scheduler.eventsScheduled||(i.scheduler.eventsScheduled=!0,setTimeout((()=>{i.scheduler.eventsScheduled=!1,e((0,s.prepareEventsData)(i.scheduler.eventsQueue)),i.scheduler.eventsQueue=[]}),n.config.batchEventsPeriod)),!1));t.isBatchMetricsReady=e=>0!==i.scheduler.metricsQueue.length&&(i.scheduler.metricsQueue.length>=n.config.batchMetricsThreshold||(i.scheduler.metricsScheduled||(i.scheduler.metricsScheduled=!0,setTimeout((()=>{i.scheduler.metricsScheduled=!1,e((0,a.prepareMetricsData)(i.scheduler.metricsQueue)),i.scheduler.metricsQueue=[]}),n.config.batchMetricsPeriod)),!1));t.scheduleEvent=e=>{var t;(0,o.isWebPlatform)()&&null!==(t=window)&&void 0!==t&&t.requestIdleCallback?window.requestIdleCallback(e,{timeout:n.config.ricTimeoutScheduleEvent}):((0,o.isAndroidPlatform)()||(0,o.isIOSPlatform)())&&n.config.interactionManager?n.config.interactionManager.runAfterInteractions(e):e()}},41420:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendScheduledEvents=t.sendEvents=t.queueEvents=void 0;var n=r(28929),i=r(76902),o=r(37507),s=r(26355),a=r(59016),u=r(93002),c=r(59490),l=r(6969),h=r(46442),f=r(14820),d=r(75467),p=r(99898),m=r(51371);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.queueEvents=(e,t=u.AnalyticsEventImportance.low)=>{e&&a.scheduler.eventsQueue.push(e),s.db.isReady&&(!n.config.trackUserId||o.identity.userId?(t===u.AnalyticsEventImportance.high||(0,p.isBatchEventsReady)(b))&&w():a.scheduler.eventsQueue.length>i.MAX_EVENT_DATA_QUEUE_LIMIT&&(n.config.trackUserId=!1,n.config.onError(new Error("userId not set in Logged-in"))))};const b=(e,t=u.AnalyticsEventImportance.low)=>{if(o.identity.isOptOut||0===e.length)return;let r;try{r=JSON.stringify(e)}catch(t){const i=e.map((e=>e.event_type)).join(", "),[o,s]=(0,f.safelyJsonStringifyDomEvent)(e);if(!o)return void n.config.onError(new f.CircularJsonReferenceError(t.message),{listEventType:i});r=s,n.config.onError(new f.DomReferenceInAnalyticsEventError("Found DOM element reference"),{listEventType:i,stringifiedEventData:r})}const s=(0,m.getNow)().toString(),a=v(v({},{e:r,v:l.AMPLITUDE_API_VERSION,upload_time:s}),{},{client:n.config.amplitudeApiKey,checksum:(0,l.getChecksum)(n.config.amplitudeApiKey,r,s)}),d=n.config.isProd?i.ANALYTICS_SERVICE_API_ENDPOINT:i.ANALYTICS_SERVICE_API_ENDPOINT_DEV;(0,c.apiFetch)({url:`https://${d}`,data:a,importance:t,onError:n.config.onError}),(0,h.debugBatch)({metricName:"Batch Events",data:e})};t.sendEvents=b;const w=()=>{b((0,d.prepareEventsData)(a.scheduler.eventsQueue)),(0,a.setScheduler)({eventsQueue:[]})};t.sendScheduledEvents=w},42004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postMessage=void 0;var n=r(28929),i=r(88581);t.postMessage=e=>{if((0,i.isWebPlatform)()&&navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.controller)try{navigator.serviceWorker.controller.postMessage(e)}catch(e){n.config.onError(e)}}},55962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionQualityEnrichment=t.setSessionQualityScore=t.setSessionQuality=t.recordSessionAction=t.getSessionRank=t.SESSION_DURATION_WEIGHT=t.SESSION_DURATION_RANK=t.SESSION_AUTOMATED_EVENTS_WEIGHT=t.ACTIONS_WEIGHT=t.sessionQuality=void 0;var n=r(76902),i=r(93002);const o={ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0};t.sessionQuality=o;const s={ac:20,af:5,ah:1,al:1,am:0,ar:10,as:20};t.ACTIONS_WEIGHT=s;const a={pv:25};t.SESSION_AUTOMATED_EVENTS_WEIGHT=a;const u={xs:0,s:15,m:60,l:240,xl:960,xxl:3840};t.SESSION_DURATION_RANK=u;const c={xs:0,s:1,m:1,l:2,xl:2,xxl:2};t.SESSION_DURATION_WEIGHT=c;t.getSessionRank=e=>e<u.s?i.SessionRank.xs:e<u.m?i.SessionRank.s:e<u.l?i.SessionRank.m:e<u.xl?i.SessionRank.l:e<u.xxl?i.SessionRank.xl:i.SessionRank.xxl;const l=e=>{switch(e.action){case i.ActionType.click:o.ac+=1;break;case i.ActionType.focus:o.af+=1;break;case i.ActionType.hover:o.ah+=1;break;case i.ActionType.move:o.am+=1;break;case i.ActionType.scroll:o.al+=1;break;case i.ActionType.search:o.ar+=1;break;case i.ActionType.select:o.as+=1}};t.recordSessionAction=l;const h=e=>{Object.assign(o,e)};t.setSessionQuality=h;const f=e=>{if(!e.session_rank)return;const t=e.session_rank;Object.values(i.SessionActions).forEach((e=>{o.sqs+=o[e]*s[e]})),Object.values(i.SessionAutomatedEvents).forEach((e=>{o.sqs+=o[e]*a[e]})),o.sqs=o.sqs*c[t]};t.setSessionQualityScore=f;t.setSessionQualityEnrichment=e=>{l(e),e.logging_id!==n.PAGEVIEW_LOGGING_ID?e.logging_id===n.SESSION_DURATION_LOGGING_ID&&(f(e),Object.assign(e,o),h({ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0})):o.pv+=1}},51371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTime=t.timeStone=t.getNow=void 0;const r=()=>(new Date).getTime();t.getNow=r;const n={timeStart:r(),timeOnPagePath:0,timeOnPageKey:0,prevTimeOnPagePath:0,prevTimeOnPageKey:0,sessionDuration:0,sessionEnd:0,sessionStart:0,prevSessionDuration:0};t.timeStone=n;t.setTime=e=>{Object.assign(n,e)}},394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getValidatedEvent=t.getValidatedProperties=t.getPlatformValue=t.getComponentTypeValue=t.getActionValue=t.COMPONENT_TYPE_OPTIONS=t.ACTION_OPTIONS=void 0;var n=r(28929),i=r(37507),o=r(11045),s=r(93002),a=r(88581),u=r(51371);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=Object.values(s.ActionType);t.ACTION_OPTIONS=f;const d=Object.values(s.ComponentType);t.COMPONENT_TYPE_OPTIONS=d;const p=e=>f.includes(e)?e:s.ActionType.unknown;t.getActionValue=p;const m=e=>d.includes(e)?e:s.ComponentType.unknown;t.getComponentTypeValue=m;t.getPlatformValue=()=>{const{platform:e=s.PlatformName.unknown}=n.config;return e===s.PlatformName.web&&(0,a.isMobileWeb)()?s.PlatformName.mobile_web:e};const g=(e,t,r)=>{const o={auth:(0,i.getIsAuthed)()?s.AuthStatus.loggedIn:s.AuthStatus.notLoggedIn,action:p(e),component_type:m(t),logging_id:"string"==typeof r?r:null,platform:n.config.platform,project_name:n.config.projectName};return"number"==typeof i.identity.userTypeEnum&&(o.user_type_enum=i.identity.userTypeEnum),o};t.getValidatedProperties=g;t.getValidatedEvent=e=>{const t=(0,u.getNow)();if(!e)return n.config.onError(new Error("missing logData")),l(l({},g(s.ActionType.unknown,s.ComponentType.unknown,null)),{},{locale:i.identity.locale,session_uuid:o.persistentData.sessionUUID,timestamp:t,time_start:u.timeStone.timeStart});const r=l(l(l({},e),g(e.action,e.componentType,e.loggingId)),{},{locale:i.identity.locale,session_uuid:o.persistentData.sessionUUID,timestamp:t,time_start:u.timeStone.timeStart});return delete r.componentType,delete r.loggingId,r}},72408:(e,t,r)=>{"use strict";var n=r(37320),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function v(){}function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,n(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var n,o={},s=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,n)&&!_.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var P=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,r,n,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return s=s(u=e),e=""===n?"."+I(u,0):n,Array.isArray(s)?(r="",null!=e&&(r=e.replace(P,"$&/")+"/"),O(s,t,r,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+e)),t.push(s)),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+I(a=e[c],c);u+=O(a,t,r,l,s)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)u+=O(a=a.value,t,r,l=n+I(a,c++),s);else if("object"===a)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,r){if(null==e)return e;var n=[],i=0;return O(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var k={current:null};function x(){var e=k.current;if(null===e)throw Error(d(321));return e}var N={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null==e)throw Error(d(267,e));var o=n({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return x().useCallback(e,t)},t.useContext=function(e,t){return x().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return x().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return x().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},t.useMemo=function(e,t){return x().useMemo(e,t)},t.useReducer=function(e,t,r){return x().useReducer(e,t,r)},t.useRef=function(e){return x().useRef(e)},t.useState=function(e){return x().useState(e)},t.version="17.0.2"},67294:(e,t,r)=>{"use strict";e.exports=r(72408)},95766:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},48834:(e,t,r)=>{"use strict";var n=r(95766),i=r(62333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|m(e,t),n=a(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);var i=function(e){if(u.isBuffer(e)){var t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||V(e.length)?a(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),a(e<0?0:0|p(e))}function f(e){for(var t=e.length<0?0:0|p(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(i)return n?-1:B(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),V(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function w(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(V(a))return s;e[r+s]=a}return s}function E(e,t,r,n){return q(B(t,e.length-r),e,r,n)}function _(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function M(e,t,r,n){return q(L(t),e,r,n)}function S(e,t,r,n){return q(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(W(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(W(o,Uint8Array))i+o.length>n.length?u.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(W(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),h=0;h<a;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":case"latin1":case"binary":return _(this,e,t,r);case"base64":return M(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=F[e[o]];return i}function x(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(e,t,r,n,o){return t=+t,r>>>=0,o||D(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,o){return t=+t,r>>>=0,o||D(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=u.isBuffer(e)?e:u.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var U=/[^+/0-9A-Za-z-_]/g;function B(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function L(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}var F=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},5792:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},19562:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?r.push(t.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}},e.exports=r},28898:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteDB:()=>g,openDB:()=>m,unwrap:()=>p,wrap:()=>d});let n,i;const o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap;let l={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||a.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return d(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(p(this),t),d(o.get(this))}:function(...t){return d(e.apply(p(this),t))}:function(t,...r){const n=e.call(p(this),t,...r);return a.set(n,t.sort?t.sort():[t]),d(n)}}function f(e){return"function"==typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));s.set(e,t)}(e),t=e,(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,l):e);var t}function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(d(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),c.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=f(e);return t!==e&&(u.set(e,t),c.set(t,e)),t}const p=e=>c.get(e);function m(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=d(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(d(s.result),e.oldVersion,e.newVersion,d(s.transaction))})),r&&s.addEventListener("blocked",(()=>r())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}function g(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(()=>t())),d(r).then((()=>{}))}const v=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],b=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(b.get(t))return b.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=y.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(r))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&o.done]))[0]};return b.set(t,o),o}l=(e=>({...e,get:(t,r,n)=>w(t,r)||e.get(t,r,n),has:(t,r)=>!!w(t,r)||e.has(t,r)}))(l)},62333:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=p,s/=256,c-=8);e[r+d-p]|=128*m}},13335:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},68762:(e,t,r)=>{var n,i,o,s,a;n=r(19562),i=r(5792).utf8,o=r(13335),s=r(5792).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,h=-1732584194,f=271733878,d=0;d<r.length;d++)r[d]=16711935&(r[d]<<8|r[d]>>>24)|4278255360&(r[d]<<24|r[d]>>>8);r[u>>>5]|=128<<u%32,r[14+(u+64>>>9<<4)]=u;var p=a._ff,m=a._gg,g=a._hh,v=a._ii;for(d=0;d<r.length;d+=16){var y=c,b=l,w=h,E=f;c=p(c,l,h,f,r[d+0],7,-680876936),f=p(f,c,l,h,r[d+1],12,-389564586),h=p(h,f,c,l,r[d+2],17,606105819),l=p(l,h,f,c,r[d+3],22,-1044525330),c=p(c,l,h,f,r[d+4],7,-176418897),f=p(f,c,l,h,r[d+5],12,1200080426),h=p(h,f,c,l,r[d+6],17,-1473231341),l=p(l,h,f,c,r[d+7],22,-45705983),c=p(c,l,h,f,r[d+8],7,1770035416),f=p(f,c,l,h,r[d+9],12,-1958414417),h=p(h,f,c,l,r[d+10],17,-42063),l=p(l,h,f,c,r[d+11],22,-1990404162),c=p(c,l,h,f,r[d+12],7,1804603682),f=p(f,c,l,h,r[d+13],12,-40341101),h=p(h,f,c,l,r[d+14],17,-1502002290),c=m(c,l=p(l,h,f,c,r[d+15],22,1236535329),h,f,r[d+1],5,-165796510),f=m(f,c,l,h,r[d+6],9,-1069501632),h=m(h,f,c,l,r[d+11],14,643717713),l=m(l,h,f,c,r[d+0],20,-373897302),c=m(c,l,h,f,r[d+5],5,-701558691),f=m(f,c,l,h,r[d+10],9,38016083),h=m(h,f,c,l,r[d+15],14,-660478335),l=m(l,h,f,c,r[d+4],20,-405537848),c=m(c,l,h,f,r[d+9],5,568446438),f=m(f,c,l,h,r[d+14],9,-1019803690),h=m(h,f,c,l,r[d+3],14,-187363961),l=m(l,h,f,c,r[d+8],20,1163531501),c=m(c,l,h,f,r[d+13],5,-1444681467),f=m(f,c,l,h,r[d+2],9,-51403784),h=m(h,f,c,l,r[d+7],14,1735328473),c=g(c,l=m(l,h,f,c,r[d+12],20,-1926607734),h,f,r[d+5],4,-378558),f=g(f,c,l,h,r[d+8],11,-2022574463),h=g(h,f,c,l,r[d+11],16,1839030562),l=g(l,h,f,c,r[d+14],23,-35309556),c=g(c,l,h,f,r[d+1],4,-1530992060),f=g(f,c,l,h,r[d+4],11,1272893353),h=g(h,f,c,l,r[d+7],16,-155497632),l=g(l,h,f,c,r[d+10],23,-1094730640),c=g(c,l,h,f,r[d+13],4,681279174),f=g(f,c,l,h,r[d+0],11,-358537222),h=g(h,f,c,l,r[d+3],16,-722521979),l=g(l,h,f,c,r[d+6],23,76029189),c=g(c,l,h,f,r[d+9],4,-640364487),f=g(f,c,l,h,r[d+12],11,-421815835),h=g(h,f,c,l,r[d+15],16,530742520),c=v(c,l=g(l,h,f,c,r[d+2],23,-995338651),h,f,r[d+0],6,-198630844),f=v(f,c,l,h,r[d+7],10,1126891415),h=v(h,f,c,l,r[d+14],15,-1416354905),l=v(l,h,f,c,r[d+5],21,-57434055),c=v(c,l,h,f,r[d+12],6,1700485571),f=v(f,c,l,h,r[d+3],10,-1894986606),h=v(h,f,c,l,r[d+10],15,-1051523),l=v(l,h,f,c,r[d+1],21,-2054922799),c=v(c,l,h,f,r[d+8],6,1873313359),f=v(f,c,l,h,r[d+15],10,-30611744),h=v(h,f,c,l,r[d+6],15,-1560198380),l=v(l,h,f,c,r[d+13],21,1309151649),c=v(c,l,h,f,r[d+4],6,-145523070),f=v(f,c,l,h,r[d+11],10,-1120210379),h=v(h,f,c,l,r[d+2],15,718787259),l=v(l,h,f,c,r[d+9],21,-343485551),c=c+y>>>0,l=l+b>>>0,h=h+w>>>0,f=f+E>>>0}return n.endian([c,l,h,f])})._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?s.bytesToString(r):n.bytesToHex(r)}},37320:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,u=i(e),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))r.call(s,l)&&(u[l]=s[l]);if(t){a=t(s);for(var h=0;h<a.length;h++)n.call(s,a[h])&&(u[a[h]]=s[a[h]])}}return u}},26002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>$});var n={t:!1,i:!1,o:3e4},i=window,o=i.console,s=document,a=i.navigator,u=i.performance,c=function(){return a.deviceMemory},l=function(){return a.hardwareConcurrency},h=function(){return u&&!!u.getEntriesByType&&!!u.now&&!!u.mark},f="4g",d=!1,p=function(){return!!(l()&&l()<=4)||!!(c()&&c()<=4)},m=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return p()||t}},g={u:!1},v=function(e){s.hidden&&(e(),g.u=s.hidden)},y=function(e){return parseFloat(e.toFixed(4))},b=function(e){return"number"!=typeof e?null:y(e/Math.pow(1024,2))},w=[2e3,4e3],E=[2500,4e3],_=[.1,.25],M={ttfb:[200,500],fp:w,fcp:w,lcp:E,lcpFinal:E,fid:[100,300],cls:_,clsFinal:_,tbt:[300,600]},S=function(e,t){return M[e]?t<=M[e][0]?"good":t<=M[e][1]?"needsImprovement":"poor":null},P=function(e,t,r){var o;o=function(){g.u&&e.indexOf("Final")<0||!n.analyticsTracker||n.analyticsTracker({metricName:e,data:t,eventProperties:r||{},navigatorInformation:a?{deviceMemory:c()||0,hardwareConcurrency:l()||0,serviceWorkerStatus:"serviceWorker"in a?a.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:p(),isLowEndExperience:m(f,d)}:{},vitalsScore:S(e,t)})},"requestIdleCallback"in i?i.requestIdleCallback(o,{timeout:3e3}):o()},I=function(e,t,r){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=y(t[e]))})),P(e,t,r)},O=function(e,t,r){var i=y(e);i<=n.o&&i>=0&&P(t,i,r)},A={},T={value:0},k={value:0},x={value:0},N={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},R={value:0},D=function(e){var t=e.pop();t&&!t.s&&t.value&&(T.value+=t.value)},C={},j=function(e,t){try{var r=new PerformanceObserver((function(e){t(e.getEntries())}));return r.observe({type:e,buffered:!0}),r}catch(e){o.warn("Perfume.js:",e)}return null},U=function(e){C[e]&&C[e].disconnect(),delete C[e]},B=function(e){var t=e.pop();t&&O(t.processingStart-t.startTime,"fid",{performanceEntry:t}),U(1),O(x.value,"lcp"),C[3]&&"function"==typeof C[3].takeRecords&&C[3].takeRecords(),O(T.value,"cls"),setTimeout((function(){O(R.value,"tbt"),I("dataConsumption",N.value)}),1e4)},L=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<k.value)){var t=e.duration-50;t>0&&(R.value+=t)}}))},q=function(e){e.forEach((function(e){"first-paint"===e.name?O(e.startTime,"fp"):"first-contentful-paint"===e.name&&(k.value=e.startTime,O(k.value,"fcp"),C[4]=j("longtask",L),U(0))}))},W=function(e){var t=e.pop();t&&(x.value=t.renderTime||t.loadTime)},V=function(e){e.forEach((function(e){e.identifier&&O(e.startTime,e.identifier)}))},F=function(e){e.forEach((function(e){if(n.t&&I("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;N.value[e.initiatorType]+=t,N.value.total+=t}}))},Q=function(){C[2]&&(O(x.value,"lcpFinal"),U(2)),C[3]&&("function"==typeof C[3].takeRecords&&C[3].takeRecords(),O(T.value,"clsFinal"),U(3))},z=function(e){var t="usageDetails"in e?e.usageDetails:{};I("storageEstimate",{quota:b(e.quota),usage:b(e.usage),caches:b(t.caches),indexedDB:b(t.indexedDB),serviceWorker:b(t.serviceWorkerRegistrations)})},H=function(){function e(e){if(void 0===e&&(e={}),this.l="6.2.0",n.analyticsTracker=e.analyticsTracker,n.t=!!e.resourceTiming,n.i=!!e.elementTiming,n.o=e.maxMeasureTime||n.o,h()){"PerformanceObserver"in i&&(C[0]=j("paint",q),C[1]=j("first-input",B),C[2]=j("largest-contentful-paint",W),n.t&&j("resource",F),C[3]=j("layout-shift",D),n.i&&j("element",V)),void 0!==s.hidden&&s.addEventListener("visibilitychange",v.bind(this,Q));var t=function(){if(!h())return{};var e=u.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,r=e.responseEnd;return{fetchTime:r-e.fetchStart,workerTime:e.workerStart>0?r-e.workerStart:0,totalTime:r-e.requestStart,downloadTime:r-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();I("navigationTiming",t),t.timeToFirstByte&&O(t.timeToFirstByte,"ttfb"),I("networkInformation",function(){if("connection"in a){var e=a.connection;return"object"!=typeof e?{}:(f=e.effectiveType,d=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),a&&a.storage&&"function"==typeof a.storage.estimate&&a.storage.estimate().then(z)}}return e.prototype.start=function(e){h()&&!A[e]&&(A[e]=!0,u.mark("mark_"+e+"_start"),g.u=!1)},e.prototype.end=function(e,t){void 0===t&&(t={}),h()&&A[e]&&(u.mark("mark_"+e+"_end"),delete A[e],I(e,y(function(e){u.measure(e,"mark_"+e+"_start","mark_"+e+"_end");var t=u.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e)),t))},e.prototype.endPaint=function(e,t){var r=this;setTimeout((function(){r.end(e,t)}))},e.prototype.clear=function(e){delete A[e],u.clearMarks&&(u.clearMarks("mark_"+e+"_start"),u.clearMarks("mark_"+e+"_end"))},e}();const $=H},46353:function(e,t,r){var n;!function(i,o){"use strict";var s="function",a="undefined",u="object",c="string",l="model",h="name",f="type",d="vendor",p="version",m="architecture",g="console",v="mobile",y="tablet",b="smarttv",w="wearable",E="embedded",_="Amazon",M="Apple",S="ASUS",P="BlackBerry",I="Firefox",O="Google",A="Huawei",T="LG",k="Microsoft",x="Motorola",N="Opera",R="Samsung",D="Sony",C="Xiaomi",j="Zebra",U="Facebook",B=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},L=function(e,t){return typeof e===c&&-1!==q(t).indexOf(q(e))},q=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,255)},V=function(e,t){for(var r,n,i,a,c,l,h=0;h<t.length&&!c;){var f=t[h],d=t[h+1];for(r=n=0;r<f.length&&!c;)if(c=f[r++].exec(e))for(i=0;i<d.length;i++)l=c[++n],typeof(a=d[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;h+=2}},F=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(L(t[r][n],e))return"?"===r?o:r}else if(L(t[r],e))return"?"===r?o:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,p],[/opios[\/ ]+([\w\.]+)/i],[p,[h,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[h,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[h,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[h,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[p,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[h,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[h,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[h,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[h,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[h,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[h,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,U],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[h,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[h,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[h,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[h,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[p,F,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[h,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,q]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",q]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[d,R],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[d,R],[f,v]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[d,M],[f,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[d,M],[f,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[d,A],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[d,A],[f,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[d,C],[f,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[d,C],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[d,"OPPO"],[f,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[d,"Vivo"],[f,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[d,"Realme"],[f,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[d,x],[f,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[d,x],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[d,T],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[d,T],[f,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[d,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[d,"Nokia"],[f,v]],[/(pixel c)\b/i],[l,[d,O],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[d,O],[f,v]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[d,D],[f,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[d,D],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[d,"OnePlus"],[f,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[d,_],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[d,_],[f,v]],[/(playbook);[-\w\),; ]+(rim)/i],[l,d,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[d,P],[f,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[d,S],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[d,S],[f,v]],[/(nexus 9)/i],[l,[d,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[l,/_/g," "],[f,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[d,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[d,"Meizu"],[f,v]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[d,"Sharp"],[f,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,l,[f,v]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,l,[f,y]],[/(surface duo)/i],[l,[d,k],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[d,"Fairphone"],[f,v]],[/(u304aa)/i],[l,[d,"AT&T"],[f,v]],[/\bsie-(\w*)/i],[l,[d,"Siemens"],[f,v]],[/\b(rct\w+) b/i],[l,[d,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[d,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[d,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[d,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[l,[d,"NuVision"],[f,y]],[/\b(k88) b/i],[l,[d,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[l,[d,"ZTE"],[f,v]],[/\b(gen\d{3}) b.+49h/i],[l,[d,"Swiss"],[f,v]],[/\b(zur\d{3}) b/i],[l,[d,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[l,[d,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],l,[f,y]],[/\b(ns-?\w{0,9}) b/i],[l,[d,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[d,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],l,[f,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],l,[f,v]],[/\b(ph-1) /i],[l,[d,"Essential"],[f,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[d,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[l,[d,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[l,[d,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[l,[d,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[d,l,[f,v]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[d,k],[f,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[d,j],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[d,j],[f,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,l,[f,g]],[/droid.+; (shield) bui/i],[l,[d,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[l,[d,D],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[d,k],[f,g]],[/smart-tv.+(samsung)/i],[d,[f,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[d,R],[f,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,T],[f,b]],[/(apple) ?tv/i],[d,[l,"Apple TV"],[f,b]],[/crkey/i],[[l,"Chromecast"],[d,O],[f,b]],[/droid.+aft(\w)( bui|\))/i],[l,[d,_],[f,b]],[/\(dtv[\);].+(aquos)/i],[l,[d,"Sharp"],[f,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,W],[l,W],[f,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,b]],[/((pebble))app/i],[d,l,[f,w]],[/droid.+; (glass) \d/i],[l,[d,O],[f,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[d,j],[f,w]],[/(quest( 2)?)/i],[l,[d,U],[f,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[f,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[f,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,v]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[h,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[p,F,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[p,F,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,p],[/\(bb(10);/i],[p,[h,P]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[h,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[h,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[h,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[h,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,p],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[h,p]]},H=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof H))return new H(e,t).getResult();var r=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(z,t):z;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,V.call(t,r,n.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,V.call(e,r,n.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,V.call(e,r,n.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,V.call(e,r,n.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,V.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>255?W(e,255):e,this},this.setUA(r),this};H.VERSION="0.7.31",H.BROWSER=B([h,p,"major"]),H.CPU=B([m]),H.DEVICE=B([l,d,f,g,v,b,y,w,E]),H.ENGINE=H.OS=B([h,p]),typeof t!==a?(e.exports&&(t=e.exports=H),t.UAParser=H):r.amdO?(n=function(){return H}.call(t,r,t,e))===o||(e.exports=n):typeof i!==a&&(i.UAParser=H);var $=typeof i!==a&&(i.jQuery||i.Zepto);if($&&!$.ua){var G=new H;$.ua=G.getResult(),$.ua.get=function(){return G.getUA()},$.ua.set=function(e){G.setUA(e);var t=G.getResult();for(var r in t)$.ua[r]=t[r]}}}("object"==typeof window?window:this)},99936:(e,t)=>{"use strict";t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest"}(t.Web3Method||(t.Web3Method={}))},10783:(e,t)=>{"use strict";function r(){return e=>e}Object.defineProperty(t,"__esModule",{value:!0}),t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0,t.OpaqueType=r,t.HexString=e=>e,t.AddressString=e=>e,t.BigIntString=e=>e,t.IntNumber=function(e){return Math.floor(e)},t.RegExpString=e=>e},45184:function(e,t,r){"use strict";var n=r(48834).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getFavicon=t.range=t.isBigNumber=t.ensureParsedJSONObject=t.ensureBN=t.ensureRegExpString=t.ensureIntNumber=t.ensureBuffer=t.ensureAddressString=t.ensureEvenLengthHexString=t.ensureHexString=t.isHexString=t.prepend0x=t.strip0x=t.has0xPrefix=t.hexStringFromIntNumber=t.intNumberFromHexString=t.bigIntStringFromBN=t.hexStringFromBuffer=t.hexStringToUint8Array=t.uint8ArrayToHex=t.randomBytesHex=void 0;const o=i(r(3819)),s=r(10783),a=/^[0-9]*$/,u=/^[a-f0-9]*$/;function c(e){return[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}function l(e){return e.startsWith("0x")||e.startsWith("0X")}function h(e){return l(e)?e.slice(2):e}function f(e){return l(e)?"0x"+e.slice(2):"0x"+e}function d(e){if("string"!=typeof e)return!1;const t=h(e).toLowerCase();return u.test(t)}function p(e,t=!1){if("string"==typeof e){const r=h(e).toLowerCase();if(u.test(r))return(0,s.HexString)(t?"0x"+r:r)}throw new Error(`"${String(e)}" is not a hexadecimal string`)}function m(e,t=!1){let r=p(e,!1);return r.length%2==1&&(r=(0,s.HexString)("0"+r)),t?(0,s.HexString)("0x"+r):r}function g(e){if("number"==typeof e&&Number.isInteger(e))return(0,s.IntNumber)(e);if("string"==typeof e){if(a.test(e))return(0,s.IntNumber)(Number(e));if(d(e))return(0,s.IntNumber)(new o.default(m(e,!1),16).toNumber())}throw new Error(`Not an integer: ${String(e)}`)}function v(e){if(null==e||"function"!=typeof e.constructor)return!1;const{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}t.randomBytesHex=function(e){return c(crypto.getRandomValues(new Uint8Array(e)))},t.uint8ArrayToHex=c,t.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map((e=>parseInt(e,16))))},t.hexStringFromBuffer=function(e,t=!1){const r=e.toString("hex");return(0,s.HexString)(t?"0x"+r:r)},t.bigIntStringFromBN=function(e){return(0,s.BigIntString)(e.toString(10))},t.intNumberFromHexString=function(e){return(0,s.IntNumber)(new o.default(m(e,!1),16).toNumber())},t.hexStringFromIntNumber=function(e){return(0,s.HexString)("0x"+new o.default(e).toString(16))},t.has0xPrefix=l,t.strip0x=h,t.prepend0x=f,t.isHexString=d,t.ensureHexString=p,t.ensureEvenLengthHexString=m,t.ensureAddressString=function(e){if("string"==typeof e){const t=h(e).toLowerCase();if(d(t)&&40===t.length)return(0,s.AddressString)(f(t))}throw new Error(`Invalid Ethereum address: ${String(e)}`)},t.ensureBuffer=function(e){if(n.isBuffer(e))return e;if("string"==typeof e){if(d(e)){const t=m(e,!1);return n.from(t,"hex")}return n.from(e,"utf8")}throw new Error(`Not binary data: ${String(e)}`)},t.ensureIntNumber=g,t.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,s.RegExpString)(e.toString());throw new Error(`Not a RegExp: ${String(e)}`)},t.ensureBN=function(e){if(null!==e&&(o.default.isBN(e)||v(e)))return new o.default(e.toString(10),10);if("number"==typeof e)return new o.default(g(e));if("string"==typeof e){if(a.test(e))return new o.default(e,10);if(d(e))return new o.default(m(e,!1),16)}throw new Error(`Not an integer: ${String(e)}`)},t.ensureParsedJSONObject=function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw new Error(`Not a JSON string or an object: ${String(e)}`)},t.isBigNumber=v,t.range=function(e,t){return Array.from({length:t-e},((t,r)=>e+r))},t.getFavicon=function(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}},3819:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(37293).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(e,l,e.length,t),l=0;l<s;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(e){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?f[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],l=p[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(e);r=(h=h.idivn(l)).isZero()?m+r:f[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,E=b>>>13,_=0|s[4],M=8191&_,S=_>>>13,P=0|s[5],I=8191&P,O=P>>>13,A=0|s[6],T=8191&A,k=A>>>13,x=0|s[7],N=8191&x,R=x>>>13,D=0|s[8],C=8191&D,j=D>>>13,U=0|s[9],B=8191&U,L=U>>>13,q=0|a[0],W=8191&q,V=q>>>13,F=0|a[1],Q=8191&F,z=F>>>13,H=0|a[2],$=8191&H,G=H>>>13,K=0|a[3],Z=8191&K,Y=K>>>13,X=0|a[4],J=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,me=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(h,W))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(f,W)|0))<<13)|0;c=((o=Math.imul(f,V))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,W),i=(i=Math.imul(p,V))+Math.imul(m,W)|0,o=Math.imul(m,V);var ve=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,z)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,z)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,W),i=(i=Math.imul(v,V))+Math.imul(y,W)|0,o=Math.imul(y,V),n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,z)|0;var ye=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,$)|0))<<13)|0;c=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,W),i=(i=Math.imul(w,V))+Math.imul(E,W)|0,o=Math.imul(E,V),n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,z)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,z)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,G)|0;var be=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(M,W),i=(i=Math.imul(M,V))+Math.imul(S,W)|0,o=Math.imul(S,V),n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,z)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Y)|0;var we=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(I,W),i=(i=Math.imul(I,V))+Math.imul(O,W)|0,o=Math.imul(O,V),n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,z)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,z)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,G)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,ee)|0;var Ee=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(T,W),i=(i=Math.imul(T,V))+Math.imul(k,W)|0,o=Math.imul(k,V),n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,z)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0;var _e=(c+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,se)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,V))+Math.imul(R,W)|0,o=Math.imul(R,V),n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,z)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,z)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var Me=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(C,W),i=(i=Math.imul(C,V))+Math.imul(j,W)|0,o=Math.imul(j,V),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,z)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,z)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(M,J)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Se=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,V))+Math.imul(L,W)|0,o=Math.imul(L,V),n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,z)|0,n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,G)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Pe=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,z))+Math.imul(L,Q)|0,o=Math.imul(L,z),n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,Y)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(v,he)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var Ie=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(B,$),i=(i=Math.imul(B,G))+Math.imul(L,$)|0,o=Math.imul(L,G),n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,Y)|0,n=n+Math.imul(N,J)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,n=n+Math.imul(w,he)|0,i=(i=i+Math.imul(w,fe)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,fe)|0;var Oe=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,Y))+Math.imul(L,Z)|0,o=Math.imul(L,Y),n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(j,J)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,ce)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(S,he)|0,o=o+Math.imul(S,fe)|0;var Ae=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,J),i=(i=Math.imul(B,ee))+Math.imul(L,J)|0,o=Math.imul(L,ee),n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,ce)|0,n=n+Math.imul(I,he)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,fe)|0;var Te=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(S,pe)|0))<<13)|0;c=((o=o+Math.imul(S,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(B,re),i=(i=Math.imul(B,ne))+Math.imul(L,re)|0,o=Math.imul(L,ne),n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(k,he)|0,o=o+Math.imul(k,fe)|0;var ke=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((o=o+Math.imul(O,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(B,oe),i=(i=Math.imul(B,se))+Math.imul(L,oe)|0,o=Math.imul(L,se),n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,ce)|0,n=n+Math.imul(N,he)|0,i=(i=i+Math.imul(N,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var xe=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,ue),i=(i=Math.imul(B,ce))+Math.imul(L,ue)|0,o=Math.imul(L,ce),n=n+Math.imul(C,he)|0,i=(i=i+Math.imul(C,fe)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,fe)|0;var Ne=(c+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(L,he)|0,o=Math.imul(L,fe);var Re=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(j,pe)|0))<<13)|0;c=((o=o+Math.imul(j,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(c+(n=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,me))+Math.imul(L,pe)|0))<<13)|0;return c=((o=Math.imul(L,me))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ge,u[1]=ve,u[2]=ye,u[3]=be,u[4]=we,u[5]=Ee,u[6]=_e,u[7]=Me,u[8]=Se,u[9]=Pe,u[10]=Ie,u[11]=Oe,u[12]=Ae,u[13]=Te,u[14]=ke,u[15]=xe,u[16]=Ne,u[17]=Re,u[18]=De,0!==c&&(u[19]=c,r.length++),r};function v(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(e,t,r){return v(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?v(this,e,t):y(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<s;d++){var p=r[l+d],m=n[l+d],g=r[l+d+s],v=n[l+d+s],y=h*g-f*v;v=h*v+f*g,g=y,r[l+d]=p+g,n[l+d]=m+v,r[l+d+s]=p-g,n[l+d+s]=m-v,d!==a&&(y=u*h-c*f,f=u*f+c*h,h=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new I(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function O(e){I.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(_,E),_.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(M,E),i(S,E),i(P,E),P.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new M;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new P}return w[e]=t,t},I.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},I.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},I.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},I.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},I.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},I.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},I.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},I.prototype.isqr=function(e){return this.imul(e,e.clone())},I.prototype.sqr=function(e){return this.mul(e,e)},I.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=g}return f},I.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},I.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},I.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},I.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new O(e)},i(O,I),O.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},O.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},O.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},O.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},O.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},37293:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.amdO={},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class t{constructor(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}acquire(){const e=this.isLocked(),t=new Promise((e=>this._queue.push(e)));return e||this._dispatch(),t}runExclusive(t){return e(this,void 0,void 0,(function*(){const[e,r]=yield this.acquire();try{return yield t(e)}finally{r()}}))}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const e=this._currentReleaser;this._currentReleaser=void 0,e()}}_dispatch(){const e=this._queue.shift();if(!e)return;let t=!1;this._currentReleaser=()=>{t||(t=!0,this._value++,this._dispatch())},e([this._value--,this._currentReleaser])}}var n=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class i{constructor(){this._semaphore=new t(1)}acquire(){return n(this,void 0,void 0,(function*(){const[,e]=yield this._semaphore.acquire();return e}))}runExclusive(e){return this._semaphore.runExclusive((()=>e()))}isLocked(){return this._semaphore.isLocked()}release(){this._semaphore.release()}}var o,s,a=r(99936);!function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.hideRequestEthereumAccounts="hideRequestEthereumAccounts",e.switchEthereumChain="switchEthereumChain",e.addEthereumChain="addEthereumChain"}(o||(o={})),function(e){e.web3RequestCanceled="web3RequestCanceled",e.requestEthereumAccountsResponse="requestEthereumAccountsResponse",e.addEthereumChainDeny="addEthereumChainDeny",e.addEthereumChainApprove="addEthereumChainApprove",e.switchEthereumChainDeny="switchEthereumChainDeny",e.switchEthereumChainApprove="switchEthereumChainApprove",e.defaultChainChanged="defaultChainChanged",e.parentDisconnected="parentDisconnect",e.signEthereumMessageSuccess="signEthereumMessageSuccess",e.signEthereumTransactionSuccess="signEthereumTransactionSuccess",e.submitEthereumTransactionSuccess="submitEthereumTransactionSuccess"}(s||(s={}));const u="extension.connected",c="extension.suspend",l="extension.unspecified_sender_tab",h="extension.unknown_message_type",f="extension.dapp_origin_mismatch",d="extension.installed",p="extension.updated",m="extension.chrome_update",g="extension.undefined_popup_event_response",v="extension.no_original_tab",y="extension.force_update",b="extension.force_update_cleared";function w(e){if(null==e)return!1;const t=String(e).trim();return!!/^(?:y|yes|true|1|on)$/i.test(t)}const E=w("false"),_=(w("false"),w("false"),(...e)=>{1});class M{sendOrQueueEvent;serviceWorkerMemory;constructor(e,t){this.sendOrQueueEvent=e,this.serviceWorkerMemory=t}start(){this.checkForceUpdate().catch((e=>{_()})),chrome.alarms.create("checkForceUpdate",{periodInMinutes:5}),chrome.alarms.onAlarm.addListener((e=>{"checkForceUpdate"===e.name&&(this.checkForceUpdate().catch((e=>{_()})),chrome.storage.local.get(["autoLockByUnixTimestamp"],(e=>{const t=e.autoLockByUnixTimestamp;void 0!==t&&t<Date.now()&&this.serviceWorkerMemory.clear()})))}))}async checkForceUpdate(){return new Promise(((e,t)=>{chrome.storage.local.get(["minimumVersion","hasForcedUpdate"],(async r=>{let n=r.minimumVersion;const i=r.hasForcedUpdate;try{if(n=await this.fetchMinimumVersion(),chrome.storage.local.set({minimumVersion:n}),!n)return this.setPopup("index.html?inPageRequest=false"),chrome.storage.local.set({hasForcedUpdated:!1}),i&&this.sendOrQueueEvent(b,{loggingId:"7e5b0380-0d1b-4523-bc19-ebee4a987414"}),void e(!1)}catch(e){_()}const o=chrome.runtime.getManifest().version;if(!n||!o)return void t(new Error("Couldn't check minimum version"));if(!(this.compareVersion(n,o)>0))return this.setPopup("index.html?inPageRequest=false"),chrome.storage.local.set({hasForcedUpdated:!1}),i&&this.sendOrQueueEvent(b,{loggingId:"7e5b0380-0d1b-4523-bc19-ebee4a987414",currentVersion:o,minimumVersion:n}),void e(!1);this.sendOrQueueEvent(y,{loggingId:"0868c1f5-118d-405d-85cf-b2f201a87a48",currentVersion:o,minimumVersion:n}),this.setPopup("forceUpdate.html"),this.serviceWorkerMemory.clear(),chrome.storage.local.set({hasForcedUpdated:!0}),e(!0)}))}))}compareVersion(e,t){const r=e.split("."),n=t.split("."),i=e=>/^\d+$/.test(e);if(!r.every(i)||!n.every(i))return NaN;for(;r.length<n.length;)r.push("0");for(;n.length<r.length;)n.push("0");const o=r.map(Number),s=n.map(Number);for(let e=0;e<o.length;++e){if(o[e]>s[e])return 1;if(o[e]<s[e])return-1}return 0}async fetchMinimumVersion(){return fetch("https://api.wallet.coinbase.com/rpc/v2/getMinimumSupportedBuilds").then((async e=>{if(e.status<200||e.status>=400)throw new Error("Invalid response");return(await e.json())?.result?.extension}))}setPopup(e){3===chrome.runtime.getManifest().manifest_version?chrome.action.setPopup({popup:e}):chrome.browserAction.setPopup({popup:e})}}var S=r(61220);const P=(e,t)=>{(0,S.logEvent)(e,{...t,action:S.ActionType.view,componentType:S.ComponentType.page})};var I,O=new Uint8Array(16);function A(){if(!I&&!(I="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(O)}const T=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const k=function(e){return"string"==typeof e&&T.test(e)};for(var x=[],N=0;N<256;++N)x.push((N+256).toString(16).substr(1));const R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(x[e[t+0]]+x[e[t+1]]+x[e[t+2]]+x[e[t+3]]+"-"+x[e[t+4]]+x[e[t+5]]+"-"+x[e[t+6]]+x[e[t+7]]+"-"+x[e[t+8]]+x[e[t+9]]+"-"+x[e[t+10]]+x[e[t+11]]+x[e[t+12]]+x[e[t+13]]+x[e[t+14]]+x[e[t+15]]).toLowerCase();if(!k(r))throw TypeError("Stringified UUID is invalid");return r};const D=function(e,t,r){var n=(e=e||{}).random||(e.rng||A)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return R(n)};var C;!function(e){e.parentConnected="parentConnected",e.connectedDapps="connectedDapps",e.defaultChainId="DefaultChainId",e.defaultJsonRpcUrl="defaultJsonRpcUrl",e.amplitudeDeviceId="amplitudeDeviceId",e.isStandaloneSigning="isStandaloneSigning",e.cachedExperiments="cachedExperiments",e.blockedDappWhitelist="blockedDappWhitelist",e.currentAppServiceInstance="currentAppServiceInstance"}(C||(C={}));class j{hasInitializedAnalytics=!1;eventQueue=[];constructor(){this.sendOrQueueEvent=this.sendOrQueueEvent.bind(this)}initializeAnalytics(e){(0,S.init)({amplitudeApiKey:"4b5c59547a46317aee88399fdfc8f1f3",isProd:!0,platform:S.PlatformName.server,onError:e=>{_(e?.message)},projectName:"wallet_extension_service_worker",showDebugLogging:E,version:chrome.runtime.getManifest().version}),chrome.storage.local.get([C.amplitudeDeviceId],(t=>{let r=t[C.amplitudeDeviceId];if(!r&&e)r=D(),chrome.storage.local.set({[C.amplitudeDeviceId]:r});else if(!r)return void chrome.storage.onChanged.addListener((e=>{const t=e[C.amplitudeDeviceId]?.newValue;t&&!this.hasInitializedAnalytics&&((0,S.identify)({deviceId:t}),this.hasInitializedAnalytics=!0,this.flushEventQueue())}));(0,S.identify)({deviceId:r}),this.hasInitializedAnalytics=!0,this.flushEventQueue()}))}flushEventQueue(){0!==this.eventQueue.length&&(_(this.eventQueue.length),this.eventQueue.forEach((({eventName:e,eventProperties:t})=>{P(e,{...t,...this.eventMetadata})})),this.eventQueue=[])}get eventMetadata(){return{userAgent:navigator.userAgent,chromeVersion:navigator.userAgent.split("Chrome/")[1],appVersion:chrome.runtime.getManifest().version}}sendOrQueueEvent(e,t){this.hasInitializedAnalytics?P(e,{...t,...this.eventMetadata}):(_(),this.eventQueue.push({eventName:e,eventProperties:t}))}}var U=r(45184);class B{memoryStorage=new Map;sessionApi;constructor(){"object"==typeof chrome.storage.session&&(this.sessionApi=chrome.storage.session)}async clear(){return this.sessionApi?chrome.storage.session.clear():(this.memoryStorage.clear(),Promise.resolve())}async get(e){return this.sessionApi?this.sessionApi.get(e):Promise.resolve(this.memoryStorage.get(e))}async set(e,t){return this.sessionApi?this.sessionApi.set({[e]:t}):(this.memoryStorage.set(e,t),Promise.resolve())}delete=async e=>this.sessionApi?this.sessionApi.remove(e):(this.memoryStorage.delete(e),Promise.resolve())}class L{storage=new B;handleRequest(e,t){switch(e.action){case"get":this.get(e.key).then((e=>t(e)));break;case"set":this.set(e.key,e.value).then((()=>t(!0)));break;case"clear":this.storage.clear().then((()=>t(!0)))}}clear(){this.storage.clear()}async set(e,t){const r=await this.getId(e);return void 0===t?this.storage.delete(r):this.storage.set(r,t)}async get(e){const t=await this.getId(e);return this.storage.get(t)}async getId(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t);return(0,U.uint8ArrayToHex)(new Uint8Array(r))}}(new class{callbackMap=new Map;popupUIResponseMap=new Map;serviceWorkerMemory=new L;_currPopupTab=null;_currPopupWin=null;_windowListenerCancelCallback;checkingWindowLock=new i;hasStartedWindowOrTabOpen=!1;serviceWorkerEventManager=new j;start(){if(3===chrome.runtime.getManifest().manifest_version&&"undefined"!=typeof localStorage)return;new M(this.serviceWorkerEventManager.sendOrQueueEvent,this.serviceWorkerMemory).start(),chrome.runtime.onMessage.addListener(((e,t,r)=>{let n,i;switch(e.type){case"extensionUIRequest":return r(),void 0===t.tab||void 0===t.tab.id||void 0===t.tab.url||void 0===t.tab.title?(_(),this.serviceWorkerEventManager.sendOrQueueEvent(l,{loggingId:"53b228aa-c93f-4c21-8648-7e4fa55acd61"}),!1):new URL(t.tab.url).origin!==e.data.origin?(_(),this.serviceWorkerEventManager.sendOrQueueEvent(f,{loggingId:"53b228aa-c93f-4c21-8648-7e4fa55acd61",senderUrl:new URL(t.tab.url).origin,messageOrigin:e.data.origin}),!1):(n=e?.data.dappInfo.dappLogoURL,i=t?.tab.favIconUrl,this.handleExtensionUIRequestEvent(e,t.tab?.id,t.tab.title,n,i,t.tab.url,Boolean(e.data.hasMultipleProviders)));case"extensionUIResponse":return r(),this.handlePopupResponseEvent(e);case"popupUIRequest":return r(this.popupUIResponseMap.get(e.data.id)),!0;case"serviceWorkerMemoryRequest":return this.serviceWorkerMemory.handleRequest(e.data,r),!0;default:return _(e.type),this.serviceWorkerEventManager.sendOrQueueEvent(h,{loggingId:"e706cd24-59a0-4edb-8171-7c6706620046",type:e.type}),r(),!1}})),chrome.runtime.onConnect.addListener((e=>{this.serviceWorkerEventManager.sendOrQueueEvent(u,{loggingId:"3eb91dd3-2007-4867-903b-1f511c216310"}),_(),"extensionUIRequest"===e.name&&e.onMessage.addListener(_)})),chrome.runtime.onSuspend.addListener((()=>{_(),this.serviceWorkerEventManager.sendOrQueueEvent(c,{loggingId:"26d0494e-d498-46d5-88aa-13f93ee5d0c8"})})),chrome.runtime.onInstalled.addListener((e=>{switch(_(),e.reason){case"install":this.serviceWorkerEventManager.sendOrQueueEvent(d,{loggingId:"3429023f-801a-4827-91ec-ee42c8311709"});break;case"update":this.serviceWorkerEventManager.sendOrQueueEvent(p,{loggingId:"2ae9b9c8-fbd8-4558-8dfe-a4f817f9965b"});break;case"chrome_update":this.serviceWorkerEventManager.sendOrQueueEvent(m,{loggingId:"d193911b-0f9c-4361-8eaf-e28e5209d844"})}if("install"!==e.reason)return;chrome.tabs.create({url:chrome.runtime.getURL("index.html?launchedForOnboarding=true")})})),this.listenForTabsClosingAndCancelEthereumRequest();const e=e=>{};chrome.windows.onRemoved.addListener(e),chrome.windows.onRemoved.removeListener(e),this.serviceWorkerEventManager.initializeAnalytics(!0)}handlePopupResponseEvent(e){if(_(),void 0===e.data.id)return _(),this.serviceWorkerEventManager.sendOrQueueEvent(g,{loggingId:"f72476d3-9f7b-4de9-be09-68ecc91a7ed3"}),!1;const t=this.callbackMap.get(e.data.id),r=t?.tabId,n=t?.action;if(void 0===r)return _(),this.serviceWorkerEventManager.sendOrQueueEvent(v,{loggingId:"c3ce9894-b206-4d09-a1e3-658f5d448b3d"}),!1;if(this.callbackMap.delete(e.data.id),chrome.tabs.sendMessage(r,e),n!==o.requestEthereumAccounts)return!0;const i=new Array;return this.callbackMap.forEach(((t,n)=>{t.tabId===r&&(i.push(n),e.data.id=n,_(),chrome.tabs.sendMessage(r,e))})),i.forEach((e=>{this.callbackMap.delete(e)})),!0}handleExtensionUIRequestEvent(e,t,r,n,i,s,u){return this.checkIfWindowIsClosedAndClearCurrPopupWindow().then((()=>{if(!e.data.id)return void _();if(s.startsWith("chrome-extension://"))throw Error("The service worker is handling an extension ui request from the extension itself, shouldn't happen");const c=Array.from(this.callbackMap.values()).find((e=>e.tabId===t))?.tabId;if(this.callbackMap.set(e.data.id,{tabId:t,action:e.data.action}),void 0!==e.data.action){if(void 0!==c&&e.data.action===o.requestEthereumAccounts&&this.callbackMap.size>1){if(this._currPopupWin)return _(),void chrome.windows.update(this._currPopupWin,{focused:!0});if(this._currPopupTab)return _(),void chrome.tabs.update(this._currPopupTab,{highlighted:!0})}switch(e.data.action){case o.addEthereumChain:this.addEthereumChain(t,e.data.id,e.data.chainId,e.data.rpcUrls,r,n,i,s,u,e.data.blockExplorerUrls,e.data.chainName,e.data.iconUrls,e.data.nativeCurrency);break;case o.switchEthereumChain:this.switchEthereumChain(t,e.data.id,e.data.chainId,r,n,i,s,u);break;case o.requestEthereumAccounts:this.requestEthereumAccounts(t,e.data.id,e.data.childSession,r,n,i,s,u);break;case a.Web3Method.signEthereumMessage:case a.Web3Method.signEthereumTransaction:case a.Web3Method.submitEthereumTransaction:this.handleWeb3Request(t,e.data.id,e.data.request,r,n,i,s,u)}}else _()})),!0}addEthereumChain(e,t,r,n,i,s,a,u,c,l,h,f,d){const p={type:"extensionUIRequest",data:{action:o.addEthereumChain,id:t,chainId:r,rpcUrls:n,blockExplorerUrls:l,chainName:h,iconUrls:f,nativeCurrency:d,dappInfo:{dappName:i,dappLogoURL:s,dappLogoURLAlt:a,dappURL:u},originTab:e}},m=o.addEthereumChain;this.makePopupRequest(m,p,c,t)}switchEthereumChain(e,t,r,n,i,s,a,u){const c={type:"extensionUIRequest",data:{action:o.switchEthereumChain,id:t,chainId:r,dappInfo:{dappName:n,dappLogoURL:i,dappLogoURLAlt:s,dappURL:a},originTab:e}},l=o.switchEthereumChain;this.makePopupRequest(l,c,u,t)}handleWeb3Request(e,t,r,n,i,o,s,a){const u={type:"extensionUIRequest",data:{action:r.method,id:t,request:r,dappInfo:{dappName:n,dappLogoURL:i,dappLogoURLAlt:o,dappURL:s},originTab:e}},c=r.method;this.makePopupRequest(c,u,a,t)}requestEthereumAccounts(e,t,r,n,i,s,a,u){const c={type:"extensionUIRequest",data:{action:o.requestEthereumAccounts,id:t,childSession:r,dappInfo:{dappName:n,dappLogoURL:i,dappLogoURLAlt:s,dappURL:a},originTab:e}},l=o.requestEthereumAccounts;this.makePopupRequest(l,c,u,t)}makePopupRequest(e,t,r,n){chrome.windows.getCurrent((i=>{let o,s;if(void 0!==i&&void 0!==i.width&&void 0!==i.left&&void 0!==i.top){const e=r?0:-296;o=i.width+i.left+e,s=i.top}else o=0,s=0;const a="fullscreen"===i.state;if(_(),(this._currPopupTab||this._currPopupWin||this.hasStartedWindowOrTabOpen)&&this.callbackMap.size>1)return chrome.runtime.sendMessage(t),this._currPopupWin&&chrome.windows.update(this._currPopupWin,{focused:!0}),void(this._currPopupTab&&chrome.tabs.update(this._currPopupTab,{highlighted:!0}));this.popupUIResponseMap.set(n,t);const u=`index.html?inPageRequest=true&type=extensionUIRequest&action=${e}&id=${n}`;if(a){const e=`${u}&fullScreen=true`;this.hasStartedWindowOrTabOpen=!0,chrome.tabs.create({url:chrome.runtime.getURL(e)},(e=>{this.hasStartedWindowOrTabOpen=!1,void 0!==e.id&&(this._currPopupTab=e.id)}))}else this._windowListenerCancelCallback?.(),this._windowListenerCancelCallback=void 0,this.checkingWindowLock.acquire().then((e=>{this.hasStartedWindowOrTabOpen=!0,chrome.windows.create({url:chrome.runtime.getURL(u),type:"popup",left:o,top:s,height:625,width:375},(t=>{e(),this.hasStartedWindowOrTabOpen=!1,void 0!==t?.id&&(this._currPopupWin=t.id,this._windowListenerCancelCallback=this.listenForWindowsClosingAndCancelEthereumRequest())}))}))}))}listenForTabsClosingAndCancelEthereumRequest(){chrome.tabs.onRemoved.addListener((e=>{e===this._currPopupTab&&(this._currPopupTab=null,this.callbackMap.forEach(((e,t)=>{chrome.tabs.sendMessage(e.tabId,{type:"extensionUIResponse",data:{id:t,action:s.web3RequestCanceled}})})),this.callbackMap.clear())}))}async checkIfWindowIsClosedAndClearCurrPopupWindow(){return new Promise((e=>{this.checkingWindowLock.acquire().then((t=>{chrome.windows.getAll((r=>{if(t(),!this._windowListenerCancelCallback)return void e();r.find((e=>e.id===this._currPopupWin))||(this._currPopupWin=null,this._windowListenerCancelCallback?.(),this._windowListenerCancelCallback=void 0),e()}))}))}))}listenForWindowsClosingAndCancelEthereumRequest(){let e=!1;return setTimeout((()=>{if(!this._currPopupWin||e)return e=!0,void(this._windowListenerCancelCallback=void 0);this.checkingWindowLock.acquire().then((t=>{chrome.windows.getAll((r=>{if(t(),e)return;r.find((e=>e.id===this._currPopupWin))||(this._currPopupWin=null,e=!0,this._windowListenerCancelCallback=void 0,this.callbackMap.forEach(((e,t)=>{chrome.tabs.sendMessage(e.tabId,{type:"extensionUIResponse",data:{id:t,action:s.web3RequestCanceled}})})),this.callbackMap.clear())})),this.listenForWindowsClosingAndCancelEthereumRequest()}))}),5e3),()=>{e=!0}}}).start()})()})();
//# sourceMappingURL=service.js.map