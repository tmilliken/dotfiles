"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[179],{76428:(e,t,n)=>{n.d(t,{v:()=>j});var o=n(67294),r=n(5977),a=n(27053),s=n(63931),i=n(95147),l=n(30628);class c{currencyCode;decimals;value;contractAddress;network;constructor(e,t,n,o,r){this.currencyCode=e,this.decimals=t,this.value=n,this.contractAddress=o,this.network=r}}var d,u=n(9643),p=n(67051),f=n(28209),m=n(63149),b=n(27025),v=n(30103),x=n(83363),y=n(61466),g=n(37142),L=n(61220),h=n(29233),C=n(9943),H=n(6585),G=n(23991),w=n(85893);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,a=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e=n.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);var k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=(new Date).getTime()-864e5;function j(e){var t,n=e.transaction,d=(0,r.k6)(),p=n.entityDisplayName(!0),I=(0,b.$)(),k=(0,u.z)(),j=I.formatToFiat(n.currencyCode,n.tokenDecimal,n.amount,!1,n.contractAddress,n.network),A=new c(n.feeCurrencyCode,i.U,n.fee,n.contractAddress,n.network),D=new c(n.currencyCode,n.tokenDecimal,n.amount,n.contractAddress,n.network),_=n.isSent?I.formatFiatTotal([D,A],!1)[0]:j,E="".concat(n.isSent?"-":"+").concat(_),R=I.formatToCrypto({currencyCode:n.currencyCode,decimals:n.tokenDecimal,value:n.amount,includeCode:!0,maxDisplayDecimals:BigInt(8)}),B=g.w.generateId({blockchain:n.blockchain,currencyCode:n.currencyCode,network:n.network,contractAddress:n.contractAddress,selectedIndex:0n}),F=(0,y.r)(B),N=(0,o.useMemo)((function(){if(F)return(0,l.F)(F.network)}),[F]),O=n.state===x.Z.PENDING,Z=!n.confirmedAt&&n.state===x.Z.CONFIRMED,U=(0,o.useMemo)((function(){if(!O){if(Z)return(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(n.confirmedAt)return n.confirmedAt.getTime()>M?n.confirmedAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n.confirmedAt.toLocaleString("default",{month:"short",day:"2-digit"})}}),[Z,O,n.confirmedAt]),z=(0,o.useMemo)((function(){return O?"Send \u2022 Pending":n.state===x.Z.DROPPED?"Replaced":n.state===x.Z.FAILED?"Failed \u2022 ":n.isSent?"Sent \u2022 ":"Received \u2022 "}),[n,O]),W=(0,o.useMemo)((function(){return U?"".concat(z," ").concat(U):z}),[z,U]),X=(0,o.useCallback)((function(){var e;"/transactions"===d.location.pathname?(e=(0,r.Gn)(f.Xv.TX_DETAILS,{walletId:B,id:n.id}),(0,L.logEvent)("txn_detail_via_global_txn",{action:L.ActionType.click,componentType:L.ComponentType.page,loggingId:"3c0b8025-cd1b-4935-a477-a3a47a0e1e68"}),d.push(e)):(e=(0,r.Gn)(f.Xv.TX_DETAILS_WALLET,{walletId:B,id:n.id}),(0,L.logEvent)("txn_detail_via_asset_page",{action:L.ActionType.click,componentType:L.ComponentType.page,loggingId:"82ca75a3-8b0a-4ad4-bf4c-076cbeec2563"}),d.push(e))}),[d,n.id,B]),$=(0,o.useMemo)((function(){return(0,r.Gn)(f.Xv.TX_SPEEDUP_CANCEL,{walletId:B,id:n.id,updateType:"speedup"})}),[n.id,B]),Q=(0,o.useMemo)((function(){return(0,r.Gn)(f.Xv.TX_SPEEDUP_CANCEL,{walletId:B,id:n.id,updateType:"cancel"})}),[n.id,B]),V=(0,o.useCallback)((function(){d.push($)}),[$,d]),q=(0,o.useCallback)((function(){d.push(Q)}),[Q,d]),J=(0,o.useMemo)((function(){return n.state===x.Z.FAILED?"failed":n.state===x.Z.DROPPED?"replaced":n.isSent?"send":"receive"}),[n]),K=(0,o.useMemo)((function(){return O?n.pendingTxData?(0,w.jsx)(a.Q,{type:n.pendingTxData.txSubmissionType,animatedBorder:!0}):(0,w.jsx)(a.Q,{type:"original",animatedBorder:!0}):(0,w.jsx)(s.W,{type:J})}),[O,n,J]),Y=T((0,o.useState)(!1),2),ee=Y[0],te=Y[1],ne=(0,o.useCallback)((function(){return te(!0)}),[]),oe=(0,o.useCallback)((function(){return te(!1)}),[]),re=(0,v.N)("speedup_and_cancel")&&k&&N&&O&&ee;return(0,w.jsxs)(S,{onMouseEnter:ne,onMouseLeave:oe,children:[(0,w.jsx)(h.ListCell,{title:(0,w.jsx)(G.TextBody,{as:"p",children:p}),description:(0,w.jsx)(G.TextLabel2,{as:"p",color:"foregroundMuted",children:W}),detail:re?void 0:j&&E,subdetail:re?void 0:(0,w.jsx)(G.TextLabel2,{as:"p",align:"end",color:"foregroundMuted",children:R}),onPress:X,media:K,compact:!0}),re?(0,w.jsxs)(P,{children:[(0,w.jsx)(m.$,{icon:(0,w.jsx)(C.Icon,{name:"lightningBolt",color:"primary",size:"s"}),handleOnPress:V,isCell:!0}),"cancel"!==(null===(t=n.pendingTxData)||void 0===t?void 0:t.txSubmissionType)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(H.Spacer,{horizontal:1}),(0,w.jsx)(m.$,{icon:(0,w.jsx)(C.Icon,{name:"close",color:"negative",size:"s"}),handleOnPress:q,isCell:!0})]}):null]}):null]})}k(j,"useHistory{history}\nuseCurrencyFormatter{currencyFormatter}\nuseIsStandalone{isStandalone}\nuseSelectWallet{wallet}\nuseMemo{is1559Enabled}\nuseMemo{transactionDateTime}\nuseMemo{transactionType}\nuseMemo{txnDescription}\nuseCallback{handlePress}\nuseMemo{speedUpURL}\nuseMemo{cancelURL}\nuseCallback{handleSpeedUp}\nuseCallback{handleCancel}\nuseMemo{transactionIconType}\nuseMemo{statusIcon}\nuseState{[isHovering, setIsHovering](false)}\nuseCallback{showButtons}\nuseCallback{hideButtons}\nuseIsFeatureEnabled{}",(function(){return[r.k6,b.$,u.z,y.r,v.N]}));var A,D,S=(0,p.Z)("div")({name:"ListCellContainer",class:"lb5vi8e"}),P=(0,p.Z)("div")({name:"ButtonContainer",class:"bp0gq7z"});n(19342),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(M,"previousDay","/workspaces/apps/extension/src/components/TxnHistoryListItem/TxnHistoryListItem.tsx"),A.register(j,"TxnHistoryListItem","/workspaces/apps/extension/src/components/TxnHistoryListItem/TxnHistoryListItem.tsx"),A.register(S,"ListCellContainer","/workspaces/apps/extension/src/components/TxnHistoryListItem/TxnHistoryListItem.tsx"),A.register(P,"ButtonContainer","/workspaces/apps/extension/src/components/TxnHistoryListItem/TxnHistoryListItem.tsx")),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&D(e)},24747:(e,t,n)=>{n.d(t,{F:()=>f});var o,r=n(67294),a=n(2689),s=n.n(a),i=n(29233),l=n(6585),c=n(85893);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function d(){return(0,c.jsx)(l.VStack,{testID:"txn-list-fallback",children:s()(6).map((function(e){return(0,c.jsx)(i.ListCellFallback,{title:!0,description:!0,detail:!0,subdetail:!0,media:"icon"},"fallback-cell-".concat(e))}))})}var u,p,f=(0,r.memo)(d);(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"TxnListFallbackComponent","/workspaces/apps/extension/src/components/TxnListFallback.tsx"),u.register(f,"TxnListFallback","/workspaces/apps/extension/src/components/TxnListFallback.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},45613:(e,t,n)=>{n.d(t,{c:()=>l});var o,r=n(19692),a=n(85893);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var s,i;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function l(e){var t=e.color,n=void 0===t?"primary":t;return(0,a.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M0.495355 26.282C0.260506 26.4918 0.239553 26.8532 0.457676 27.0804C2.55526 29.2655 5.23325 30.8133 8.18228 31.5379C11.3162 32.3079 14.6097 32.1122 17.6304 30.9766C20.651 29.841 23.2577 27.8185 25.1082 25.1747C26.9587 22.5308 27.9664 19.3892 27.9992 16.1623C28.0319 12.9353 27.0881 9.77392 25.2916 7.09308C23.4951 4.41224 20.93 2.3373 17.933 1.14066C14.9359 -0.0559832 11.6471 -0.318383 8.49821 0.387907C5.53509 1.05253 2.82626 2.54571 0.684786 4.68779C0.4621 4.91054 0.47572 5.27221 0.706263 5.48682C0.936806 5.70143 1.29691 5.68766 1.5202 5.46552C3.50448 3.4915 6.00922 2.11514 8.74784 1.50087C11.6722 0.844927 14.7266 1.08862 17.51 2.19996C20.2934 3.31129 22.6757 5.23832 24.3441 7.72804C26.0125 10.2178 26.889 13.1538 26.8586 16.1507C26.8282 19.1476 25.8923 22.0653 24.1738 24.5206C22.4552 26.976 20.0343 28.8543 17.229 29.909C14.4236 30.9636 11.3649 31.1453 8.45444 30.4302C5.72883 29.7605 3.25253 28.3336 1.3087 26.3198C1.08995 26.0931 0.730203 26.0721 0.495355 26.282Z",fill:"url(#paint0_linear_30:10294)"}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"paint0_linear_30:10294",x1:"4",y1:"3",x2:"-4",y2:"15",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:r.palette[n]}),(0,a.jsx)("stop",{offset:"1",stopColor:"#1652F0",stopOpacity:"0"})]})})]})}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(l,"PartialBorderIcon","/workspaces/apps/extension/src/components/svgIcons/PartialBorderIcon.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},27053:(e,t,n)=>{n.d(t,{Q:()=>d});var o,r=n(67294),a=n(67051),s=n(9943),i=n(13792),l=n(45613),c=n(85893);function d(e){var t=e.type,n=e.animatedBorder,o=void 0!==n&&n,a=e.disabled,d=(0,r.useMemo)((function(){return"original"===t?"upArrow":"speedUp"===t?"lightningBolt":"close"}),[t]),u=(0,r.useMemo)((function(){if(!o)return a?"lineHeavy":"cancel"===t?"negative":"primary"}),[t,o,a]),p=(0,r.useMemo)((function(){return"cancel"===t?"negative":"primary"}),[t]),m=(0,r.useMemo)((function(){return a?"foregroundMuted":"cancel"===t?"negative":"primary"}),[t,a]);return(0,c.jsxs)(i.Box,{justifyContent:"center",alignItems:"center",width:"32px",height:"32px",position:"relative",borderRadius:"round",borderColor:u,children:[o&&(0,c.jsx)(f,{children:(0,c.jsx)(l.c,{color:p})}),(0,c.jsx)(s.Icon,{name:d,color:m,size:"xs"})]})}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(d,"useMemo{iconName}\nuseMemo{staticBorderColor}\nuseMemo{animatedBorderColor}\nuseMemo{iconColor}");var u,p,f=(0,a.Z)("div")({name:"PartialBorderContainer",class:"pskib9w"});n(90561),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"PendingTransactionIcon","/workspaces/apps/extension/src/components/svgIcons/PendingTransactionIcon.tsx"),u.register(f,"PartialBorderContainer","/workspaces/apps/extension/src/components/svgIcons/PendingTransactionIcon.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},63931:(e,t,n)=>{n.d(t,{W:()=>d});var o,r,a,s=n(67294),i=n(9943),l=n(6585),c=n(85893);function d(e){var t=e.type,n=(0,s.useMemo)((function(){switch(t){case"send":default:return(0,c.jsx)(i.Icon,{name:"upArrow",color:"primary",size:"xs"});case"receive":return(0,c.jsx)(i.Icon,{name:"downArrow",color:"positive",size:"xs"});case"failed":return(0,c.jsx)(i.Icon,{name:"close",color:"negative",size:"xs"});case"replaced":return(0,c.jsx)(i.Icon,{name:"upArrow",color:"foregroundMuted",size:"xs"})}}),[t]),o=(0,s.useMemo)((function(){switch(t){case"send":default:return"primary";case"receive":return"positive";case"failed":return"negative";case"replaced":return"lineHeavy"}}),[t]);return(0,c.jsx)(l.Box,{justifyContent:"center",alignItems:"center",width:"32px",height:"32px",borderRadius:"round",borderColor:o,children:n})}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(d,"useMemo{icon}\nuseMemo{borderColor}"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(d,"TransactionIcon","/workspaces/apps/extension/src/components/svgIcons/TransactionIcon.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},61466:(e,t,n)=>{n.d(t,{r:()=>l});var o,r,a,s=n(67294),i=n(53521);function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.I)(!1,t),o=(0,s.useMemo)((function(){if(null!=n&&n.length){var t=decodeURIComponent(e),o=n.find((function(e){return e.id===t}));return null!=o?o:n[0]}}),[e,n]);return o}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(l,"usePortfolioWallets{wallets}\nuseMemo{wallet}",(function(){return[i.I]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(l,"useSelectWallet","/workspaces/apps/extension/src/data/Wallets/hooks/useSelectWallet.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},29360:(e,t,n)=>{n.d(t,{p:()=>d,_:()=>u});var o,r=n(76428),a=n(67051),s=n(6585),i=n(85893);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,c,d=function(e){return(0,i.jsxs)(s.VStack,{children:[e.slice(0,-1).map((function(e){return(0,i.jsxs)(s.VStack,{position:"relative",children:[(0,i.jsx)(r.v,{transaction:e},e.id),(0,i.jsx)(p,{})]})})),(0,i.jsx)(r.v,{transaction:e[e.length-1]},e[e.length-1].id)]},Math.random())},u=function(e){return function(t){var n,o=t.key,a=t.index,s=t.style,l=null!==(n=e[a])&&void 0!==n?n:void 0;return(0,i.jsx)("div",{style:s,children:l?(0,i.jsx)(r.v,{transaction:l},"all-txn-item-".concat(a)):null},null!=o?o:null==l?void 0:l.id)}},p=(0,a.Z)("hr")({name:"ConnectorLine",class:"c1x9b0pn"});n(1744),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(d,"renderConnectedRows","/workspaces/apps/extension/src/screens/TransactionHistory/RenderRows.tsx"),l.register(u,"renderRow","/workspaces/apps/extension/src/screens/TransactionHistory/RenderRows.tsx"),l.register(p,"ConnectorLine","/workspaces/apps/extension/src/screens/TransactionHistory/RenderRows.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},63149:(e,t,n)=>{n.d(t,{$:()=>c});var o,r=n(6585),a=n(74673),s=n(85893);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var i,l;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(e){var t=e.icon,n=e.handleOnPress,o=e.isCell,i=e.testID;return(0,s.jsx)(a.PressableOpacity,{onPress:n,children:(0,s.jsx)(r.Box,{justifyContent:"center",alignItems:"center",width:o?"40px":"50px",height:o?"40px":"50px",position:"relative",borderRadius:"round",borderColor:"line",testID:i,children:t})})}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"SpeedUpAndCancelIcon","/workspaces/apps/extension/src/screens/TransactionHistory/SpeedUpAndCancelIcon.tsx"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},19342:(e,t,n)=>{n.r(t)},90561:(e,t,n)=>{n.r(t)},1744:(e,t,n)=>{n.r(t)},30103:(e,t,n)=>{n.d(t,{N:()=>r});var o=n(97434);function r(e){return!!(0,o.g)()[e]}},53300:(e,t,n)=>{n.d(t,{D:()=>i});var o=n(67294),r=n(3440),a=n.n(r),s=n(83363);const i=e=>{const t=(0,o.useMemo)((()=>e.filter((e=>e.state===s.Z.PENDING))),[e]),n=a()(t,"nonce"),r=(0,o.useCallback)((e=>e.nonce&&e.state===s.Z.DROPPED&&n[Number(e.nonce)]),[n]),{pendingOrReplacedTransactions:i,remainingTransactions:l}=(0,o.useMemo)((()=>({pendingOrReplacedTransactions:e.filter((e=>e.state===s.Z.PENDING||r(e))),remainingTransactions:e.filter((e=>e.state!==s.Z.PENDING&&!r(e)))})),[r,e]);return{pendingOrReplacedTransactionGroups:Object.values(a()(i,"nonce")).sort(((e,t)=>t[0].createdAt.getTime()-e[0].createdAt.getTime())),pendingTransactions:t,remainingTransactions:l}}}}]);
//# sourceMappingURL=179.js.map