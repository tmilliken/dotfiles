"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[225],{63225:(e,o,n)=>{n.r(o),n.d(o,{ShowRecoveryPhrase:()=>P});var t,r=n(67294),s=n(25387),a=n(86896),c=n(5977),i=n(86617),l=n(50549),d=n(2802),p=n(24973),u=n(4740),h=n(29193),y=n(61220),g=n(47393),b=n(6585),f=n(23991),w=n(51399),v=n(85893);function m(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,r,s=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(s.push(t.value),!o||s.length!==o);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return s}(e,o)||function(e,o){if(!e)return;if("string"==typeof e)return k(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,o)}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,o){(null==o||o>e.length)&&(o=e.length);for(var n=0,t=new Array(o);n<o;n++)t[n]=e[n];return t}e=n.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);var T,x,C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I="showRecoveryPhrase",S=(0,s.vU)({backButtonAriaLabel:{id:"".concat(I,".backButton"),defaultMessage:"Go back",description:"Aria label that tells the user they are focused on the button to return to the previous screen"},pageTitle:{id:"".concat(I,".showRecoveryPhraseTitle"),defaultMessage:"Show recovery phrase",description:"Title of the show recovery phrase page"},pageInstructions:{id:"".concat(I,".showRecoveryPhraseInstructions"),defaultMessage:"Enter your password to show your recovery phrase. Turn off screen sharing. Don't share it with anyone.",description:"instructions for the show recovery phrase page"},pageTermsAndConditions:{id:"".concat(I,".showRecoveryPhraseTermsAndConditions"),defaultMessage:"I will not share my recovery phrase with anyone, including Coinbase. If I do, I'll lose my assets.",description:"terms and conditions message for show recovery phrase page"},next:{id:"".concat(I,".showRecoveryPageNextButton"),defaultMessage:"Next",description:"next button"},password:{id:"".concat(I,".password"),defaultMessage:"Password",description:"Password to unlock the app"},IncorrectPassword:{id:"".concat(I,".IncorrectPassword"),defaultMessage:"Incorrect password",description:"Subscript saying the password is incorrect"}});function P(){var e=(0,i.U)(),o=(0,a.Z)().formatMessage,n=m((0,r.useState)(!1),2),t=n[0],s=n[1],k=m((0,r.useState)(!1),2),T=k[0],x=k[1],C=m((0,r.useState)(""),2),I=C[0],P=C[1],_=(0,c.k6)();(0,u.l6)();var A=(0,r.useCallback)((function(e){T&&x(!T),P(e)}),[T]),M=(0,l.W)((function(o){return o&&o.unsubscribe(),(0,y.logEvent)("show_recovery_phrase.next_btn",{loggingId:"0c8a7e38-d3b4-40cb-86b1-77d88a7734be",action:y.ActionType.click,componentType:y.ComponentType.button}),e.getMnemonicFromStorage((0,h.p)(I)).subscribe((function(){x(!1),(0,y.logEvent)("show_recovery_phrase.password_success",{loggingId:"1f6cb833-90ec-48fe-88d4-f8712e0cc363",action:y.ActionType.render,componentType:y.ComponentType.unknown}),_.replace("/settings/yourRecoveryPhrase")}),(function(e){(0,y.logEvent)("show_recovery_phrase.password_error",{loggingId:"0f6cbe6d-530a-451c-ba79-0883bf4982ad",action:y.ActionType.render,componentType:y.ComponentType.text}),x(!0)}))||null}),[e,I]),R=!t||I.length<=0,j=(0,r.useCallback)((function(){s((function(e){return!e}))}),[]),E=(0,r.useCallback)((function(){return _.push("/settings")}),[_]);return(0,v.jsxs)(w.n,{spacing:2,height:"100%",justifyContent:"space-between",testID:"show-recovery-phrase-container",children:[(0,v.jsx)(b.Box,{offsetStart:1,children:(0,v.jsx)(g.IconButton,{name:"backArrow",onPress:E,transparent:!0,accessibilityLabel:o(S.backButtonAriaLabel)})}),(0,v.jsx)(b.Box,{children:(0,v.jsx)(f.TextTitle1,{as:"h3",children:o(S.pageTitle)})}),(0,v.jsx)(f.TextBody,{as:"div",color:"foregroundMuted",children:o(S.pageInstructions)}),(0,v.jsx)(b.VStack,{spacingTop:5,spacingBottom:5,children:(0,v.jsx)(p.O,{testID:"show-recovery-phrase-password",type:"password",name:"password",label:o(S.password),value:I,autoFocus:!0,onChange:A,givenError:T?o(S.IncorrectPassword):void 0,onEnter:R?void 0:M})}),(0,v.jsx)(d.X,{testID:"show-recovery-phrase-checkbox",label:(0,v.jsx)(f.TextLegal,{as:"span",children:o(S.pageTermsAndConditions)}),isChecked:t,onCheckToggle:j}),(0,v.jsx)(g.Button,{testID:"show-recovery-phrase-next-btn",block:!0,onPress:M,disabled:R,children:o(S.next)})]})}C(P,"useMnemonicRepository{mnemonicRepository}\nuseIntl{{ formatMessage }}\nuseState{[isChecked, setIsChecked](false)}\nuseState{[passwordError, setPasswordError](false)}\nuseState{[password, setPassword]('')}\nuseHistory{history}\nuseShowRecoveryPhraseViewed{}\nuseCallback{onPasswordChange}\nuseObservableCallback{handleOnNext}\nuseCallback{handleCheckToggle}\nuseCallback{handlePress}",(function(){return[i.U,a.Z,c.k6,u.l6,l.W]})),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(I,"i18nKey","/workspaces/apps/extension/src/components/ShowRecoveryPhrase/ShowRecoveryPhrase.tsx"),T.register(S,"messages","/workspaces/apps/extension/src/components/ShowRecoveryPhrase/ShowRecoveryPhrase.tsx"),T.register(P,"ShowRecoveryPhrase","/workspaces/apps/extension/src/components/ShowRecoveryPhrase/ShowRecoveryPhrase.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},4740:(e,o,n)=>{n.d(o,{Ji:()=>s,l6:()=>a,ji:()=>c,Xk:()=>i,sY:()=>l});var t=n(73107),r=n(61220);const s=()=>(0,r.useLogEventOnMount)("settings.viewed",{loggingId:"1ffe0986-0910-4ea4-9bb8-1324281832d9",componentType:r.ComponentType.page}),a=()=>(0,r.useLogEventOnMount)("show_recovery_phrase.viewed",{loggingId:"5923d4cf-f8e9-41bd-a3ae-e970ca76cad6",componentType:r.ComponentType.page}),c=e=>(0,r.logEvent)("settings.nav_btn",{loggingId:"e7c816c6-fe06-4fb3-a9c8-419651911f25",action:r.ActionType.click,navigate_to:e,componentType:r.ComponentType.button}),i=e=>{(0,r.logEvent)("network_picker.network_changed",{loggingId:"b28aa453-86f2-4f58-8da3-b9b4ecbf1b9f",componentType:r.ComponentType.table,action:r.ActionType.click,chain_name:e?.displayName||null,blockchain:t.t.toString()})},l=({chainName:e,chainId:o,tokenSymbol:n,contractAddress:t})=>{(0,r.logEvent)("settings.custom_token.added",{loggingId:"812572b4-158d-41bb-b666-9e9190284a5e",action:r.ActionType.unknown,componentType:r.ComponentType.unknown,chain_name:e,chain_id:o,token_symbol:n,contract_address:t})}}}]);
//# sourceMappingURL=225.js.map