(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[152],{46448:(e,t,r)=>{"use strict";r.d(t,{O:()=>u});var n,a=r(47393),o=r(6585),s=r(35145),i=r(85893);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var c,l;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(){return(0,i.jsx)(o.VStack,{children:(0,i.jsxs)(o.HStack,{justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(s.E,{}),(0,i.jsxs)(o.VStack,{width:108,children:[(0,i.jsx)(o.Fallback,{width:"100%",height:64}),(0,i.jsx)(o.Spacer,{vertical:.5}),(0,i.jsx)(o.Fallback,{width:"100%",height:16})]}),(0,i.jsx)(a.IconButton,{name:"arrowsVertical",variant:"secondary",testID:"flip-asset-btn"})]})})}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&c.register(u,"AmountInputFallback","/workspaces/apps/extension/src/components/AmountInput/AmountInputFallback.tsx"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},12838:(e,t,r)=>{"use strict";r.d(t,{p:()=>u});var n,a=r(67294),o=r(50727),s=r(85893);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e){var t,r=e.asset,n=e.onSelect,a=e.disabled,i=e.testID;return(0,s.jsx)(o.a,{name:r.name,imageUrl:r.imageURL,currencyCode:r.currencyCode.rawValue,network:r.network,showIconTooltip:null===(t=r.network.asChain())||void 0===t?void 0:t.isLayer2,onSelect:n,disabled:a,testID:i})}var c,l,u=(0,a.memo)(i);(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"AssetRowItemComponent","/workspaces/apps/extension/src/components/AssetRowItem/AssetRowItem.tsx"),c.register(u,"AssetRowItem","/workspaces/apps/extension/src/components/AssetRowItem/AssetRowItem.tsx")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},30783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n,a=r(34291),o=r.n(a),s=r(9943),i=r(6585),c=r(74673),l=r(85893);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var u,d;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function p(){return(0,l.jsxs)(i.HStack,{spacingTop:3,spacingBottom:2,justifyContent:"center",alignItems:"center",position:"relative",testID:"nav-title-component",children:[(0,l.jsx)(i.Box,{position:"absolute",left:16,children:(0,l.jsx)(c.Pressable,{disabled:!0,as:"button",onPress:o(),backgroundColor:"transparent",children:(0,l.jsx)(s.Icon,{name:"caretLeft",size:"m",color:"foreground"})})}),(0,l.jsxs)(i.VStack,{width:150,position:"relative",alignItems:"center",top:0,children:[(0,l.jsx)(i.Fallback,{width:"100%",height:24}),(0,l.jsx)(i.Spacer,{vertical:.5}),(0,l.jsx)(i.Fallback,{width:"100%",height:16})]})]})}(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(p,"NavTitleFallback","/workspaces/apps/extension/src/components/NavTitle/NavTitleFallback.tsx"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},69095:(e,t,r)=>{"use strict";r.d(t,{l:()=>x});var n,a=r(67294),o=r(25387),s=r(86896),i=r(67051),c=r(87198),l=r(9943),u=r(6585),d=r(7088),p=r(74673),f=r(23991),m=r(85893);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w="NetworkSelection.SubHeader",v=(0,o.vU)({chainDisplayName:{id:"".concat(w,".chainTitle"),defaultMessage:"On {name}",description:"Chain display name"},chainTitle:{id:"".concat(w,".chainTitle"),defaultMessage:"{name} {suffix}",description:"Chain display title"},tooltipText:{id:"".concat(w,".tooltipText"),defaultMessage:"Switch networks",description:"Tooltip text"},mainnet:{id:"".concat(w,".mainnet"),defaultMessage:"Mainnet",description:"Mainnet text"},testnet:{id:"".concat(w,".testnet"),defaultMessage:"Testnet",description:"Testnet text"}});function x(e){var t=e.network,r=e.onPress,n=(0,s.Z)().formatMessage,o=(0,c.Wj)();(0,c.il)();var i=(0,a.useCallback)((function(){o(),r()}),[r,o]);if(!t)return null;var g=t.asChain(),h=n(v.chainDisplayName,{name:null==g?void 0:g.displayName}),y=n(null!=g&&g.isTestnet?v.testnet:v.mainnet),w=h.toLocaleLowerCase().endsWith(y.toLocaleLowerCase())?h:n(v.chainTitle,{name:h,suffix:y});return(0,m.jsx)(d.u,{content:n(v.tooltipText),placement:"bottom",children:function(e){return(0,m.jsx)(p.Pressable,b(b({width:"100%"},e),{},{backgroundColor:"transparent",onPress:i,testID:"network-selection-sub-header",children:(0,m.jsxs)(u.HStack,{alignItems:"center",justifyContent:"center",children:[null!=g&&g.chainImageUrl?(0,m.jsx)(C,{src:null==g?void 0:g.chainImageUrl,alt:"".concat(null==g?void 0:g.displayName," icon")}):null,(0,m.jsxs)(u.HStack,{alignItems:"center",children:[(0,m.jsx)(f.TextLabel2,{testID:"network-selection-current-network",as:"p",color:"foregroundMuted",children:w}),(0,m.jsx)(l.Icon,{name:"caretRight",size:"xs",color:"foregroundMuted",spacingStart:.5})]})]})}))}})}y(x,"useIntl{{\n    formatMessage\n  }}\nuseNetworkSwitcherOpen{triggerNetworkSwitcherOpen}\nuseNetworkSwitcherViewed{}\nuseCallback{onOpenNetworkSelection}",(function(){return[s.Z,c.Wj,c.il]}));var S,k,C=(0,i.Z)("img")({name:"Image",class:"i1y1mzp3"});r(53038),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(w,"i18nKey","/workspaces/apps/extension/src/components/NetworkSelectionSubHeader/NetworkSelectionSubHeader.tsx"),S.register(v,"messages","/workspaces/apps/extension/src/components/NetworkSelectionSubHeader/NetworkSelectionSubHeader.tsx"),S.register(x,"NetworkSelectionSubHeader","/workspaces/apps/extension/src/components/NetworkSelectionSubHeader/NetworkSelectionSubHeader.tsx"),S.register(C,"Image","/workspaces/apps/extension/src/components/NetworkSelectionSubHeader/NetworkSelectionSubHeader.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},2511:(e,t,r)=>{"use strict";r.d(t,{U:()=>u});var n,a=r(53671),o=r(22558),s=r(40616),i=r(85893);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var c,l;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(e){var t=e.hideNavigation,r=void 0!==t&&t,n=e.component;return(0,i.jsxs)(i.Fragment,{children:[!r&&(0,i.jsx)(a.W,{}),(0,i.jsx)(s.VStack,{height:r?o.IR:o.UV,children:n})]})}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&c.register(u,"StepWithNavigation","/workspaces/apps/extension/src/components/StepWithNavigation/StepWithNavigation.tsx"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},84500:(e,t,r)=>{"use strict";r.d(t,{V:()=>g});var n,a,o,s=r(67294),i=r(87198),c=r(47393),l=r(9943),u=r(6585),d=r(23991),p=r(85893);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t=e.isDismissible,r=e.showErrorIcon,n=e.message,a=e.analytics,o=f((0,s.useState)(!0),2),m=o[0],g=o[1],b=(0,s.useCallback)((function(){g(!1)}),[]);return(0,i.Bp)(null==a?void 0:a.eventName,null==a?void 0:a.eventProperties,n),m?(0,p.jsx)(u.HStack,{borderedTop:!0,alignItems:"center",spacingTop:2,children:(0,p.jsxs)(u.HStack,{alignItems:"center",children:[r&&(0,p.jsx)(l.Icon,{name:"warning",size:"s",color:"negative",spacingEnd:2}),(0,p.jsx)(d.TextLabel2,{as:"p",children:n}),t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Spacer,{}),(0,p.jsx)(c.IconButton,{transparent:!0,name:"close",variant:"foregroundMuted",onPress:b})]})]})}):null}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(g,"useState{[isErrorVisible, setIsErrorVisible](true)}\nuseCallback{onDismissError}\nuseTransactionDetailError{}",(function(){return[i.Bp]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(g,"TransactionDetailError","/workspaces/apps/extension/src/components/TransactionDetails/TransactionDetailError.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},53097:(e,t,r)=>{"use strict";r.d(t,{wr:()=>k,zG:()=>M,rb:()=>P});var n,a=r(67294),o=r(25387),s=r(86896),i=r(37814),c=r(57813),l=r(67051),u=r(34291),d=r.n(u),p=r(29233),f=r(9943),m=r(6585),g=r(19692),b=r(23991),h=r(10824),y=r(85893);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k=80,C="EntrySelector",L=(0,o.vU)({switcherWrapperLabel:{id:"".concat(C,".switcherWrapperLabel"),defaultMessage:"Switch the active input",description:"A label for switcher wrapper"},genericError:{id:"".concat(C,".genericError"),defaultMessage:"Something went wrong",description:"Message to be displayed as an generic error"}});function T(e){var t=e.borderedTop,r=void 0!==t&&t,n=e.hasError,o=void 0!==n&&n,s=e.image,i=e.icon,c=e.primaryLabel,l=void 0===c?"":c,u=e.secondaryLabel,d=void 0===u?"":u,g=e.rightIcon,w=e.onPress,v=e.hideCaret,x=void 0!==v&&v,S=e.secondaryText,k=e.dataElementHandle,C=e.disableSelection,L=void 0!==C&&C,T=(0,a.useMemo)((function(){return g||(x?null:(0,y.jsx)(f.Icon,{spacingStart:1,size:"s",name:"caretRight",color:"foregroundMuted"}))}),[g,x]),A=(0,a.useCallback)((function(){!L&&w&&w()}),[L,w]);return(0,y.jsx)(h.X,{onPress:A,borderedTop:r,hasError:o,hasSecondaryText:!!S,dataElementHandle:k,disableSelection:L,nonTruncated:!0,children:(0,y.jsx)(p.ContentCell,{testID:"non-truncated-row-cell",title:(0,y.jsxs)(m.HStack,{alignItems:"center",justifyContent:"space-between",spacingBottom:.5,children:[(0,y.jsx)(b.TextLabel1,{as:"p",children:l}),T]}),description:(0,y.jsx)(m.VStack,{maxWidth:"90%",children:(0,y.jsx)(b.TextLabel2,{as:"p",overflow:"clip",color:"foregroundMuted",children:d})}),media:s?(0,y.jsx)(p.CellMedia,{type:"asset",title:"asset",source:s}):i,reduceHorizontalSpacing:!0})})}function A(e){var t=e.borderedTop,r=void 0!==t&&t,n=e.hasError,o=void 0!==n&&n,s=e.image,l=e.icon,u=e.primaryLabel,p=void 0===u?"":u,g=e.secondaryLabel,w=void 0===g?"":g,x=e.pmDisabled,S=void 0!==x&&x,C=e.rightIcon,L=e.onPress,A=void 0===L?d():L,M=e.hideCaret,H=void 0!==M&&M,E=e.secondaryText,G=e.dataElementHandle,P=e.disableSelection,F=void 0!==P&&P,O=e.leftColumnWidth,D=void 0===O?k:O,N=e.nonTruncated,B=void 0!==N&&N,R=e.isLoading,Z=void 0!==R&&R,V=e.swapAsset,U=(0,a.useMemo)((function(){return V?(0,y.jsxs)(y.Fragment,{children:[s?(0,y.jsx)(I,{src:s,alt:"".concat(w," icon")}):(0,y.jsx)(i.P,{iconSize:"20px",iconFontSize:"6px",text:V.currencyCode.rawValue}),(0,y.jsx)(c.t,{network:V.network})]}):null}),[s,w,V]),W=(0,a.useMemo)((function(){return Z?(0,y.jsx)(m.Box,{width:"100%",children:(0,y.jsx)(m.Fallback,{width:100,percentage:!0,height:20,flexGrow:1})}):"string"==typeof w?(0,y.jsx)(j,{"data-testid":"".concat(G,"-secondary-label"),color:o||S?"foregroundMuted":"foreground",children:w}):(0,y.jsx)(b.TextLabel2,{testID:"".concat(G,"-primary-label"),as:"div",spacingStart:1,children:w})}),[G,o,Z,S,w]);return B?(0,y.jsx)(T,v({},e)):(0,y.jsxs)(h.X,{onPress:A,borderedTop:r,hasError:o,hasSecondaryText:!!E,dataElementHandle:G,disableSelection:F,children:[(0,y.jsx)(m.VStack,{testID:"truncated-selector-row",width:"".concat(D,"px"),children:(0,y.jsx)(b.TextLabel2,{testID:"".concat(G,"-primary-label"),as:"label",color:"foregroundMuted",children:p})}),(0,y.jsxs)(m.HStack,{width:"calc(100% - ".concat(D,"px)"),alignItems:"center",justifyContent:"space-between",overflow:"visible",children:[l,U,(0,y.jsxs)(m.VStack,{justifyContent:"flex-start",alignItems:"flex-start",overflow:"hidden",spacingStart:"string"==typeof w?.5:0,width:"100%",children:[W,E&&(0,y.jsx)(b.TextLabel2,{testID:"".concat(G,"-secondary-label"),as:"span",color:"foregroundMuted",children:E})]}),C&&C,!H&&(0,y.jsx)(f.Icon,{spacingStart:1,size:"s",name:"caretRight",color:"foregroundMuted"})]})]})}S(T,"useMemo{rightIcon}\nuseCallback{handlePress}"),S(A,"useMemo{assetImage}\nuseMemo{secondaryLabelElement}");var j=(0,l.Z)("span")({name:"Overflow",class:"o1ksljwo",vars:{"o1ksljwo-0":[function(e){return g.palette[e.color]}]}}),I=(0,l.Z)("img")({name:"Image",class:"i15ol1l0",vars:{"i15ol1l0-0":[function(e){return e.large?32:20},"px"]}}),M=(0,l.Z)("div")({name:"SwitcherWrapper",class:"sxilawc"});function H(e){var t=e.row1,r=e.row2,n=e.isSwitchDisabled,a=e.error,o=e.onClickSwitcher,i=void 0===o?void 0:o,c=e.onClickSwitcherIcon,l=void 0===c?"convert":c,u=e.noBottomPadding,d=(0,s.Z)().formatMessage;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(m.VStack,{bordered:!0,position:"relative",borderRadius:"standard",children:[(0,y.jsx)(A,v({},t)),(0,y.jsx)(A,v({borderedTop:!0},r)),!n&&i&&(0,y.jsx)(M,{"data-testid":"entry-selector-switcher",onClick:i,role:"button","aria-label":d(L.switcherWrapperLabel),children:(0,y.jsx)(f.Icon,{name:l,size:"xs",color:"foregroundMuted",bordered:!0,spacing:.5})})]}),a?(0,y.jsx)(b.TextLegal,{as:"p",color:"negative",spacingTop:1,children:a.message||d(L.genericError)}):null,!u&&(0,y.jsx)(m.Spacer,{vertical:2})]})}S(H,"useIntl{{\n    formatMessage\n  }}",(function(){return[s.Z]}));var E,G,P=(0,a.memo)(H);r(73598),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(k,"DEFAULT_LEFT_COLUMN_WIDTH","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(32,"LARGE_ICON_SIZE","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(20,"ICON_SIZE","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(C,"i18nKey","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(L,"messages","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(T,"NonTruncatedSelectorRow","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(A,"SelectorRow","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(j,"Overflow","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(I,"Image","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(M,"SwitcherWrapper","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(H,"EntrySelectorComponent","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),E.register(P,"EntrySelector","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)},56456:(e,t,r)=>{"use strict";r.d(t,{m:()=>y});var n,a=r(25387),o=r(86896),s=r(34291),i=r.n(s),c=r(9943),l=r(6585),u=r(53097),d=r(8815),p=r(85893);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var f,m,g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b="components.entrySelector.EntrySelectorLoadingFallback",h=(0,a.vU)({from:{id:"".concat(b,".from"),defaultMessage:"From",description:"From label in trade crypto flow"},to:{id:"".concat(b,".to"),defaultMessage:"To",description:"To label in trade crypto flow"}});function y(){var e=(0,o.Z)().formatMessage;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.VStack,{bordered:!0,position:"relative",borderRadius:"standard",children:[(0,p.jsx)(d.u,{testID:"entry-selector-fallback-from",label:e(h.from)}),(0,p.jsx)(d.u,{testID:"entry-selector-fallback-to",borderedTop:!0,label:e(h.to)}),(0,p.jsx)(u.zG,{"data-testid":"entry-selector-fallback-icon",onClick:i(),role:"button",children:(0,p.jsx)(c.Icon,{name:"convert",size:"xs",color:"foregroundMuted",bordered:!0,spacing:.5})})]}),(0,p.jsx)(l.Spacer,{vertical:2})]})}g(y,"useIntl{{ formatMessage }}",(function(){return[o.Z]})),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(b,"i18nKey","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelectorLoadingFallback.tsx"),f.register(h,"messages","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelectorLoadingFallback.tsx"),f.register(y,"EntrySelectorLoadingFallback","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelectorLoadingFallback.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},10824:(e,t,r)=>{"use strict";r.d(t,{X:()=>x});var n=r(67294),a=r(25387),o=r(86896),s=r(67051),i=r(85558),c=r(59452),l=r(19692),u=r(85893);e=r.hmd(e);var d,p=["onPress","disableSelection","children","dataElementHandle"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);var h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y="EntrySelector.Row",w=(0,a.vU)({RowLabel:{id:"".concat(y,".rowLabel"),defaultMessage:"The {name}",description:"A label for each row"}});function v(e){var t=e.children,r=e.borderedTop,a=e.hasError,o=e.hasSecondaryText,s=e.nonTruncated,c=e.dataElementHandle,l=(0,n.useMemo)((function(){return s?0:o?1:2}),[s,o]);return(0,u.jsx)(C,{"data-testid":c,hasError:a,children:(0,u.jsx)(i.HStack,{spacing:s?0:2,spacingVertical:l,borderedTop:r,alignItems:"center",justifyContent:"space-between",children:t})})}function x(e){var t=e.onPress,r=e.disableSelection,n=e.children,a=e.dataElementHandle,s=b(e,p),i=(0,o.Z)().formatMessage;return r?(0,u.jsx)(v,m(m({dataElementHandle:a},s),{},{children:n})):(0,u.jsx)(c.Pressable,{as:"button",disabled:r,onPress:t,noScaleOnPress:!0,backgroundColor:"background",borderRadius:"standard",transparentWhileInactive:!0,testID:a,"data-element-handle":a,"aria-label":i(w.RowLabel,{name:a}),children:(0,u.jsx)(v,m(m({},s),{},{children:n}))})}h(v,"useMemo{spacingVertical}"),h(x,"useIntl{{\n    formatMessage\n  }}",(function(){return[o.Z]}));var S,k,C=(0,s.Z)("div")({name:"RowStyle",class:"r9qmolu",vars:{"r9qmolu-0":[function(e){return e.hasError?"1px solid ".concat(l.palette.negative):""}]}});r(5798),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(y,"i18nKey","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx"),S.register(w,"messages","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx"),S.register(v,"RowContent","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx"),S.register(x,"Row","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx"),S.register(C,"RowStyle","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},8815:(e,t,r)=>{"use strict";r.d(t,{u:()=>d});var n,a=r(9943),o=r(6585),s=r(23991),i=r(53097),c=r(85893);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var l,u;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function d(e){var t=e.testID,r=e.label,n=e.borderedTop,l=r?i.wr:0;return(0,c.jsxs)(o.HStack,{testID:t,height:50,spacing:2,spacingVertical:2,borderedTop:n,alignItems:"center",justifyContent:"space-between",children:[r?(0,c.jsx)(o.VStack,{width:"".concat(l,"px"),children:(0,c.jsx)(s.TextLabel2,{as:"label",color:"foregroundMuted",children:r})}):null,(0,c.jsxs)(o.HStack,{width:"calc(100% - ".concat(l,"px)"),alignItems:"center",justifyContent:"space-between",children:[(0,c.jsxs)(o.HStack,{alignItems:"center",overflow:"hidden",width:"100%",children:[(0,c.jsx)(o.Fallback,{width:20,height:20,shape:"circle"}),(0,c.jsx)(o.VStack,{justifyContent:"flex-start",alignItems:"flex-start",overflow:"hidden",spacingStart:1,width:"100%",children:(0,c.jsx)(o.Fallback,{width:"100%",height:16})})]}),(0,c.jsx)(a.Icon,{spacingStart:1,size:"s",name:"caretRight",color:"foregroundMuted"})]})]})}(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(d,"RowLoadingFallback","/workspaces/apps/extension/src/screens/Trade/EntrySelector/RowLoadingFallback.tsx"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},69042:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Trade:()=>H});var n=r(67294),a=r(5977),o=r(99711),s=r(6451),i=r(24754),c=r(69031),l=r(67559),u=r(22558),d=r(34291),p=r.n(d),f=r(6585),m=r(79885);function g(e){const t=(0,m.r)(!0);if(""!==e)return t.find((t=>t.swapId===e))}var b,h=r(99759),y=r(23245),w=r(34696),v=r(7075),x=r(85893);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&b(e);var A,j,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function M(e){var t,r,o=e.selectedNetwork,i=(0,s.Z)(),l=L((0,c.L)(i.swapAssetListObservable,i.supportedChainsObservable,i.mostUsedSwapAssetStatsObservable),3),u=l[0],d=l[1],f=l[2],m=(0,a.UO)(),b=g(null!==(t=null==f?void 0:f.id)&&void 0!==t?t:""),h=null!==(r=m.walletId)&&void 0!==r?r:null==b?void 0:b.id,S=(0,n.useMemo)((function(){return k(k({},w.Sc),{},{sourceWalletId:h,selectedNetwork:o})}),[o,h]);return(0,x.jsx)(y.tU,{convertibleAssets:u,supportedChains:d,children:(0,x.jsx)(w.cr.Provider,{onSubmit:p(),initialValues:S,children:(0,x.jsx)(w.Ex.Provider,{defaultStep:"entry",children:(0,x.jsx)(v.O,{})})})})}function H(){var e=(0,i.q)(),t=(0,s.Z)(),r=(0,a.UO)(),c=L((0,n.useState)(r),1)[0],d=void 0!==c.chainId&&e?BigInt(c.chainId):BigInt(1),p=o.Z.fromChainId({chainId:d});return(0,l.W)((function(){return t.refresh(e,p)})),(0,x.jsx)(f.VStack,{height:u.IR,children:(0,x.jsx)(n.Suspense,{fallback:(0,x.jsx)(h.T,{}),children:(0,x.jsx)(M,{selectedNetwork:p})})})}I(M,"useSwapRepository{swapRepository}\nuseObservableSuspenseZip{[swapAssets, supportedChains, mostUsedSwapAssetStats]}\nuseParams{params}\nuseWalletBySwapId{mostUsedWallet}\nuseMemo{initialFormValues}",(function(){return[s.Z,c.L,a.UO,g]})),I(H,"useIsL2ExperimentEnabled{hasL2Experiment}\nuseSwapRepository{swapRepository}\nuseParams{routeParams}\nuseState{[params](routeParams)}\nuseSubscriptionOnce{}",(function(){return[i.q,s.Z,a.UO,l.W]})),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(M,"TradeContent","/workspaces/apps/extension/src/screens/Trade/Trade.tsx"),A.register(H,"Trade","/workspaces/apps/extension/src/screens/Trade/Trade.tsx")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)},7075:(e,t,r)=>{"use strict";r.d(t,{O:()=>y});var n,a,o,s=r(2511),i=r(61466),c=r(8491),l=r(49447),u=r(6137),d=r(54353),p=r(55667),f=r(5815),m=r(65887),g=r(49513),b=r(34696),h=r(85893);function y(){var e=(0,c.Z)(b.cr).sourceWalletId,t=(0,i.r)(e.value,!0);if(!t)throw new Error("Failed to find a valid default wallet for the DEX flow");return(0,h.jsxs)(b.Ex.Steps,{children:[(0,h.jsx)(s.U,{component:(0,h.jsx)(u.y,{wallet:t})},"entry"),(0,h.jsx)(s.U,{component:(0,h.jsx)(p.E,{selectedWallet:t})},"selectAsset"),(0,h.jsx)(s.U,{component:(0,h.jsx)(m.o,{})},"selectWallet"),(0,h.jsx)(s.U,{component:(0,h.jsx)(f.M,{})},"selectNetwork"),(0,h.jsx)(s.U,{hideNavigation:!0,component:(0,h.jsx)(l.m,{})},"confirmationPreview"),(0,h.jsx)(s.U,{hideNavigation:!0,component:(0,h.jsx)(d.F,{})},"phoneConfirmation"),(0,h.jsx)(s.U,{hideNavigation:!0,component:(0,h.jsx)(g._,{})},"status")]})}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(y,"useFields{{ sourceWalletId }}\nuseSelectWallet{wallet}",(function(){return[c.Z,i.r]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(y,"TradeStepper","/workspaces/apps/extension/src/screens/Trade/TradeStepper.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},49447:(e,t,r)=>{"use strict";r.d(t,{m:()=>M});var n=r(25387),a=r(86896),o=r(54419),s=r(66282),i=r(46404),c=r(34696),l=r(8491),u=r(84769);function d(e){const{sourceFiatAmount:t,sourceCryptoAmount:r,targetFiatAmount:n,targetCryptoAmount:a}=(0,u.H)();return{primaryItem:{title:e.fromAsset.name,iconSource:{iconUrl:e.fromAsset.imageURL,currencyCode:e.fromAsset.currencyCode?.code,network:e.fromAsset.network},detail:t,subDetail:r,isAsset:!0,testID:"primary"},secondaryItem:{title:e.toAsset.name,iconSource:{iconUrl:e.toAsset.imageURL,currencyCode:e.toAsset.currencyCode?.code,network:e.toAsset.network},detail:n,subDetail:a,isAsset:!0,testID:"secondary"}}}var p=r(98048),f=r(36903),m=r(67294),g=r(5977),b=r(9643),h=r(50549),y=r(25444),w=r(87198);const v="trade.steps.useTransactionDetailsButtonOptions",x=(0,n.vU)({cancel:{id:`${v}.cancel`,defaultMessage:"Cancel",description:"Cancel button text that takes the user to the previous step"},trade:{id:`${v}.trade`,defaultMessage:"Convert",description:"Trade button text that takes the user to the next step"},errorTradeAnyway:{id:`${v}.tradeAnyway`,defaultMessage:"Convert Anyway",description:"Trade anyway button that takes the user to the next step"},errorConfirm:{id:`${v}.confirm`,defaultMessage:"Confirm",description:"Confirm button"}});function S(e){const t=(0,g.k6)(),{goBack:r,hasPreviousStep:n,goToStep:o}=(0,i.tC)(c.Ex),{unsignedSwapTxResult:{value:s},unsignedApproveTxResult:{value:u}}=(0,l.Z)(c.cr),d=(0,b.z)(),{formatMessage:p}=(0,a.Z)(),f=(0,w.qT)(),v=(0,w.NS)(),S=(0,w.kN)(),k=(0,w.Sg)(),C=(0,w.eK)(),L=(0,w.VZ)(),T=(0,w.b7)();const{signAndSubmitStandalone:A,isSignAndSubmitStandaloneLoading:j}=(0,y.Q)({wallet:s.wallet,unsignedTx:s.transaction,unsignedApproveTx:u?.transaction,signSuccess:function(){o("status"),T()},signError:L,unlockSuccess:v,unlockError:S}),I=(0,m.useCallback)((e=>()=>{f({userCancelledAfterError:e}),n?r():t.goBack()}),[r,n,t,f]),M=(0,h.W)(((e,t)=>(e&&e.unsubscribe(),d?A():(t?k():C(),o("phoneConfirmation"),null))),[d,A,o,k,C]),H=(0,m.useCallback)((e=>()=>M(e)),[M]);return(0,m.useMemo)((()=>{const t={children:p(x.cancel),variant:"secondary",onPress:I(!0),disabled:j},r={onPress:H(!0),loading:j,testID:"dex-preview-trade-button"};switch(e?.type){case"highPriceImpact":return[t,{...r,children:p(x.errorTradeAnyway),variant:"negative"}];case"notEnoughBalanceForMinerFee":return[t,{...r,children:p(x.errorConfirm),disabled:!0,variant:"primary"}];case"highNetworkFees":return[t,{...r,children:p(x.trade),variant:"primary"}];default:return[{...t,onPress:I(!1)},{...r,children:p(x.trade),variant:"primary",onPress:H(!1)}]}}),[p,I,j,H,e?.type])}var k,C=r(85893);e=r.hmd(e),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&k(e);var L,T,A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j="trade.steps.ConfirmationPreviewStep",I=(0,n.vU)({title:{id:"".concat(j,".title"),defaultMessage:"Confirm trade on 0x API",description:"Confirm on phone title message"},cancel:{id:"".concat(j,".cancel"),defaultMessage:"Cancel",description:"Cancel button text that takes the user to the previous step"},trade:{id:"".concat(j,".trade"),defaultMessage:"Trade",description:"Trade button text that takes the user to the next step"}});function M(){var e=(0,a.Z)().formatMessage,t=(0,i.tC)(c.Ex).goBack,r=(0,l.Z)(c.cr),n=r.swapTradeResponse.value,u=r.unsignedSwapTxResult.value;if(!n)throw new Error("swapTradeResponse was missing in ConfirmationPreviewStepContent");var m=d(n.quote),g=m.primaryItem,b=m.secondaryItem,h=(0,p.o)(),y=S(h),w=(0,f.D)(n,u);return(0,C.jsx)(s.q,{headerText:e(I.title),detailRowItems:w,error:h,options:y,handleBackButton:t,topSection:(0,C.jsx)(o.v,{primaryItem:g,secondaryItem:b})})}A(M,"useIntl{{ formatMessage }}\nuseStepper{{ goBack }}\nuseFields{{\n    swapTradeResponse: { value: swapTradeResponse },\n    unsignedSwapTxResult: { value: unsignedSwapTxResult },\n  }}\nuseConfirmationTopSectionItems{{ primaryItem, secondaryItem }}\nuseTradeTransactionDetailsErrors{transactionDetailsError}\nuseTransactionDetailsButtonOptions{buttonOptions}\nuseTransactionDetailRowItems{detailRows}",(function(){return[a.Z,i.tC,l.Z,d,p.o,S,f.D]})),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(j,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx"),L.register(I,"messages","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx"),L.register(M,"ConfirmationPreviewStep","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)},98048:(e,t,r)=>{"use strict";r.d(t,{o:()=>I});var n=r(67294),a=r(25387),o=r(86896),s=r(3832),i=r(99711),c=r(77835),l=r(51395),u=r(94935),d=r(34696),p=r(92455),f=r(39037),m=r(27025),g=r(79885),b=r(8491),h=r(61220),y=r(23991),w=r(8311);const v=()=>{const{unsignedSwapTxResult:{value:e},unsignedApproveTxResult:{value:t}}=(0,b.Z)(d.cr),r=t?.transaction,a=e?.transaction;return(0,n.useMemo)((()=>{if(!a)return 0n;if(!r)return x(a);if(a instanceof w.H&&r instanceof w.H){const e=a,t=r;return e.maxFeePerGas>t.maxFeePerGas?e.maxFeePerGas:t.maxFeePerGas}return 0n}),[a,r])},x=e=>e instanceof w.H?e.maxFeePerGas:0n;var S,k=r(85893);e=r.hmd(e),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&S(e);var C,L,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},A="trade.steps.ConfirmationPreviewStep.useTransactionDetailsErrors",j=(0,a.vU)({highPriceImpactMessage:{id:"".concat(A,".highPriceImpactMessage"),defaultMessage:"Price is significantly worse than the market rate. Try a smaller amount.",description:"High price impact error message"},notEnoughBalanceForMinerFeeMessage:{id:"".concat(A,".notEnoughBalanceForMinerFeeMessage"),defaultMessage:"You have {fiatTotalAvailableBalance} in {cryptoSymbol}, but you need a total of {fiatTotalTransactionValue} to proceed.",description:"Not enough balance for miner fee error message"},highNetworkFeesMessage:{id:"".concat(A,".highNetworkFees"),defaultMessage:"Network fees are high right now. Not paid to Coinbase. {learnMore}",description:"High network fees message"},learnMore:{id:"".concat(A,".learnMore"),defaultMessage:"Learn more",description:"Learn more label"}}),I=function(){var e=(0,o.Z)().formatMessage,t=(0,m.$)(),r=(0,g.r)(),a=(0,b.Z)(d.cr),w=a.swapTradeResponse.value,x=a.unsignedSwapTxResult.value,S=null==x?void 0:x.transaction;if(!S)throw new Error("Could not calculate trade error state");var C=r.find((function(e){return l.N.isEqual(e.currencyCode,S.feeCurrencyCode)&&s.$.isEqual(e.blockchain,S.blockchain)&&i.Z.isEqual(e.network,S.network)})),L=(0,p.a)(),T=L.networkMaxFee,A=L.networkEstimatedFee,I=(0,n.useMemo)((function(){var e=(null==w?void 0:w.tx.from)===(null==C?void 0:C.primaryAddress)?BigInt("".concat(null==w?void 0:w.tx.value)):0n;return(S instanceof u.L?A:T)+e}),[null==w?void 0:w.tx.from,null==w?void 0:w.tx.value,null==C?void 0:C.primaryAddress,S,T,A]),M=(0,n.useMemo)((function(){return void 0!==(null==C?void 0:C.balance)&&C.balance>=I}),[C,I]),H=v(),E=(0,n.useCallback)((function(){chrome.tabs.create({url:f.lI,active:!1})}),[]),G=(0,n.useMemo)((function(){return{highPriceImpact:{type:"highPriceImpact",isDismissible:!1,showErrorIcon:!0,message:e(j.highPriceImpactMessage),analytics:{eventName:"trade.confirmation_preview_step.high_price_impact",eventProperties:{componentType:h.ComponentType.text,action:h.ActionType.render,loggingId:"b3692ee6-284c-45fd-806b-d56d74444642"}}},notEnoughBalanceForMinerFee:{type:"notEnoughBalanceForMinerFee",isDismissible:!1,showErrorIcon:!0,message:e(j.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:S.feeCurrencyCode.code,fiatTotalAvailableBalance:void 0!==(null==C?void 0:C.balance)?t.formatToFiat(C.currencyCode,C.decimals,C.balance,!1,C.contractAddress,C.network):"",fiatTotalTransactionValue:C?t.formatToFiat(S.feeCurrencyCode,S.feeCurrencyDecimal,I,!1,void 0,C.network):""}),analytics:{eventName:"trade.confirmation_preview_step.not_enough_eth_balance",eventProperties:{componentType:h.ComponentType.text,action:h.ActionType.render,loggingId:"62afea2c-959b-47d4-b53d-957dc79fd101",totalEthereumRequired:Number(I)}}},highNetworkFees:{type:"highNetworkFees",isDismissible:!0,showErrorIcon:!1,message:e(j.highNetworkFeesMessage,{learnMore:(0,k.jsx)(y.Link,{variant:"label2",onClick:E,children:e(j.learnMore)})}),analytics:{eventName:"trade.confirmation_preview_step.high_miner_fee",eventProperties:{componentType:h.ComponentType.text,action:h.ActionType.render,loggingId:"17ef6de0-759c-4b89-b0d5-56704f9779df",networkFee:Number(T)}}}}}),[e,S.feeCurrencyCode,S.feeCurrencyDecimal,C,t,I,E,T]);return(0,n.useMemo)((function(){return M?null!=w&&w.quote.highPriceImpact?G.highPriceImpact:H>c.N?G.highNetworkFees:void 0:G.notEnoughBalanceForMinerFee}),[G.highNetworkFees,G.highPriceImpact,G.notEnoughBalanceForMinerFee,M,H,null==w?void 0:w.quote.highPriceImpact])};T(I,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{currencyFormatter}\nuseWallets{wallets}\nuseFields{{\n    swapTradeResponse: { value: swapTradeResponse },\n    unsignedSwapTxResult: { value: unsignedSwapTxResult },\n  }}\nuseCalculateNetworkFees{{ networkMaxFee, networkEstimatedFee }}\nuseMemo{totalEthereumRequired}\nuseMemo{hasEnoughBalance}\nuseHighestMinerFee{highestMinerFee}\nuseCallback{onClickLearnMore}\nuseMemo{errors: ErrorMap}\nuseMemo{}",(function(){return[o.Z,m.$,g.r,b.Z,p.a,v]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(A,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/hooks/useTradeTransactionDetailsErrors.tsx"),C.register(j,"messages","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/hooks/useTradeTransactionDetailsErrors.tsx"),C.register(I,"useTradeTransactionDetailsErrors","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/hooks/useTradeTransactionDetailsErrors.tsx")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},36903:(e,t,r)=>{"use strict";r.d(t,{D:()=>C});var n=r(67294),a=r(25387),o=r(86896),s=r(99711),i=r(67913),c=r(94935),l=r(62214),u=r(87198),d=r(92455),p=r(34696),f=r(27025),m=r(8491);function g(e,t,r,a){const o=(0,f.$)(),{unsignedSwapTxResult:c}=(0,m.Z)(p.cr),l=c.value?.transaction,u=c.value?.wallet;if(!l||!u)throw new Error("Could not calculate total, unsigned tx missing");return(0,n.useMemo)((()=>{const n=o.fiatValue(e.fromAsset.currencyCode,e.fromAsset.decimals,e.fromAmount,e.fromAsset.address?.rawValue,s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId}),2),c=o.fiatValue(l.feeCurrencyCode,l.feeCurrencyDecimal,r,void 0,s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId}),2),u=o.fiatValue(l.feeCurrencyCode,l.feeCurrencyDecimal,t,void 0,s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId}),2),d=o.fiatValue(l.feeCurrencyCode,l.feeCurrencyDecimal,a,void 0,s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId}),2);let p=null;n&&c&&(p=n.add(c));let f=null;n&&d&&(f=n.add(d));let m=null;return n&&u&&(m=n.add(u)),{totalAmountLowerBound:p,totalAmountUpperBound:f,totalAmountEstimated:m}}),[o,r,t,a,e.chainId,e.fromAmount,e.fromAsset.address?.rawValue,e.fromAsset.currencyCode,e.fromAsset.decimals,l.feeCurrencyCode,l.feeCurrencyDecimal])}var b,h=r(60417),y=r.n(h);e=r.hmd(e),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&b(e);var w,v,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S="useTransactionDetailsRowItems",k=(0,a.vU)({walletUsedLabel:{id:"".concat(S,".walletUsedLabel"),defaultMessage:"Wallet used",description:"Label for transaction detail row displaying the wallet hash"},slippageTolerenceLabel:{id:"".concat(S,".slippageTolerenceLabel"),defaultMessage:"Slippage tolerance",description:"Label for transaction detail row displaying the slippage tolerence percentage"},slippageTolerenceTooltip:{id:"".concat(S,".slippageTolerenceTooltip"),defaultMessage:"We convert crypto using a 3rd party decentralized exchange. Your trade will execute at a price within 3% of the trade, or it will be canceled and your funds will be returned.",description:"Tool tip explaining the slippage tolerance rate"},networkFeeLabel:{id:"".concat(S,".networkFeeLabel"),defaultMessage:"Network fee",description:"Label for transaction detail row displaying the network fee"},networkFeeTooltip:{id:"".concat(S,".networkFeeTooltip"),defaultMessage:"Applies to all transactions. Not paid to Coinbase.",description:"Tooltip explaining the network fee"},coinbaseFeeLabel:{id:"".concat(S,".coinbaseFeeLabel"),defaultMessage:"Coinbase fee",description:"Label for transaction detail row displaying the coinbase fee"},coinbaseFeeTooltip:{id:"".concat(S,".coinbaseFeeTooltip"),defaultMessage:"Coinbase charges a service fee of 1% on token conversions.",description:"Coinbase fee tooltip message"},transactionSpeedLabel:{id:"".concat(S,".transactionSpeedLabel"),defaultMessage:"Transaction speed",description:"Label for transaction detail row displaying the coinbase fee"},totalCostLabel:{id:"".concat(S,".totalCostLabel"),defaultMessage:"Total cost",description:"Label for transaction detail row displaying the coinbase fee"}});function C(e,t){var r,a=(0,o.Z)(),p=a.formatMessage,m=a.formatNumber,b=(0,u.IV)(),h=(0,f.$)(),w=null==t?void 0:t.transaction,v=null==t?void 0:t.wallet,x=(0,d.a)(),S=x.networkBaseFee,C=x.networkMaxFee,L=x.networkEstimatedFee;if((0,l.F)((function(){b({networkEstimatedFee:Number(L),networkMaxFee:Number(C),networkBaseFee:Number(S)})})),!(e&&t&&w&&v))throw new Error("Failed to create detail row items becuase of missing tx data");var T=(0,n.useMemo)((function(){var t,r=h.fiatValue(e.fee.baseAsset.currencyCode,e.fee.baseAsset.decimals,e.fee.amount,null===(t=e.fee.baseAsset.address)||void 0===t?void 0:t.rawValue,s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId}));if(r){var n=h.fiatValueString(r);if(n)return n}var a=h.formatToCrypto({currencyCode:e.fee.baseAsset.currencyCode,decimals:e.fee.baseAsset.decimals,value:e.fee.amount,network:s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId}),includeCode:!0});if(!a)throw new Error("Could not calculate coinbase fee");return a}),[h,e.chainId,e.fee.amount,null===(r=e.fee.baseAsset.address)||void 0===r?void 0:r.rawValue,e.fee.baseAsset.currencyCode,e.fee.baseAsset.decimals]),A=m(.03,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),j=(0,n.useMemo)((function(){if(w instanceof c.L){var t=h.formatToFiat(w.feeCurrencyCode,w.feeCurrencyDecimal,L,!1,void 0,s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId}));return"".concat(t)}var r=h.formatToFiat(w.feeCurrencyCode,w.feeCurrencyDecimal,S,!1,void 0,s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId})),n=h.formatToFiat(w.feeCurrencyCode,w.feeCurrencyDecimal,C,!1,void 0,s.Z.fromChainId({chainPrefix:i.jq,chainId:e.chainId}));return"".concat(r," \u2013 ").concat(n)}),[w,h,S,e.chainId,C,L]),I=g(e.quote,L,S,C),M=I.totalAmountLowerBound,H=I.totalAmountUpperBound,E=I.totalAmountEstimated,G=(0,n.useMemo)((function(){if(w instanceof c.L){if(!E)throw Error("Could not calculate the total amount");var e=h.fiatValueString(E);return"".concat(e)}if(!M||!H)throw Error("Could not calculate the total amount");var t=h.fiatValueString(M),r=h.fiatValueString(H);return"".concat(t," \u2013 ").concat(r)}),[h,E,M,H,w]);return(0,n.useMemo)((function(){return y()([{label:p(k.slippageTolerenceLabel),detailText:A,tooltipText:p(k.slippageTolerenceTooltip)},{label:p(k.networkFeeLabel),detailText:j,tooltipText:p(k.networkFeeTooltip)},{label:p(k.coinbaseFeeLabel),detailText:T,tooltipText:p(k.coinbaseFeeTooltip)},{label:p(k.totalCostLabel),detailText:G}])}),[p,T,j,A,G])}function L(){var e=(0,o.Z)().formatMessage;return y()([e(k.walletUsedLabel),e(k.slippageTolerenceLabel),e(k.networkFeeLabel),e(k.coinbaseFeeLabel),e(k.totalCostLabel)])}x(C,"useIntl{{ formatMessage, formatNumber }}\nuseTradeConfirmationStepViewed{triggerAnalyticsConfirmationStep}\nuseCurrencyFormatter{currencyFormatter}\nuseCalculateNetworkFees{{ networkBaseFee, networkMaxFee, networkEstimatedFee }}\nuseOnMount{}\nuseMemo{formattedCoinbaseFee}\nuseMemo{formattedNetworkFee}\nuseCalculateTransactionTotal{{ totalAmountLowerBound, totalAmountUpperBound, totalAmountEstimated }}\nuseMemo{formattedTotalCost}\nuseMemo{}",(function(){return[o.Z,u.IV,f.$,d.a,l.F,g]})),x(L,"useIntl{{ formatMessage }}",(function(){return[o.Z]})),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(S,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/hooks/useTransactionDetailRowItems.tsx"),w.register(k,"messages","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/hooks/useTransactionDetailRowItems.tsx"),w.register(C,"useTransactionDetailRowItems","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/hooks/useTransactionDetailRowItems.tsx"),w.register(L,"useTransactionDetailRowLabels","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/hooks/useTransactionDetailRowItems.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},6137:(e,t,r)=>{"use strict";r.d(t,{y:()=>ae,s:()=>ne});var n=r(67294),a=r(25387),o=r(86896),s=r(5977),i=r(7712),c=r(85930),l=r(17969),u=r(69095),d=r(46404),p=r(24754),f=r(53097),m=r(87198),g=r(34696),b=r(6451),h=r(50549),y=r(8491);function w(){const{selectedNetwork:e}=(0,y.Z)(g.cr),t=(0,b.Z)(),r=(0,p.q)(),[a,o]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),c=(0,n.useCallback)((()=>{o(!1),i(!1)}),[]),l=(0,n.useCallback)((()=>{o(!1),i(!0)}),[]);return{refreshSwapAssets:(0,h.W)((n=>(n&&n.unsubscribe(),t.refresh(r,e.value).subscribe(c,l))),[r,l,c,e.value,t]),refreshSwapAssetsIsLoading:a,refreshSwapAssetsHasError:s}}var v=r(22558),x=r(27025),S=r(44599),k=r(47393),C=r(6585),L=r(40616),T=r(23991),A=r(79885);function j(e){const{sourceWalletId:t,targetAssetId:r,cryptoAmount:a}=(0,y.Z)(g.cr),o=(0,A.r)(!0),s=(0,m.vD)();return{toggleAssets:(0,n.useCallback)((()=>{const n=(o.find((e=>e.swapId===r.value))??e).id,i=o.find((t=>t.id===e.id))?.swapId;n&&i&&(s({sourceWalletId:n,targetAssetId:i}),t.onChange(n),r.onChange(i),a.onChange(0n))}),[o,e,s,t,r,a]),isDisabled:(0,n.useMemo)((()=>!r.value||!o.find((e=>e.swapId===r.value))),[r.value,o])}}var I=r(55350),M=r(15325),H=r(30628),E=r(17613),G=r(25080),P=r(47746),F=r(20258);function O({cryptoAmount:e,sourceAsset:t,targetAsset:r}){const a=(0,b.Z)(),o=(0,A.r)(),{swapTradeResponse:s,swapTradeError:i,unsignedApproveTxResult:c,unsignedSwapTxResult:l}=(0,y.Z)(g.cr),[u,p]=(0,n.useState)(!1),[f,m]=(0,n.useState)(!1),{goToStep:w}=(0,d.tC)(g.Ex),v=(0,n.useCallback)((([e,t,r])=>{s.onChange(e),c.onChange(t),l.onChange(r),p(!1),m(!1),w("confirmationPreview")}),[s,c,l,w]),x=(0,n.useCallback)((e=>{i.onChange(e),p(!1),m(!0)}),[i]),S=o.find((e=>e.swapId===t?.swapId)),k=S?.primaryAddress,C=(0,n.useMemo)((()=>Boolean(S?.network&&(0,H.F)(S?.network))),[S]);return{getTrade:(0,h.W)((n=>{n&&n.unsubscribe();const o=S?.network;return o&&S&&k&&t&&r?(p(!0),a.getTrade(k,t,r,e,E.d.Source,t.chainId).pipe((0,P.zg)((e=>{const t=F.P.ethCipherCore.getConfirmedEthereumTransactionCount(k,o);return(0,G.$R)(M.o.just(e),t)})),(0,P.zg)((([e,t])=>{let r=M.o.just(),n=t;e.approveTx&&(r=function(e,t,r,n,a){return a?n.generateUnsigned1559ApproveTx(e,t,r):n.generateUnsignedApproveTx(e,t,r)}(S,e.approveTx,t,a,C),n=t+1n);const o=function(e,t,r,n,a){return a?n.generateUnsigned1559SwapTx(e,t,r):n.generateUnsignedSwapTx(e,t,r)}(S,e,n,a,C);return(0,G.$R)(M.o.just(e),r,o)})),(0,P.zg)((([e,t,r])=>("Failure"===t?.kind&&((0,I.H)({swapRepository:`error building approveTx: ${t.err}`}),Object.assign(t.transaction,{gasLimit:e.approveTx?.gas})),"Failure"===r?.kind&&((0,I.H)({swapRepository:`Error building swapTx: ${r.err}`}),Object.assign(r.transaction,{gasLimit:e.tx.gas})),(0,G.$R)(M.o.just(e),M.o.just(t),M.o.just(r)))))).subscribe(v,x)||null):null}),[S,k,t,r,a,e,v,x,C]),isTradeLoading:u,hasTradeError:f}}var D=r(54073),N=r.n(D);const B=({source:e,target:t})=>{const r=(0,x.$)(),[a,o]=(0,n.useState)(),[s,i]=(0,n.useState)(!1),[c,l]=(0,n.useState)(),u=(0,b.Z)(),d=(0,m.lf)(),p=(0,n.useCallback)((e=>{o(e),i(!1),l(void 0)}),[]),f=(0,n.useCallback)((e=>{o(void 0),i(!1),l(e?.data?.error),d({error:e})}),[d]),g=(0,h.W)(((r,n)=>{let a;return r&&r.unsubscribe(),e&&t&&n>0&&(i(!0),a=u.getFastQuote(e,t,n,E.d.Source,e.chainId).subscribe(p,f)),a??null}),[u,f,p,e,t]),y=(0,n.useMemo)((()=>a?r.formatToCrypto({currencyCode:a.fromAsset.currencyCode,decimals:a.fromAsset.decimals,value:BigInt(a.fromAmount),includeCode:!0,maxDisplayDecimals:BigInt(8)}):""),[r,a]),w=(0,n.useMemo)((()=>a?r.formatToCrypto({currencyCode:a.toAsset.currencyCode,decimals:a.toAsset.decimals,value:BigInt(a.toAmount),includeCode:!0,maxDisplayDecimals:BigInt(8)}):""),[r,a]),v=(0,n.useMemo)((()=>!s&&c?c:void 0),[c,s]);return{getQuote:(0,n.useCallback)(N()(g,300),[g]),quote:a,fromCryptoAmount:y,toCryptoAmount:w,isLoading:s,error:v}};var R=r(34291),Z=r.n(R),V=r(23245);const U=(0,a.vU)({from:{id:"trade.steps.EntryStep.sourceSelector.from",defaultMessage:"From",description:"From label in trade crypto flow"}}),W=e=>{const{formatMessage:t}=(0,o.Z)(),r=function(e){const{convertibleAssets:t}=(0,V.EP)();return t.get(e.swapId)??t.values().next().value}(e);return(0,n.useMemo)((()=>({secondaryLabel:r?.name,primaryLabel:t(U.from),image:r?.imageURL,onPress:Z(),dataElementHandle:"convert-from-selector",swapAsset:r})),[t,r])};var q,_=r(48125),$=r(85893);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&q(e);var Y,ee,te="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},re="trade.steps.EntryStep",ne=(0,a.vU)({title:{id:"".concat(re,".title"),defaultMessage:"Convert {displayName}",description:"Title for trade crypto entry screen"},availableAmount:{id:"".concat(re,".availableAmount"),defaultMessage:"{amount} available",description:"Label that aims to display the available amount for the selected asset"},nextCTALabel:{id:"".concat(re,".nextCTALabel"),defaultMessage:"Preview",description:"Label for button CTA label to move to next step in trade crypto flow"},noAmountError:{id:"".concat(re,".noAmountError"),defaultMessage:"Please enter an amount.",description:"Message to be displayed when there is no amount added and the user press confirm button"},transactionCanceled:{id:"".concat(re,".transactionCanceled"),defaultMessage:"Transaction canceled",description:"Error messages shown when the user cancels their transaction "},tryAgain:{id:"".concat(re,".tryAgain"),defaultMessage:"Try again",description:"Button text that indicates the user can re-submit their transaction"},goBackHome:{id:"".concat(re,".goBackHome"),defaultMessage:"Go back home",description:"Button text that takes the user back to the home screen"}});function ae(e){var t,r=e.wallet,a=X((0,n.useState)(!1),2),b=a[0],h=a[1],A=(0,s.k6)().goBack,I=(0,d.tC)(g.Ex).goToStep,M=(0,o.Z)().formatMessage,H=(0,y.Z)(g.cr),E=H.cryptoAmount,G=H.selectedNetwork,P=(0,x.$)(),F=(0,p.q)(),D=W(r),N=(0,_.a)(),R=j(r),Z=R.toggleAssets,V=R.isDisabled,U=(0,m.iJ)(),q=(0,m.nD)(),z=(0,m.hu)(r.currencyCode.code),Q=w(),J=Q.refreshSwapAssets,Y=Q.refreshSwapAssetsIsLoading,ee=Q.refreshSwapAssetsHasError,te=B({source:D.swapAsset,target:N.swapAsset}),re=te.getQuote,ae=te.isLoading,oe=te.fromCryptoAmount,se=te.toCryptoAmount,ie=te.error,ce=O({cryptoAmount:E.value,sourceAsset:D.swapAsset,targetAsset:N.swapAsset}),le=ce.getTrade,ue=ce.isTradeLoading,de=ce.hasTradeError;(0,n.useEffect)((function(){D&&N&&re(E.value)}),[E.value,re,D,N]);var pe=(0,S.iR)();(0,n.useEffect)((function(){N.swapAsset&&pe(N.swapAsset.currencyCode,N.swapAsset.chainId)}),[pe,N.swapAsset]),(0,n.useEffect)((function(){J()}),[J,G.value]),(0,m.Bu)(r.currencyCode.code);var fe=void 0!==r.balance?P.formatToFiat(r.currencyCode,r.decimals,r.balance,!1,r.contractAddress,r.network):"",me=(0,n.useMemo)((function(){return E.value>0&&ie?ie:void 0}),[E.value,ie]),ge=(0,n.useCallback)((function(){le()}),[le]),be=(0,n.useMemo)((function(){return K(K({},D),{},{dataElementHandle:"dex-from-selector",isLoading:ae,secondaryLabel:E.value&&oe?oe:D.secondaryLabel,onPress:function(){I("selectWallet")}})}),[E.value,oe,I,ae,D]),he=(0,n.useMemo)((function(){return K(K({},N),{},{dataElementHandle:"dex-to-selector",isLoading:ae,secondaryLabel:E.value&&se?se:N.secondaryLabel,onPress:function(){I("selectAsset")}})}),[E.value,I,ae,N,se]),ye=(0,n.useMemo)((function(){var e,t,r;return b||0n===E.value||Boolean(me)||!N.swapAsset||!D.swapAsset||(null===(e=D.swapAsset)||void 0===e?void 0:e.swapId)===(null===(t=N.swapAsset)||void 0===t?void 0:t.swapId)||ue||!(null!==(r=he.swapAsset)&&void 0!==r&&r.swappable)||Y}),[E.value,me,b,ue,Y,null===(t=he.swapAsset)||void 0===t?void 0:t.swappable,D.swapAsset,N.swapAsset]),we=(0,n.useCallback)((function(){z(),A()}),[A,z]),ve=(0,n.useCallback)((function(){I("selectNetwork")}),[I]);return de||ee?(0,$.jsx)(c.ErrorState,{}):(0,$.jsxs)(L.VStack,{height:v.UV,justifyContent:"space-between",children:[(0,$.jsx)(l.w,{onBack:we,title:M(ne.title,{displayName:r.displayName}),subTitle:F?(0,$.jsx)(u.l,{network:G.value,onPress:ve}):M(ne.availableAmount,{amount:fe})}),(0,$.jsxs)(L.VStack,{alignContent:"center",spacingHorizontal:3,children:[(0,$.jsx)(i._Z,{context:"trade",wallet:r,onInsufficentFund:h,cryptoAmount:E,analyticsGetMaxValue:U,analyticsSwitchDisplay:q}),F&&(0,$.jsx)(T.TextLabel2,{as:"p",color:"foregroundMuted",align:"center",spacingTop:1,children:M(ne.availableAmount,{amount:fe})}),(0,$.jsx)(C.Spacer,{})]}),(0,$.jsxs)(L.VStack,{spacing:3,children:[(0,$.jsx)(f.rb,{onClickSwitcher:Z,isSwitchDisabled:V,error:me,row1:be,row2:he}),(0,$.jsx)(k.Button,{block:!0,disabled:ye,loading:ue||Y,onPress:ge,testID:"dex-entry-preview-button",children:M(ne.nextCTALabel)})]})]})}te(ae,"useState{[hasInsufficientFund, setHasInsufficientFund](false)}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseIntl{{ formatMessage }}\nuseFields{{ cryptoAmount, selectedNetwork }}\nuseCurrencyFormatter{currencyFormatter}\nuseIsL2ExperimentEnabled{hasL2Experiment}\nuseSourceSelector{sourceSelector}\nuseTargetSelector{targetSelector}\nuseAssetsToggler{{ toggleAssets, isDisabled }}\nuseGetMaxValueButton{triggerAnalyticsGetMaxValue}\nuseSwitchDisplayButton{triggerAnalyticsSwitchDisplay}\nuseEntryStepBackButton{triggerAnalyticsBackButton}\nuseRefreshSwapAssets{{ refreshSwapAssets, refreshSwapAssetsIsLoading, refreshSwapAssetsHasError }}\nuseQuote{{\n    getQuote,\n    isLoading: isQuoteLoading,\n    fromCryptoAmount,\n    toCryptoAmount,\n    error,\n  }}\nuseGetTrade{{ getTrade, isTradeLoading, hasTradeError }}\nuseEffect{}\nuseAddTrackedExchangeRate{addTrackedRate}\nuseEffect{}\nuseEffect{}\nuseEntryStepViewed{}\nuseMemo{entrySelectorError}\nuseCallback{onConfirmHandler}\nuseMemo{row1Props}\nuseMemo{row2Props}\nuseMemo{isTradeButtonDisabled}\nuseCallback{handleGoBack}\nuseCallback{onNetworkSelectionSubheaderPress}",(function(){return[s.k6,d.tC,o.Z,y.Z,x.$,p.q,W,_.a,j,m.iJ,m.nD,m.hu,w,B,O,S.iR,m.Bu]})),(Y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(Y.register(re,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/EntryStep.tsx"),Y.register(ne,"messages","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/EntryStep.tsx"),Y.register(ae,"EntryStep","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/EntryStep.tsx")),(ee="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&ee(e)},99759:(e,t,r)=>{"use strict";r.d(t,{T:()=>b});var n,a,o,s=r(86896),i=r(46448),c=r(30783),l=r(53671),u=r(56456),d=r(22558),p=r(47393),f=r(6585),m=r(6137),g=r(85893);function b(){var e=(0,s.Z)().formatMessage;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.W,{}),(0,g.jsxs)(f.VStack,{height:d.UV,justifyContent:"space-between",children:[(0,g.jsx)(c.Z,{}),(0,g.jsxs)(f.VStack,{alignContent:"center",spacingHorizontal:3,children:[(0,g.jsx)(i.O,{}),(0,g.jsx)(f.Spacer,{})]}),(0,g.jsxs)(f.VStack,{spacing:3,children:[(0,g.jsx)(u.m,{}),(0,g.jsx)(p.Button,{block:!0,disabled:!0,children:e(m.s.nextCTALabel)})]})]})]})}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(b,"useIntl{{ formatMessage }}",(function(){return[s.Z]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(b,"EntryStepFallback","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/EntryStepFallback.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},48125:(e,t,r)=>{"use strict";r.d(t,{a:()=>v});var n=r(67294),a=r(25387),o=r(86896),s=r(34291),i=r.n(s),c=r(23991),l=r(23245),u=r(34696),d=r(8491);function p(){const{targetAssetId:e}=(0,d.Z)(u.cr),{convertibleAssets:t}=(0,l.EP)();return t.get(e.value)}var f,m=r(85893);e=r.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e);var g,b,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y="trade.steps.EntryStep.targetSelector",w=(0,a.vU)({to:{id:"".concat(y,".to"),defaultMessage:"To",description:"To label in trade crypto flow"},chooseCoin:{id:"".concat(y,".chooseCoin"),defaultMessage:"Choose coin",description:"Label to be displayed when there is no target coin selected"}}),v=function(){var e=(0,o.Z)().formatMessage,t=p(),r=(0,n.useMemo)((function(){return(0,m.jsx)(c.Link,{variant:"label1",onClick:i(),children:e(w.chooseCoin)})}),[e]);return(0,n.useMemo)((function(){var n;return{secondaryLabel:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:r,primaryLabel:e(w.to),image:null==t?void 0:t.imageURL,onPress:i(),dataElementHandle:"convert-to-selector",swapAsset:t}}),[t,r,e])};h(v,"useIntl{{ formatMessage }}\nuseTargetAsset{targetAsset}\nuseMemo{ChooseCoinLink}\nuseMemo{}",(function(){return[o.Z,p]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(y,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/hooks/useTargetSelector.tsx"),g.register(w,"messages","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/hooks/useTargetSelector.tsx"),g.register(v,"useTargetSelector","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/hooks/useTargetSelector.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},54353:(e,t,r)=>{"use strict";r.d(t,{F:()=>A});var n=r(67294),a=r(25387),o=r(86896),s=r(5977),i=r(85930),c=r(15152),l=r(46404),u=r(62214),d=r(87198),p=r(34696),f=r(73107),m=r(87763),g=r(79885),b=r(8491);function h(){const e=(0,s.k6)(),[t,r]=(0,n.useState)(null),{goBack:a,goToStep:o}=(0,l.tC)(p.Ex),i=(0,m.u)(),c=(0,g.r)(),{unsignedSwapTxResult:{value:u},unsignedApproveTxResult:{value:h}}=(0,b.Z)(p.cr),y=h?.transaction,w=u?.transaction,v=(0,d.Vm)(),x=(0,d.t0)(),S=(0,d.CJ)(),k=(0,n.useMemo)((()=>c.find((e=>e.blockchain.rawValue===f.t.rawValue))),[c]),C=(0,n.useCallback)((()=>{v(),o("status"),r(null)}),[o,v]),L=(0,n.useCallback)((t=>{"UserRejectedWalletLinkRequest"===t.name?x():S(),r({errorMessage:t.message,onPrimaryButtonPress:()=>{r(null),a()},onSecondaryButtonPress:()=>e.replace("/portfolio"),secondaryButtonText:"Go Back Home",primaryButtonText:"Try Again"})}),[a,e,x,S]),T=(0,n.useCallback)((async()=>{if(!k||!w)return null;try{await i({unsignedTx:y??w,wallet:k}),C()}catch(e){L(e)}}),[L,C,i,y,w,k]);return(0,n.useMemo)((()=>({signAndSubmitViaWalletlink:T,errorStateProps:t})),[t,T])}var y,w=r(85893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&y(e);var S,k,C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L="trade.steps.PhoneConfirmation",T=(0,a.vU)({title:{id:"".concat(L,".title"),defaultMessage:"Confirm on phone",description:"Confirm on phone title message"},description:{id:"".concat(L,".description"),defaultMessage:"Open Coinbase Wallet on your phone to confirm this transaction.",description:"Confirm on phone description message"},retry:{id:"".concat(L,".retry"),defaultMessage:"Resend notification",description:"Retry notification message"},dontSeeNotification:{id:"".concat(L,".dontSeeNotification"),defaultMessage:"Don't see the notification?",description:"Don't see the notification message"}});function A(){var e=(0,s.k6)(),t=(0,o.Z)().formatMessage,r=(0,l.tC)(p.Ex),a=r.goBack,f=r.hasPreviousStep,m=(0,d.D$)(),g=(0,d.xQ)();(0,d.a7)();var b=(0,n.useCallback)((function(){m(),f?a():e.goBack()}),[m,f,a,e]),y=h(),S=y.signAndSubmitViaWalletlink,k=y.errorStateProps,C=(0,n.useCallback)((function(){g(),S()}),[S,g]);(0,u.F)((function(){k||S()}));var L=(0,n.useMemo)((function(){return{label:t(T.retry),onClick:C}}),[t,C]);return k?(0,w.jsx)(i.ErrorState,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},k)):(0,w.jsx)(c.n,{title:t(T.title),description:t(T.description),onDismiss:b,secondaryActionLabel:t(T.dontSeeNotification),retryAction:L})}C(A,"useHistory{history}\nuseIntl{{ formatMessage }}\nuseStepper{{ goBack, hasPreviousStep }}\nusePhoneConfirmationStepBackButton{triggerAnalyticsBackButton}\nusePhoneConfirmationStepRetry{triggerAnalyticsRetry}\nusePhoneConfirmationStepViewed{}\nuseCallback{onDismiss}\nuseSignAndSubmitViaWalletlink{{ signAndSubmitViaWalletlink, errorStateProps }}\nuseCallback{retryAction}\nuseOnMount{}\nuseMemo{retryActionProps}",(function(){return[s.k6,o.Z,l.tC,d.D$,d.xQ,d.a7,h,u.F]})),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(L,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx"),S.register(T,"messages","/workspaces/apps/extension/src/screens/Trade/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx"),S.register(A,"PhoneConfirmationStep","/workspaces/apps/extension/src/screens/Trade/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},55667:(e,t,r)=>{"use strict";r.d(t,{E:()=>F});var n=r(67294),a=r(25387),o=r(86896),s=r(24930),i=r(12838),c=r(17969),l=r(32462),u=r(27299),d=r(46404),p=r(34498),f=r.n(p),m=r(43477);function g({assets:e,query:t}){return(0,n.useMemo)((()=>{const r=Array.from(e,(([e,t])=>t));return 0===r.length?[]:0===t.length?r:(({assets:e,query:t})=>{if(!t)return Object.values(e);const r=Object.values(e).reduce(((e,r)=>null!==(0,m.Z)(t,r.currencyCode.rawValue,r.name).relevance?[...e,r]:e),[]);return f()(r,["relevance","coverage"],["asc","desc"])})({assets:r,query:t})}),[e,t])}var b,h=r(24754),y=r(23245),w=r(87198),v=r(34696),x=r(91870),S=r(22558),k=r(54073),C=r.n(k),L=r(8491),T=r(6585),A=r(85893);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&b(e);var M,H,E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},G="trade.steps.SelectAssetStep",P=(0,a.vU)({title:{id:"".concat(G,".title"),defaultMessage:"Convert to",description:"Title for asset select page"}});function F(e){var t=e.selectedWallet,r=(0,y.EP)().convertibleAssets,a=(0,d.tC)(v.Ex),p=a.goBack,f=a.goToStep,m=(0,o.Z)().formatMessage,b=(0,h.q)(),k=(0,L.Z)(v.cr),I=k.targetAssetId,M=k.selectedNetwork,H=j((0,n.useState)(""),2),E=H[0],G=H[1],F=j((0,n.useState)(""),2),O=F[0],D=F[1],N=(0,x.C)(),B=(0,w.hz)(),R=(0,w.ub)(),Z=(0,n.useCallback)(C()((function(e){return D(e)}),300),[]),V=(0,n.useCallback)((function(e){G(e.target.value),Z(e.target.value)}),[Z]),U=g({assets:r,query:O}),W=(0,n.useCallback)((function(e){return function(){e.swappable?B({selectedAssetId:e.swapId}):R({selectedAssetId:e.swapId}),I.onChange(e.swapId),N(e),f("entry")}}),[f,N,I,B,R]),q=(0,n.useCallback)((function(e){var r=e.key,n=e.index,a=e.style;return(0,A.jsx)("div",{style:a,children:(0,A.jsx)(i.p,{onSelect:W(U[n]),asset:U[n],disabled:(null==t?void 0:t.swapId)===U[n].swapId,testID:"dex-to-asset-item-".concat(U[n].currencyCode.rawValue)})},r)}),[U,W,null==t?void 0:t.swapId]);return(0,A.jsxs)(T.VStack,{height:S.UV,children:[(0,A.jsx)(c.w,{onBack:p,title:m(P.title)}),b&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.Q,{network:M.value,disableNetworkChange:!0}),(0,A.jsx)(T.Spacer,{vertical:2})]}),(0,A.jsx)(u.G,{query:E,onChange:V}),(0,A.jsx)(s.aV,{rowCount:U.length,width:370,height:425,rowHeight:80,rowRenderer:q,overscanRowCount:20})]})}E(F,"useConvertContext{{ convertibleAssets }}\nuseStepper{{ goBack, goToStep }}\nuseIntl{{ formatMessage }}\nuseIsL2ExperimentEnabled{hasL2Experiment}\nuseFields{{ targetAssetId, selectedNetwork }}\nuseState{[searchBarText, setSearchBarText]('')}\nuseState{[debouncedQuery, setDebouncedQuery]('')}\nusePersistAssetSelection{persistSelection}\nuseTradeSelectAsset{triggerAnalyticsSelectAsset}\nuseTradeSelectUnsupportedAsset{triggerAnalyticsSelectUnsupportedAsset}\nuseCallback{debounceQuery}\nuseCallback{handleSearchChange}\nuseFilteredSwapAssets{filteredAssets}\nuseCallback{getHandleSelect}\nuseCallback{rowRenderer}",(function(){return[y.EP,d.tC,o.Z,h.q,L.Z,x.C,w.hz,w.ub,g]})),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(G,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/SelectAssetStep/SelectAssetStep.tsx"),M.register(P,"messages","/workspaces/apps/extension/src/screens/Trade/steps/SelectAssetStep/SelectAssetStep.tsx"),M.register(F,"SelectAssetStep","/workspaces/apps/extension/src/screens/Trade/steps/SelectAssetStep/SelectAssetStep.tsx")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)},26717:(e,t,r)=>{"use strict";r.d(t,{h:()=>w});var n,a,o,s=r(67294),i=r(68839),c=r(52180),l=r.n(c),u=r(59378),d=r(86142),p=r(9943),f=r(6585),m=r(74673),g=r(23991),b=r(85893);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=e.network,r=e.balance,n=e.selected,a=e.onPress,o=e.disabled,c=(0,u.g)(),y=t.asChain(),w=h((0,s.useState)(!1),2),v=w[0],x=w[1],S=(0,s.useCallback)((function(){null==a||a(t)}),[t,a]),k=(0,s.useCallback)((function(){x(!0)}),[]),C=(0,s.useCallback)((function(){x(!1)}),[]),L=(0,s.useMemo)((function(){var e=Intl.NumberFormat(void 0,{style:"currency",currency:c.code.rawValue});return(0,d.VG)(e,null!=r?r:new(l())(0))}),[c.code.rawValue,r]);return(0,b.jsx)(m.Interactable,{as:"button",backgroundColor:"primaryWash",borderWidth:"button",borderRadius:"standard",onClick:S,block:!0,transparentWhileInactive:!n,onMouseOver:k,onMouseOut:C,disabled:o,testID:"network-selector-item-".concat(null==y?void 0:y.chainId),children:(0,b.jsxs)(f.HStack,{justifyContent:"space-between",alignItems:"center",spacingStart:1,spacingEnd:2,spacingVertical:2,children:[(0,b.jsxs)(f.HStack,{alignItems:"center",children:[(0,b.jsx)(i.Y,{asset:{iconUrl:null==y?void 0:y.chainImageUrl},size:"small",spacingEnd:2,alignContent:"center"}),(0,b.jsx)(g.TextBody,{as:"p",color:n||v?"primary":"foreground",children:"".concat(null==y?void 0:y.displayName," \u2022 ").concat(L)})]}),n&&(0,b.jsx)(p.Icon,{name:"checkmark",color:"primary",size:"s"})]})})}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(w,"useActiveFiatCurrency{activeFiatCurrency}\nuseState{[isMouseOver, setIsMouseOver](false)}\nuseCallback{onClick}\nuseCallback{onMouseOver}\nuseCallback{onMouseOut}\nuseMemo{formattedBalance}",(function(){return[u.g]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(w,"NetworkListItem","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/NetworkListItem.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},5815:(e,t,r)=>{"use strict";r.d(t,{M:()=>G});var n=r(67294),a=r(25387),o=r(86896),s=r(24930),i=r(99711),c=r(17969),l=r(46404),u=r(26729),d=r(52180),p=r.n(d),f=r(86142);function m(e,t){return(0,n.useMemo)((()=>{const r=new Map;return e?.filter((e=>!e.network.isTestnet&&e.isBalanceLoaded)).forEach((e=>{const n=(0,f.qM)(t,e.currencyCode,e.contractAddress,e.network)??new(p())(0),a=(0,u.DV)(e.balance),o=(0,u.DV)(e.decimals),s=n.times(a).dividedBy(new(p())(10).pow(o)),i=e.network?.rawValue;if(!i)return;const c=(r.get(i.toString())??new(p())(0)).plus(s);r.set(i.toString(),c)})),r}),[t,e])}var g,b=r(23245),h=r(87198),y=r(34696),w=r(28901),v=r(79885),x=r(8491),S=r(6585),k=r(23991),C=r(26717),L=r(85893);e=r.hmd(e),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&g(e);var T,A,j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I="SelectNetworkStep",M=(0,a.vU)({title:{id:"".concat(I,".title"),defaultMessage:"Select network",description:"Title for the select network page"},learnMoreMessage:{id:"".concat(I,".learnMoreMessage"),defaultMessage:"Not sure? Learn the difference between Ethereum, Polygon, and other networks in our help center.",description:"Informs the user that there is a more in depth explanation of the networks in the help center"},learnMore:{id:"".concat(I,".learnMore"),defaultMessage:"Learn more",description:"Hyperlink to the learn more page"}}),H="https://www.coinbase.com/wallet/getting-started-extension";function E(){var e=(0,o.Z)().formatMessage,t=(0,v.r)(),r=(0,b.EP)().supportedChains,a=(0,x.Z)(y.cr),u=a.selectedNetwork,d=a.targetAssetId,f=a.cryptoAmount,g=m(t,(0,w.h3)()),T=(0,h.fy)(),A=(0,h.ts)(),j=(0,h.D6)(),I=(0,h.wg)(),E=(0,l.tC)(y.Ex).goBack,G=(0,n.useRef)(null),P=(0,n.useCallback)((function(){T(),E()}),[E,T]),F=(0,n.useCallback)((function(){I(),chrome.tabs.create({url:H,active:!1})}),[I]),O=(0,n.useCallback)((function(e){var t=u.value.asChain(),r=null==e?void 0:e.asChain(),n={previousChainId:null==t?void 0:t.chainId,nextChainId:null==r?void 0:r.chainId};e?(A(n),u.onChange(e),d.onChange(""),f.onChange(0n),E()):j(n)}),[A,u,d,f,E,j]),D=(0,n.useCallback)((function(e){var t,n,a=e.key,o=e.index,s=e.style,c=null!==(t=r[o])&&void 0!==t?t:void 0;if(c){var l=i.Z.fromSupportedChain(c),d=null!==(n=g.get(l.rawValue))&&void 0!==n?n:new(p())(0);return(0,L.jsx)("div",{style:s,children:(0,L.jsx)(C.h,{network:l,balance:d,selected:i.Z.isEqual(u.value,l),onPress:O,disabled:null==d?void 0:d.equals(new(p())(0))})},a)}}),[g,O,u.value,r]);return(0,L.jsxs)(S.VStack,{ref:G,spacingHorizontal:1,children:[(0,L.jsx)(c.w,{onBack:P,title:e(M.title)}),(0,L.jsx)(s._K,{scrollElement:G.current,children:function(e){var t=e.height,n=e.scrollTop;return(0,L.jsx)(s.qj,{disableHeight:!0,defaultHeight:t,children:function(e){var t=e.width,a=e.height;return(0,L.jsx)(s.aV,{autoHeight:!0,height:a||300,width:t||345,scrollTop:n,rowHeight:60,rowRenderer:D,rowCount:r.length,overscanRowCount:5})}})}}),(0,L.jsxs)(k.TextLabel2,{as:"span",spacing:2,children:[e(M.learnMoreMessage)," ",(0,L.jsx)(k.Link,{testID:"trade-select-network-learn-more",to:H,onPress:F,children:e(M.learnMore)})]})]})}function G(){return(0,L.jsx)(n.Suspense,{fallback:null,children:(0,L.jsx)(E,{})})}j(E,"useIntl{{ formatMessage }}\nuseWallets{wallets}\nuseConvertContext{{ supportedChains }}\nuseFields{{ selectedNetwork, targetAssetId, cryptoAmount }}\nuseExchangeRates{exchangeRates}\nuseNetworkBalances{networkBalanceMap}\nuseNetworkSwitcherClose{triggetAnalyticsClose}\nuseNetworkSwitcherToggleNetwork{triggerAnalyticsToggle}\nuseNetworkSwitcherToggleNetworkError{triggerAnalyticsToggleError}\nuseNetworkSwitcherLearnMore{triggerAnalyticsLearnMore}\nuseStepper{{ goBack }}\nuseRef{container}\nuseCallback{onGoBack}\nuseCallback{onLearnMorePress}\nuseCallback{onItemSelected}\nuseCallback{renderRow}",(function(){return[o.Z,v.r,b.EP,x.Z,w.h3,m,h.fy,h.ts,h.D6,h.wg,l.tC]})),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(60,"LIST_ITEM_SIZE","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),T.register(I,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),T.register(M,"messages","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),T.register(H,"LEARN_MORE_LINK","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),T.register(E,"SelectNetworkStepContent","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),T.register(G,"SelectNetworkStep","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},65887:(e,t,r)=>{"use strict";r.d(t,{o:()=>x});var n,a=r(67294),o=r(25387),s=r(86896),i=r(69638),c=r(46404),l=r(24754),u=r(87198),d=r(34696),p=r(91870),f=r(53521),m=r(8491),g=r(85893);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var b,h,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w="trade.steps.SelectSourceStep",v=(0,o.vU)({title:{id:"".concat(w,".title"),defaultMessage:"Convert from",description:"Title for asset select page on DEX"}});function x(){var e=(0,s.Z)().formatMessage,t=(0,c.tC)(d.Ex),r=t.goBack,n=t.goToStep,o=(0,m.Z)(d.cr),b=o.sourceWalletId,h=o.targetAssetId,y=o.cryptoAmount,w=o.selectedNetwork,x=(0,l.q)(),S=(0,f.I)(!1,!0,w.value),k=(0,u.kV)(),C=(0,p.C)(),L=(0,a.useCallback)((function(e){k({selectedWallet:e.id}),b.onChange(e.id),b.value!==e.id&&y.onChange(0n),C(e),n("entry")}),[y,n,C,b,k]);return(0,g.jsx)(i.i,{testIdPrefix:"dex-from",wallets:S,onBack:r,onSelect:L,network:w.value,showNetworkSelection:x,customNavTitle:e(v.title),targetAssetId:h.value})}y(x,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseFields{{ sourceWalletId, targetAssetId, cryptoAmount, selectedNetwork }}\nuseIsL2ExperimentEnabled{hasL2Experiment}\nusePortfolioWallets{wallets}\nuseTradeSelectWallet{triggerAnalyticsSelectWallet}\nusePersistAssetSelection{persistSelection}\nuseCallback{handleSelect}",(function(){return[s.Z,c.tC,m.Z,l.q,f.I,u.kV,p.C]})),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(w,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/SelectSourceStep/SelectSourceStep.tsx"),b.register(v,"messages","/workspaces/apps/extension/src/screens/Trade/steps/SelectSourceStep/SelectSourceStep.tsx"),b.register(x,"SelectSourceStep","/workspaces/apps/extension/src/screens/Trade/steps/SelectSourceStep/SelectSourceStep.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},49513:(e,t,r)=>{"use strict";r.d(t,{_:()=>v});var n,a=r(67294),o=r(25387),s=r(86896),i=r(5977),c=r(65276),l=r(62214),u=r(87198),d=r(34696),p=r(84769),f=r(8491),m=r(85893);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var g,b,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y="trade.steps.StatusStep",w=(0,o.vU)({title:{id:"".concat(y,".title"),defaultMessage:"Initiated a conversion from {formattedTitleAmounts} to",description:"Label that aims to inform the user that we started the conversion process"},description:{id:"".concat(y,".description"),defaultMessage:"~{targetAmount} (~{fiatAmount})",description:"Label description that aims to show the target amount"}});function v(){var e=(0,s.Z)().formatMessage,t=(0,f.Z)(d.cr),r=t.cryptoAmount,n=t.targetAssetId,o=t.sourceWalletId,g=(0,u._E)(),b=(0,i.k6)(),h=(0,p.H)(),y=h.sourceFiatAmount,v=h.sourceCryptoAmount,x=h.targetFiatAmount,S=h.targetCryptoAmount;(0,l.F)((function(){var e=setTimeout((function(){b.replace("/transactions")}),5e3);return g({cryptoAmount:Number(r.value),sourceWalletId:o.value,targetAssetId:n.value,sourceFiatAmount:y,sourceCryptoAmount:v,targetFiatAmount:x,targetCryptoAmount:S}),function(){clearTimeout(e)}}));var k=(0,a.useMemo)((function(){var e=y?"(".concat(y,")"):"";return"".concat(v," ").concat(e)}),[v,y]),C=(0,a.useMemo)((function(){var e=x?"(".concat(x,")"):"";return"".concat(S," ").concat(e)}),[S,x]);return(0,m.jsx)(c.R,{testID:"dex-success-message",status:c.q.SUCCESS,title:e(w.title,{formattedTitleAmounts:k}),description:C})}h(v,"useIntl{{ formatMessage }}\nuseFields{{ cryptoAmount, targetAssetId, sourceWalletId }}\nuseStatusStepViewed{triggerAnalyticsStatusViewed}\nuseHistory{history}\nuseFormatTradeAmounts{{ sourceFiatAmount, sourceCryptoAmount, targetFiatAmount, targetCryptoAmount }}\nuseOnMount{}\nuseMemo{formattedTitleAmounts}\nuseMemo{descriptionFormatted}",(function(){return[s.Z,f.Z,u._E,i.k6,p.H,l.F]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(y,"i18nKey","/workspaces/apps/extension/src/screens/Trade/steps/StatusStep/StatusStep.tsx"),g.register(w,"messages","/workspaces/apps/extension/src/screens/Trade/steps/StatusStep/StatusStep.tsx"),g.register(v,"StatusStep","/workspaces/apps/extension/src/screens/Trade/steps/StatusStep/StatusStep.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},93401:(e,t,r)=>{var n=r(24303),a=r(67878);e.exports=function(e,t){var r=-1,o=a(e)?Array(e.length):[];return n(e,(function(e,n,a){o[++r]=t(e,n,a)})),o}},23813:(e,t,r)=>{var n=r(50343),a=r(13324),o=r(68286),s=r(93401),i=r(27095),c=r(47826),l=r(18477),u=r(23059),d=r(86152);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var p=-1;t=n(t,c(o));var f=s(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++p,value:e}}));return i(f,(function(e,t){return l(e,t,r)}))}},27095:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},27520:(e,t,r)=>{var n=r(4795);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,o=e==e,s=n(e),i=void 0!==t,c=null===t,l=t==t,u=n(t);if(!c&&!u&&!s&&e>t||s&&i&&l&&!c&&!u||a&&i&&l||!r&&l||!o)return 1;if(!a&&!s&&!u&&e<t||u&&r&&o&&!a&&!s||c&&r&&o||!i&&o||!l)return-1}return 0}},18477:(e,t,r)=>{var n=r(27520);e.exports=function(e,t,r){for(var a=-1,o=e.criteria,s=t.criteria,i=o.length,c=r.length;++a<i;){var l=n(o[a],s[a]);if(l)return a>=c?l:l*("desc"==r[a]?-1:1)}return e.index-t.index}},34498:(e,t,r)=>{var n=r(23813),a=r(86152);e.exports=function(e,t,r,o){return null==e?[]:(a(t)||(t=null==t?[]:[t]),a(r=o?void 0:r)||(r=null==r?[]:[r]),n(e,t,r))}},53038:(e,t,r)=>{"use strict";r.r(t)},73598:(e,t,r)=>{"use strict";r.r(t)},5798:(e,t,r)=>{"use strict";r.r(t)},77835:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,B:()=>s});var n=r(52180),a=r.n(n);const o=BigInt("90000000000"),s=new(a())(1)},95978:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(85095);async function a(e,{start:t,success:r,fail:a,data:o}){(0,n.b)(t,o);try{const t=await e();return(0,n.b)(r,o),t}catch(e){throw(0,n.b)(a,o),e}}},25444:(e,t,r)=>{"use strict";r.d(t,{Q:()=>p});var n=r(67294),a=r(22170),o=r(89756),s=r(95978),i=r(72045),c=r(61220),l=r(8503),u=r(37497);async function d({unsignedTx:e,mnemonic:t,wallet:r,txSubmissionType:n,skipSubmit:a=!1}){const o={start:l.F.txSubmittedStart,success:l.F.txSubmittedSuccess,fail:l.F.txSubmittedFail,data:{loggingId:"ffb80dfe-60f4-4b71-be6b-a6c24dd785ce",action:c.ActionType.unknown,componentType:c.ComponentType.unknown,currency_code:e.currencyCode.rawValue,uuid:(0,i.Z)(),type:"extension"}};return(0,s.A)((async()=>(0,u.bv)(e.blockchain).signAndSubmit(e,t,!0,r,n,a)),o)}function p({wallet:e,unsignedTx:t,unsignedApproveTx:r,signSuccess:s,signError:i,unlockSuccess:c,unlockError:l,skipSubmit:u=!1,txSubmissionType:p="original"}){const f=(0,o.$)(),[m,g]=(0,n.useState)(!1),b=(0,n.useCallback)((async n=>{try{if(r&&await d({unsignedTx:r,mnemonic:n,wallet:e,txSubmissionType:p}),!t)return null;const a=await d({unsignedTx:t,mnemonic:n,wallet:e,txSubmissionType:p,skipSubmit:u});s(a)}catch(e){i(e)}finally{g(!1)}}),[i,s,u,r,t,e,p]),h=(0,n.useCallback)((()=>(g(!0),f.unlock(a.tR.Transaction).subscribe((({status:e,mnemonic:t})=>{"SUCCESS"===e&&t?(c?.(),b(t)):g(!1)}),(e=>{l?.(e),g(!1)})))),[f,c,b,l]);return(0,n.useMemo)((()=>({signAndSubmitStandalone:h,isSignAndSubmitStandaloneLoading:m})),[m,h])}},92455:(e,t,r)=>{"use strict";r.d(t,{a:()=>l});var n=r(67294),a=r(8311),o=r(94935),s=r(47161),i=r(34696),c=r(8491);function l(){const{unsignedSwapTxResult:{value:e},unsignedApproveTxResult:{value:t}}=(0,c.Z)(i.cr),r=((0,s.A)(t?.transaction),t?.transaction),l=((0,s.A)(e?.transaction),e?.transaction);return(0,n.useMemo)((()=>{let e=0n,t=0n,n=0n,s=0n,i=0n,c=0n;l instanceof a.H&&(l?.baseFeePerGas&&l?.gasLimit&&(e=BigInt(l.baseFeePerGas)*BigInt(l.gasLimit)),l?.maxFeePerGas&&l?.gasLimit&&(t=BigInt(l.maxFeePerGas)*BigInt(l.gasLimit))),r instanceof a.H&&(r?.baseFeePerGas&&r?.gasLimit&&(n=BigInt(r.baseFeePerGas)*BigInt(r.gasLimit)),r?.maxFeePerGas&&r?.gasLimit&&(s=BigInt(r.maxFeePerGas)*BigInt(r.gasLimit))),r instanceof o.L&&(i=r.estimatedFee),l instanceof o.L&&(c=l.estimatedFee);return{networkEstimatedFee:i+c,networkBaseFee:n+e,networkMaxFee:s+t}}),[r,l])}},84769:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var n=r(67294),a=r(99711),o=r(67913),s=r(34696),i=r(27025),c=r(8491);function l(){const e=(0,i.$)(),{swapTradeResponse:t}=(0,c.Z)(s.cr),r=t.value?.quote;if(!r)throw new Error("Could not formate trade amounts, swapQuote missing.");const l=(0,n.useMemo)((()=>{const t=e.fiatValue(r.fromAsset.currencyCode,r.fromAsset.decimals,r.fromAmount,r.fromAsset.address?.rawValue,a.Z.fromChainId({chainPrefix:o.jq,chainId:r.chainId}),2);if(t)return e.fiatValueString(t)}),[e,r.chainId,r.fromAmount,r.fromAsset.address?.rawValue,r.fromAsset.currencyCode,r.fromAsset.decimals]),u=(0,n.useMemo)((()=>e.formatToCrypto({currencyCode:r.fromAsset.currencyCode,decimals:r.fromAsset.decimals,value:r.fromAmount,includeCode:!0,maxDisplayDecimals:BigInt(8),minDisplayDecimals:0n})),[e,r.fromAmount,r.fromAsset.currencyCode,r.fromAsset.decimals]),d=(0,n.useMemo)((()=>{const t=e.fiatValue(r.toAsset.currencyCode,r.toAsset.decimals,r.toAmount,r.toAsset.address?.rawValue,a.Z.fromChainId({chainPrefix:o.jq,chainId:r.chainId}),2);if(t)return e.fiatValueString(t)}),[e,r.chainId,r.toAmount,r.toAsset.address?.rawValue,r.toAsset.currencyCode,r.toAsset.decimals]),p=(0,n.useMemo)((()=>e.formatToCrypto({currencyCode:r.toAsset.currencyCode,decimals:r.toAsset.decimals,value:r.toAmount,includeCode:!0,maxDisplayDecimals:BigInt(8),minDisplayDecimals:0n})),[e,r.toAmount,r.toAsset.currencyCode,r.toAsset.decimals]);return(0,n.useMemo)((()=>({sourceFiatAmount:l,sourceCryptoAmount:u,targetFiatAmount:d,targetCryptoAmount:p})),[u,l,p,d])}},91870:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var n=r(6451),a=r(50549),o=r(23245),s=r(37142);function i(){const e=(0,n.Z)(),{convertibleAssets:t}=(0,o.EP)();return(0,a.W)(((r,n)=>{r&&r.unsubscribe();const a=n instanceof s.w?t.get(n.swapId):n;return a?e.selectSwapAsset(a).subscribe():null}),[t,e])}}}]);
//# sourceMappingURL=152.js.map