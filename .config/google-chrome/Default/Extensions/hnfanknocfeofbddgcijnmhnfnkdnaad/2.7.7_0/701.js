"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[701],{70011:(e,t,o)=>{o.d(t,{o:()=>p});var n,s=o(25387),a=o(86896),r=o(88132),i=o(37375),c=o(85893);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},u="connectAnimation",d=(0,s.vU)({HWWalletLogo:{id:"".concat(u,".HWWalletLogo"),description:"Alt text for Hardware Wallet logo",defaultMessage:"Hardware Wallet logo"},connectedStatusMessage:{id:"".concat(u,".connectedStatusMessage"),defaultMessage:"Connected",description:"Connected status message"}});function p(e){var t=e.authed,o=e.logoSrc,n=e.logoAltText,s=e.onError,l=(0,a.Z)().formatMessage;return(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)("div",{className:(0,i.Z)(h,t&&b),children:(0,c.jsx)("img",{src:r,alt:l(d.HWWalletLogo)})}),(0,c.jsx)("div",{className:(0,i.Z)(f,t&&A),children:(0,c.jsx)("img",{src:o,alt:n,onError:s})}),(0,c.jsx)("div",{className:(0,i.Z)(M,t&&y),children:(0,c.jsx)("svg",{className:(0,i.Z)(v,t&&I),viewBox:"0 0 52 52",children:(0,c.jsx)("path",{className:(0,i.Z)(k),fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})})}),(0,c.jsx)("div",{className:(0,i.Z)(w,t&&L),children:l(d.connectedStatusMessage)})]})}l(p,"useIntl{{\n    formatMessage\n  }}",(function(){return[a.Z]}));var g,m,x="h15426hb",h="lcibmbb",f="r12ofuf3",b="l14l3om0",A="r1rlqq81",M="c2wx9ee",y="c11w12r",w="cv59qej",L="c1v99zh9",v="c129womy",I="c1uigc2c",k="c14x633h";o(95181),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(u,"i18nKey","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(d,"messages","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(p,"ConnectionAnimation","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(x,"header","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(h,"leftLogo","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(f,"rightLogo","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(b,"leftLogoAnimating","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(A,"rightLogoAnimating","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(M,"checkmarkCircle","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(y,"checkmarkCircleAnimating","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(w,"connectedText","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(L,"connectedTextAnimating","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(v,"checkmark","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(I,"checkAnimating","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx"),g.register(k,"check","/workspaces/apps/extension/src/components/ConnectionAnimation.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},74970:(e,t,o)=>{o.d(t,{L:()=>i});var n,s=o(67051),a=o(23991),r=o(85893);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e){var t=e.children,o=e.text;return(0,r.jsxs)(u,{children:[t,(0,r.jsx)(a.TextBody,{as:"p",color:"foregroundMuted",children:o})]})}var c,l,u=(0,s.Z)("div")({name:"Wrapper",class:"w7fbx2p"});o(3141),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"ListItemWithIcon","/workspaces/apps/extension/src/components/ListItemIcon.tsx"),c.register(u,"Wrapper","/workspaces/apps/extension/src/components/ListItemIcon.tsx")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},37701:(e,t,o)=>{o.r(t),o.d(t,{AuthorizationRequest:()=>v});var n,s=o(67294),a=o(25387),r=o(86896),i=o(23339),c=o(70011),l=o(74970),u=o(28787),d=o(98006),p=o(37375),g=o(85095),m=o(13958),x=o(47393),h=o(9943),f=o(23991),b=o(85893);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var n,s,a=[],r=!0,i=!1;try{for(o=o.call(e);!(r=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w="AuthorizationRequest",L=(0,a.vU)({dappLogoAlt:{id:"".concat(w,".dappLogoAlt"),description:"Alt text for DApp logo",defaultMessage:"DApp logo"},walletLogoAlt:{id:"".concat(w,".walletLogoAlt"),description:"Alt text for Wallet logo",defaultMessage:"Wallet logo"},connectedStatusMessage:{id:"".concat(w,".connectedStatusMessage"),defaultMessage:"Connected",description:"Connected status message"},allowWebsiteStatusMessage:{id:"".concat(w,".allowWebsiteStatusMessage"),defaultMessage:"Connect to website",description:"Status message header"},seeWalletActivityPermission:{id:"".concat(w,".seeWalletActivityPermission"),defaultMessage:"Let it see your wallet balance and activity",description:"Permission prompt"},sendRequestsForTransactionsPermission:{id:"".concat(w,".sendRequestsForTransactionsPermission"),defaultMessage:"Let it send you requests for transactions",description:"Permission prompt"},cannotMoveFundsWithoutYourPermission:{id:"".concat(w,".cannotMoveFundsWithoutYourPermission"),defaultMessage:"It cannot move funds without your permission",description:"Permission prompt"},authorizationButtonGroup:{id:"".concat(w,".authorizationButtonGroup"),defaultMessage:"Action buttons",description:"Button group accessibility label"},allowActionButton:{id:"".concat(w,".allowActionButton"),defaultMessage:"Connect",description:"Action button text"},denyActionButton:{id:"".concat(w,".denyActionButton"),defaultMessage:"Deny",description:"Action button text"}});function v(e){var t=e.options,o=A((0,s.useState)(!1),2),n=o[0],a=o[1],M=A((0,s.useState)(!1),2),y=M[0],w=M[1],v=A((0,s.useState)(!1),2),I=v[0],k=v[1],T=(0,s.useCallback)((function(){return k(!1)}),[k]),H=(0,r.Z)().formatMessage,q=(0,u.b)();(0,s.useEffect)((function(){var e=m.Xr.subscribe((function(e){e.constructor===m.d3&&a(!1)}));return function(){return e.unsubscribe()}}),[]);var D=(0,s.useCallback)((function(){q.cancel(t.eventId).then((function(){(0,g.b)(d.F.AUTHORIZE_DENY,{loggingId:"b984ec67-6614-4695-b531-c72fce6fa270",dapp:window.location.host}),a(!1),window.close()}))}),[q,t.eventId]),S=(0,s.useCallback)((function(){q.connectChild(t).then((function(e){if(!e)throw new Error("Failed to connect child for ".concat(t.dappName));a(!0),w(!1),q.hasNextQueuedRequest()?setTimeout((function(){q.handleNextQueuedRequest()}),2e3):setTimeout((function(){window.close()}),2e3)})).catch((function(e){w(!1),k(e||!0)}))}),[t,q]),Z=(0,s.useCallback)((function(e){t.dappLogoURL=t.dappLogoURLAlt,e.target.src=t.dappLogoURLAlt}),[t]);return I?(0,b.jsx)(i.M,{resetError:T}):(0,b.jsxs)("div",{className:z,children:[(0,b.jsx)(c.o,{authed:n,logoSrc:t.dappLogoURL,logoAltText:H(L.walletLogoAlt),onError:Z}),(0,b.jsxs)("div",{className:(0,p.Z)(j,n&&C),children:[(0,b.jsxs)("div",{className:G,children:[(0,b.jsx)(f.TextTitle3,{as:"h1",align:"center",children:H(L.allowWebsiteStatusMessage)}),(0,b.jsx)(f.TextBody,{color:"foregroundMuted",align:"center",as:"p",children:new URL(t.dappURL).hostname}),(0,b.jsxs)("div",{className:R,"data-testid":"authorization-request-permission-list",children:[(0,b.jsx)(l.L,{text:H(L.seeWalletActivityPermission),children:(0,b.jsx)(h.Icon,{name:"bank",size:"s",color:"primary"})}),(0,b.jsx)(l.L,{text:H(L.sendRequestsForTransactionsPermission),children:(0,b.jsx)(h.Icon,{name:"checkmark",size:"s",color:"primary"})}),(0,b.jsx)(l.L,{text:H(L.cannotMoveFundsWithoutYourPermission),children:(0,b.jsx)(h.Icon,{name:"close",size:"xs",color:"negative"})})]})]}),(0,b.jsx)("div",{className:N,children:(0,b.jsxs)(x.ButtonGroup,{block:!0,vertical:!0,accessibilityLabel:H(L.authorizationButtonGroup),children:[(0,b.jsx)(x.Button,{type:"button",variant:"primary",onPress:S,loading:y,"data-testid":"allow-authorize-button",children:H(L.allowActionButton)}),(0,b.jsx)(x.Button,{type:"button",variant:"secondary",onPress:D,"data-testid":"deny-authorize-button",transparent:!0,children:H(L.denyActionButton)})]})})]})]})}y(v,"useState{[authed, setAuthed](false)}\nuseState{[authorizing, setAuthorizing](false)}\nuseState{[error, setError](false)}\nuseCallback{resetError}\nuseIntl{{\n    formatMessage\n  }}\nuseWeb3Manager{web3Manager}\nuseEffect{}\nuseCallback{denyAuthorize}\nuseCallback{allowAuthorize}\nuseCallback{setDappLogoURLAlt}",(function(){return[r.Z,u.b]}));var I,k,z="c1iwxd5t",j="b1tdz35q",C="b1vmbvqn",G="a1shb8c4",N="a1qgsw5t",R="aumbe61";o(72629),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(w,"i18nKey","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx"),I.register(L,"messages","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx"),I.register(v,"AuthorizationRequest","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx"),I.register(z,"container","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx"),I.register(j,"body","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx"),I.register(C,"bodyExit","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx"),I.register(G,"authRequest","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx"),I.register(N,"authButtons","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx"),I.register(R,"authRequestBody","/workspaces/apps/extension/src/screens/AuthorizationRequest/AuthorizationRequest.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},95181:(e,t,o)=>{o.r(t)},3141:(e,t,o)=>{o.r(t)},72629:(e,t,o)=>{o.r(t)},88132:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzQiIGhlaWdodD0iNzQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMzciIGN5PSIzNyIgcj0iMzUiIGZpbGw9IiMxQjUzRTQiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSI0Ii8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNy4yNDUgNjAuNjEyYy0xMi43NzIgMC0yMy4xMjUtMTAuMzUzLTIzLjEyNS0yMy4xMjUgMC0xMi43NzEgMTAuMzUzLTIzLjEyNSAyMy4xMjUtMjMuMTI1IDEyLjc3MSAwIDIzLjEyNSAxMC4zNTQgMjMuMTI1IDIzLjEyNSAwIDEyLjc3Mi0xMC4zNTQgMjMuMTI1LTIzLjEyNSAyMy4xMjVaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI5Ljc5NCAzMy4wMjFhMi45ODkgMi45ODkgMCAwIDEgMi45ODktMi45ODloOC45MjVhMi45ODkgMi45ODkgMCAwIDEgMi45ODkgMi45ODl2OC45MjVhMi45ODkgMi45ODkgMCAwIDEtMi45ODkgMi45ODloLTguOTI1YTIuOTg5IDIuOTg5IDAgMCAxLTIuOTktMi45ODl2LTguOTI1WiIgZmlsbD0iIzFCNTNFNCIvPjwvc3ZnPg=="}}]);
//# sourceMappingURL=701.js.map