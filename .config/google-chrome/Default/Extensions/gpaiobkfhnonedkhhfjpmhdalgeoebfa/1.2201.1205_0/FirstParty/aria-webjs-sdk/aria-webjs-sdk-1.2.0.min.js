!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,(function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.e?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=30)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Unspecified=0]="Unspecified",t[t.String=1]="String",t[t.Int64=2]="Int64",t[t.Double=3]="Double",t[t.Boolean=4]="Boolean"}(e.AWTPropertyType||(e.AWTPropertyType={})),function(t){t[t.NotSet=0]="NotSet",t[t.DistinguishedName=1]="DistinguishedName",t[t.GenericData=2]="GenericData",t[t.IPV4Address=3]="IPV4Address",t[t.IPv6Address=4]="IPv6Address",t[t.MailSubject=5]="MailSubject",t[t.PhoneNumber=6]="PhoneNumber",t[t.QueryString=7]="QueryString",t[t.SipAddress=8]="SipAddress",t[t.SmtpAddress=9]="SmtpAddress",t[t.Identity=10]="Identity",t[t.Uri=11]="Uri",t[t.Fqdn=12]="Fqdn",t[t.IPV4AddressLegacy=13]="IPV4AddressLegacy"}(e.AWTPiiKind||(e.AWTPiiKind={})),function(t){t[t.NotSet=0]="NotSet",t[t.GenericContent=1]="GenericContent"}(e.AWTCustomerContentKind||(e.AWTCustomerContentKind={})),function(t){t[t.Low=1]="Low",t[t.Normal=2]="Normal",t[t.High=3]="High"}(e.AWTEventPriority||(e.AWTEventPriority={})),function(t){t[t.NonRetryableStatus=1]="NonRetryableStatus",t[t.KillSwitch=2]="KillSwitch",t[t.QueueFull=3]="QueueFull"}(e.AWTEventsDroppedReason||(e.AWTEventsDroppedReason={})),function(t){t[t.InvalidEvent=1]="InvalidEvent",t[t.SizeLimitExceeded=2]="SizeLimitExceeded"}(e.AWTEventsRejectedReason||(e.AWTEventsRejectedReason={}))},function(t,e,i){"use strict";function n(){return!("undefined"==typeof navigator||!navigator.product)&&"ReactNative"===navigator.product}function r(t){return t<10?"0"+t:t.toString()}Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),s=i(0),u=/[xy]/g,a=621355968e5,h=1e4;e.EventNameAndTypeRegex=/^[a-zA-Z]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,e.EventNameDotRegex=/\./g,e.PropertyNameRegex=/^[a-zA-Z](([a-zA-Z0-9|_|\.]){0,98}[a-zA-Z0-9])?$/,e.StatsApiKey="a387cfcf60114a43a7699f9fbb49289e-9bceb9fe-1c06-460f-96c5-6a0b247358bc-7238";var f=null,c=null,p=null;e.numberToBondInt64=function(t){var e=new o.Int64("0");return e.low=4294967295&t,e.high=Math.floor(t/4294967296),e},e.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(u,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},e.isString=function(t){return"string"==typeof t},e.msToTicks=function(t){return(t+a)*h},e.getTenantId=function(t){var e=t.indexOf("-");return e>-1?t.substring(0,e):""},e.isBeaconsSupported=function(){return null===f&&(f="undefined"!=typeof navigator&&Boolean(navigator.sendBeacon)),f},e.isUint8ArrayAvailable=function(){return null===c&&(c="undefined"!=typeof Uint8Array&&!function(){if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}()&&!n()),c},e.isPriority=function(t){return!isNaN(t)&&null!==t&&t>=1&&t<=3},e.sanitizeProperty=function(t,i){return"string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i||(i={value:i,type:s.AWTPropertyType.Unspecified}),e.PropertyNameRegex.test(t)&&null!=i&&null!==i.value&&void 0!==i.value&&""!==i.value?(i.type=function(t,e){return function(t){return!isNaN(t)&&null!==t&&t>=0&&t<=4}(e)&&e!==s.AWTPropertyType.Unspecified?e===s.AWTPropertyType.String&&"string"==typeof t?e:e!==s.AWTPropertyType.Double&&e!==s.AWTPropertyType.Int64||"number"!=typeof t?e===s.AWTPropertyType.Boolean&&"boolean"==typeof t?e:void 0:e===s.AWTPropertyType.Int64&&t%1!=0?null:e:function(t){switch(typeof t){case"string":return s.AWTPropertyType.String;case"boolean":return s.AWTPropertyType.Boolean;case"number":return s.AWTPropertyType.Double}return s.AWTPropertyType.Unspecified}(t)}(i.value,i.type),i.type?(void 0===i.pii&&(i.pii=s.AWTPiiKind.NotSet),void 0===i.cc&&(i.cc=s.AWTCustomerContentKind.NotSet),!function(t){return!isNaN(t)&&null!==t&&t>=0&&t<=13}(i.pii)||!function(t){return!isNaN(t)&&null!==t&&t>=0&&t<=1}(i.cc)||i.cc>0&&i.pii!==s.AWTPiiKind.NotSet?null:i):null):null},e.getISOString=function(t){return t.getUTCFullYear()+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+"."+function(t){return t<10?"00"+t:t<100?"0"+t:t.toString()}(t.getUTCMilliseconds())+"Z"},e.useXDomainRequest=function(){if(null===p){var t=new XMLHttpRequest;p=void 0===t.withCredentials&&"undefined"!=typeof XDomainRequest}return p},e.isReactNative=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.addNotificationListener=function(t){this.listeners.push(t)},t.eventsSent=function(t){for(var e=this,i=this,n=0;n<this.listeners.length;++n)!function(n){i.listeners[n].eventsSent&&setTimeout((function(){return e.listeners[n].eventsSent(t)}),0)}(n)},t.eventsDropped=function(t,e){for(var i=this,n=this,r=0;r<this.listeners.length;++r)!function(r){n.listeners[r].eventsDropped&&setTimeout((function(){return i.listeners[r].eventsDropped(t,e)}),0)}(r)},t.eventsRetrying=function(t){for(var e=this,i=this,n=0;n<this.listeners.length;++n)!function(n){i.listeners[n].eventsRetrying&&setTimeout((function(){return e.listeners[n].eventsRetrying(t)}),0)}(n)},t.eventsRejected=function(t,e){for(var i=this,n=this,r=0;r<this.listeners.length;++r)!function(r){n.listeners[r].eventsRejected&&setTimeout((function(){return i.listeners[r].eventsRejected(t,e)}),0)}(r)},t.listeners=[],t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14),r=i(0),o=i(28),s=i(10),u=i(5),a=i(11),h=i(1),f=function(){function t(){}return t.setEventsHandler=function(t){this.t=t},t.getEventsHandler=function(){return this.t},t.scheduleTimer=function(){var t=this,e=this.r[this.a][2];this.u<0&&e>=0&&!this._&&(this.t.hasEvents()?(0===e&&this.f>0&&(e=1),this.u=setTimeout((function(){return t.h()}),e*(1<<this.f)*1e3)):this.v=0)},t.initialize=function(t){var e=this;this.y=!0,this.T=t,this.t=new o.default(t.collectorUri,t.cacheMemorySizeLimitInNumberOfEvents,t.httpXHROverride),this.g(),s.default.initialize((function(t,i){if(e.T.canSendStatEvent("awt_stats")){var n=new u.default("awt_stats");for(var o in n.setEventPriority(r.AWTEventPriority.High),n.setProperty("TenantId",i),t)t.hasOwnProperty(o)&&n.setProperty(o,t[o].toString());a.default.getLogger(h.StatsApiKey).logEvent(n)}}))},t.setTransmitProfile=function(t){this.a!==t&&void 0!==this.r[t]&&(this.clearTimeout(),this.a=t,this.scheduleTimer())},t.loadTransmitProfiles=function(t){for(var e in this.S(),t)if(t.hasOwnProperty(e)){if(3!==t[e].length)continue;for(var i=2;i>=0;--i)if(t[e][i]<0){for(var n=i;n>=0;--n)t[e][n]=-1;break}for(i=2;i>0;--i)if(t[e][i]>0&&t[e][i-1]>0){var r=t[e][i-1]/t[e][i];t[e][i-1]=Math.ceil(r)*t[e][i]}this.r[e]=t[e]}},t.sendEvent=function(t){this.y&&(this.t.addEvent(t),this.scheduleTimer())},t.flush=function(t){var e=(new Date).getTime();!this._&&this.A+3e4<e&&(this.A=e,this.u>-1&&(clearTimeout(this.u),this.u=-1),this.t.uploadNow(t))},t.pauseTransmission=function(){this._||(this.clearTimeout(),this.t.pauseTransmission(),this._=!0)},t.resumeTransmision=function(){this._&&(this._=!1,this.t.resumeTransmission(),this.scheduleTimer())},t.flushAndTeardown=function(){s.default.teardown(),this.y=!1,this.clearTimeout(),this.t.teardown()},t.backOffTransmission=function(){this.f<4&&(this.f++,this.clearTimeout(),this.scheduleTimer())},t.clearBackOff=function(){this.f>0&&(this.f=0,this.clearTimeout(),this.scheduleTimer())},t.S=function(){this.clearTimeout(),this.g(),this.a=n.AWT_REAL_TIME,this.scheduleTimer()},t.clearTimeout=function(){this.u>0&&(clearTimeout(this.u),this.u=-1,this.v=0)},t.h=function(){var t=r.AWTEventPriority.High;this.v++,this.v*this.r[this.a][2]===this.r[this.a][0]?(t=r.AWTEventPriority.Low,this.v=0):this.v*this.r[this.a][2]===this.r[this.a][1]&&(t=r.AWTEventPriority.Normal),this.t.sendEventsForPriorityAndAbove(t),this.u=-1,this.scheduleTimer()},t.g=function(){this.r={},this.r.REAL_TIME=[4,2,1],this.r.NEAR_REAL_TIME=[12,6,3],this.r.BEST_EFFOR=[36,18,9]},t.y=!1,t.a=n.AWT_REAL_TIME,t.u=-1,t.f=0,t._=!1,t.v=0,t.A=0,t}();e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.low=0,this.high=0,this.low=parseInt(t,10),this.low<0&&(this.high=-1)}return t.prototype.I=function(e){var i=new t(e);return this.low===i.low&&this.high===i.high},t}();e.Int64=n;var r=function(){function t(t){this.low=0,this.high=0,this.low=parseInt(t,10)}return t.prototype.I=function(e){var i=new t(e);return this.low===i.low&&this.high===i.high},t}();e.UInt64=r;var o=function(){function t(){}return t.P=function(t){return this.W(t)},t.W=function(t){return 255&t},t.B=function(t){return 2147483647&t|2147483648&t},t.C=function(t){return 4294967295&t},t}();e.Number=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=function(){function t(t){this.w={name:"",properties:{}},t&&this.setName(t)}return t.prototype.setName=function(t){this.w.name=t},t.prototype.getName=function(){if(this.w.name&&n.isString(this.w.name))return this.w.name},t.prototype.setType=function(t){this.w.type=t},t.prototype.getType=function(){if(this.w.type&&n.isString(this.w.type))return this.w.type},t.prototype.setTimestamp=function(t){this.w.timestamp=t},t.prototype.getTimestamp=function(){if(this.w.timestamp&&!isNaN(this.w.timestamp))return this.w.timestamp},t.prototype.setEventPriority=function(t){n.isPriority(t)&&(this.w.priority=t)},t.prototype.getEventPriority=function(){return this.w.priority},t.prototype.setProperty=function(t,e,i){void 0===i&&(i=r.AWTPropertyType.Unspecified);var o={value:e,type:i,pii:r.AWTPiiKind.NotSet,cc:r.AWTCustomerContentKind.NotSet};null!==(o=n.sanitizeProperty(t,o))?this.w.properties[t]=o:delete this.w.properties[t]},t.prototype.setPropertyWithPii=function(t,e,i,o){void 0===o&&(o=r.AWTPropertyType.Unspecified);var s={value:e,type:o,pii:i,cc:r.AWTCustomerContentKind.NotSet};null!==(s=n.sanitizeProperty(t,s))?this.w.properties[t]=s:delete this.w.properties[t]},t.prototype.setPropertyWithCustomerContent=function(t,e,i,o){void 0===o&&(o=r.AWTPropertyType.Unspecified);var s={value:e,type:o,pii:r.AWTPiiKind.NotSet,cc:i};null!==(s=n.sanitizeProperty(t,s))?this.w.properties[t]=s:delete this.w.properties[t]},t.prototype.getPropertyMap=function(){return this.w.properties},t.prototype.getEvent=function(){return this.w},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(21),r=i(0),o=i(1),s=function(){function t(){}return t.getPayloadBlob=function(t,e){var i=new n.IO.MemoryStream,r=new n.CompactBinaryProtocolWriter(i);for(var s in r.b(n.O.D,3,null),r.N(e,n.O.R,n.O.M),t)if(t.hasOwnProperty(s)){r.U(s);var u=t[s];r.k(1,n.O.x),r.b(n.O.R,2,null),r.U("act_default_source"),r.b(n.O.R,5,null),r.U(o.newGuid()),r.b(n.O.L,6,null),r.F(o.numberToBondInt64(Date.now())),r.b(n.O.M,8,null),r.k(u.length,n.O.x);for(var a=0;a<u.length;++a)r.z(u[a].serializedEvent);r.q(!1)}return r.q(!1),i.H()},t.getEventBlob=function(t){var e=new n.IO.MemoryStream,i=new n.CompactBinaryProtocolWriter(e);i.b(n.O.R,1,null),i.U(t.id),i.b(n.O.L,3,null),i.F(o.numberToBondInt64(t.timestamp)),i.b(n.O.R,5,null),i.U(t.type),i.b(n.O.R,6,null),i.U(t.name);var s={},u=0,a={},h=0,f={},c=0,p={},l=0,d={},v=0,y={},T=0;for(var m in t.properties)if(t.properties.hasOwnProperty(m)){if((A=t.properties[m]).cc>0)y[m]=A,T++;else if(A.pii>0)d[m]=A,v++;else switch(A.type){case r.AWTPropertyType.String:s[m]=A.value,u++;break;case r.AWTPropertyType.Int64:a[m]=A.value,h++;break;case r.AWTPropertyType.Double:f[m]=A.value,c++;break;case r.AWTPropertyType.Boolean:p[m]=A.value,l++}}if(u)for(var m in i.b(n.O.D,13,null),i.N(u,n.O.R,n.O.R),s)if(s.hasOwnProperty(m)){var g=s[m];i.U(m),i.U(g.toString())}if(v)for(var m in i.b(n.O.D,30,null),i.N(v,n.O.R,n.O.x),d)if(d.hasOwnProperty(m)){var A=d[m];i.U(m),i.b(n.O.j,1,null),i.K(1),i.b(n.O.j,2,null),i.K(A.pii),i.b(n.O.R,3,null),i.U(A.value.toString()),i.q(!1)}if(l)for(var m in i.b(n.O.D,31,null),i.N(l,n.O.R,n.O.Q),p)if(p.hasOwnProperty(m)){g=p[m];i.U(m),i.V(g)}if(h)for(var m in i.b(n.O.D,33,null),i.N(h,n.O.R,n.O.L),a)if(a.hasOwnProperty(m)){g=a[m];i.U(m),i.F(o.numberToBondInt64(g))}if(c)for(var m in i.b(n.O.D,34,null),i.N(c,n.O.R,n.O.G),f)if(f.hasOwnProperty(m)){g=f[m];i.U(m),i.X(g)}if(T)for(var m in i.b(n.O.D,36,null),i.N(T,n.O.R,n.O.x),y)if(y.hasOwnProperty(m)){A=y[m];i.U(m),i.b(n.O.j,1,null),i.K(A.cc),i.b(n.O.R,2,null),i.U(A.value.toString()),i.q(!1)}return i.q(!1),e.H()},t.base64Encode=function(t){return n.J.Z(t)},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r="MicrosoftApplicationsTelemetryDeviceId",o="MicrosoftApplicationsTelemetryFirstLaunchTime",s="MSIE",u="Chrome",a="Firefox",h="Safari",f="Edge",c="Electron",p="SkypeShell",l="PhantomJS",d="Opera",v="Windows",y="Mac OS X",T="Windows Phone",m="Windows RT",g="iOS",A="Android",P="Linux",E=/(windows|win32)/i,S=/ arm;/i,w=/windows\sphone\s\d+\.\d+/i,O=/(macintosh|mac os x)/i,W=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,b=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,_=/android/i,I={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},R=function(){function t(){}return t.addPropertyStorageOverride=function(t){return!!t&&(this.Y=t,!0)},t.autoCollect=function(t,e,i){if(this.$=t,this.ee=e,this.te(),i||"undefined"==typeof navigator||(i=navigator.userAgent||""),this.ie(i),this.ee&&!this.Y)return this.ne(r),void this.ne(o);(this.Y||this.re&&!this.ee)&&this.oe()},t.checkAndSaveDeviceId=function(t){t&&(this.se(r)!==t&&(this.ae(r,t),this.ae(o,n.getISOString(new Date))),this.firstLaunchTime=this.se(o))},t.oe=function(){var t=this.se(r);t?this.firstLaunchTime=this.se(o):(t=n.newGuid(),this.checkAndSaveDeviceId(t)),this.$.setDeviceId(t)},t.te=function(){"undefined"!=typeof document&&document.documentElement&&this.$.setAppLanguage(document.documentElement.lang),"undefined"!=typeof navigator&&this.$.setUserLanguage(navigator.userLanguage||navigator.language);var t=(new Date).getTimezoneOffset(),e=t%60,i=(t-e)/60,n="+";i>0&&(n="-"),i=Math.abs(i),e=Math.abs(e),this.$.setUserTimeZone(n+(i<10?"0"+i:i.toString())+":"+(e<10?"0"+e:e.toString()))},t.ie=function(t){if(t){var e=this.ue(t);this.$.setDeviceBrowserName(e),this.$.setDeviceBrowserVersion(this.de(t,e));var i=this._e(t);this.$.setDeviceOsName(i),this.$.setDeviceOsVersion(this.le(t,i))}},t.ue=function(t){return this.ce("OPR/",t)?d:this.ce(l,t)?l:this.ce(f,t)?f:this.ce(c,t)?c:this.ce(u,t)?u:this.ce("Trident",t)?s:this.ce(a,t)?a:this.ce(h,t)?h:this.ce(p,t)?p:"Unknown"},t.ce=function(t,e){return e.indexOf(t)>-1},t.de=function(t,e){return e===s?this.pe(t):this.fe(e,t)},t.pe=function(t){var e=t.match(new RegExp(s+" ([\\d,.]+)"));if(e)return e[1];var i=t.match(new RegExp("rv:([\\d,.]+)"));return i?i[1]:void 0},t.fe=function(t,e){t===h&&(t="Version");var i=e.match(new RegExp(t+"/([\\d,.]+)"));return i?i[1]:"Unknown"},t._e=function(t){return t.match(w)?T:t.match(S)?m:t.match(W)?g:t.match(_)?A:t.match(b)?P:t.match(O)?y:t.match(E)?v:"Unknown"},t.le=function(t,e){return e===v?this.he(t):e===y?this.ve(t):"Unknown"},t.he=function(t){var e=t.match(new RegExp("Windows NT ([\\d,.]+)"));return e&&I[e[1]]?I[e[1]]:"Unknown"},t.ve=function(t){var e=t.match(new RegExp(y+" ([\\d,_,.]+)"));if(e){var i=e[1].replace(/_/g,".");if(i){var n=this.ye(i);return n?i.split(n)[0]:i}}return"Unknown"},t.ye=function(t){return t.indexOf(".")>-1?".":t.indexOf("_")>-1?"_":null},t.ae=function(t,e){if(this.Y)this.Y.setProperty(t,e);else if(this.re){var i=new Date;i.setTime(i.getTime()+31536e6);var n="expires="+i.toUTCString();document.cookie=t+"="+e+"; "+n}},t.se=function(t){if(this.Y)return this.Y.getProperty(t)||"";if(this.re){t+="=";for(var e=document.cookie.split(";"),i=0;i<e.length;i++){for(var n=e[i],r=0;" "===n.charAt(r);)r++;if(0===(n=n.substring(r)).indexOf(t))return n.substring(t.length,n.length)}}return""},t.ne=function(t){this.re&&(document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},t.ee=!1,t.re="undefined"!=typeof document&&void 0!==document.cookie,t}();e.default=R},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),r=i(0),o=i(9),s=function(){function t(t,e){this.Te=t,this.ge=e}return t.prototype.setAppId=function(t){this.me("AppInfo.Id",t)},t.prototype.setAppVersion=function(t){this.me("AppInfo.Version",t)},t.prototype.setAppLanguage=function(t){this.me("AppInfo.Language",t)},t.prototype.setDeviceId=function(t){this.Te&&(n.default.checkAndSaveDeviceId(t),this.me("DeviceInfo.Id",t))},t.prototype.setDeviceOsName=function(t){this.Te&&this.me("DeviceInfo.OsName",t)},t.prototype.setDeviceOsVersion=function(t){this.Te&&this.me("DeviceInfo.OsVersion",t)},t.prototype.setDeviceBrowserName=function(t){this.Te&&this.me("DeviceInfo.BrowserName",t)},t.prototype.setDeviceBrowserVersion=function(t){this.Te&&this.me("DeviceInfo.BrowserVersion",t)},t.prototype.setDeviceMake=function(t){this.Te&&this.me("DeviceInfo.Make",t)},t.prototype.setDeviceModel=function(t){this.Te&&this.me("DeviceInfo.Model",t)},t.prototype.setUserId=function(t,e,i){if(!isNaN(i)&&null!==i&&i>=0&&i<=12)this.me("UserInfo.IdType",i.toString());else{var n=void 0;switch(e){case r.AWTPiiKind.SipAddress:n=o.AWTUserIdType.SipAddress;break;case r.AWTPiiKind.PhoneNumber:n=o.AWTUserIdType.PhoneNumber;break;case r.AWTPiiKind.SmtpAddress:n=o.AWTUserIdType.EmailAddress;break;default:n=o.AWTUserIdType.Unknown}this.me("UserInfo.IdType",n.toString())}if(isNaN(e)||null===e||e===r.AWTPiiKind.NotSet||e>13)switch(i){case o.AWTUserIdType.Skype:e=r.AWTPiiKind.Identity;break;case o.AWTUserIdType.EmailAddress:e=r.AWTPiiKind.SmtpAddress;break;case o.AWTUserIdType.PhoneNumber:e=r.AWTPiiKind.PhoneNumber;break;case o.AWTUserIdType.SipAddress:e=r.AWTPiiKind.SipAddress;break;default:e=r.AWTPiiKind.NotSet}this.Se("UserInfo.Id",t,e)},t.prototype.setUserAdvertisingId=function(t){this.me("UserInfo.AdvertisingId",t)},t.prototype.setUserTimeZone=function(t){this.me("UserInfo.TimeZone",t)},t.prototype.setUserLanguage=function(t){this.me("UserInfo.Language",t)},t.prototype.me=function(t,e){"string"==typeof e&&this.ge.setProperty(t,e)},t.prototype.Se=function(t,e,i){"string"==typeof e&&this.ge.setPropertyWithPii(t,e,i)},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Unknown=0]="Unknown",t[t.MSACID=1]="MSACID",t[t.MSAPUID=2]="MSAPUID",t[t.ANID=3]="ANID",t[t.OrgIdCID=4]="OrgIdCID",t[t.OrgIdPUID=5]="OrgIdPUID",t[t.UserObjectId=6]="UserObjectId",t[t.Skype=7]="Skype",t[t.Yammer=8]="Yammer",t[t.EmailAddress=9]="EmailAddress",t[t.PhoneNumber=10]="PhoneNumber",t[t.SipAddress=11]="SipAddress",t[t.MUID=12]="MUID"}(e.AWTUserIdType||(e.AWTUserIdType={})),function(t){t[t.Started=0]="Started",t[t.Ended=1]="Ended"}(e.AWTSessionState||(e.AWTSessionState={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(2),o=function(){function t(){}return t.initialize=function(t){var e=this;this.Ae=t,this.Ie=!0,r.default.addNotificationListener({eventsSent:function(t){e.Pe("records_sent_count",t.length,t[0].apiKey)},eventsDropped:function(t,i){e.Pe("records_dropped_count",t.length,t[0].apiKey)},eventsRejected:function(t,i){e.Pe("r_count",t.length,t[0].apiKey)},eventsRetrying:null}),setTimeout((function(){return e.flush()}),6e4)},t.teardown=function(){this.Ie&&(this.flush(),this.Ie=!1)},t.eventReceived=function(e){t.Pe("records_received_count",1,e)},t.flush=function(){var t=this;if(this.Ie){for(var e in this.We)this.We.hasOwnProperty(e)&&this.Ae(this.We[e],e);this.We={},setTimeout((function(){return t.flush()}),6e4)}},t.Pe=function(t,e,i){if(this.Ie&&i!==n.StatsApiKey){var r=n.getTenantId(i);this.We[r]||(this.We[r]={}),this.We[r][t]?this.We[r][t]=this.We[r][t]+e:this.We[r][t]=e}},t.Ie=!1,t.We={},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(12),o=i(13),s=i(3),u=i(2),a=i(7),h=function(){function t(){}return t.initialize=function(t,e){if(void 0===e&&(e={}),!this.Ee)return this.Ee=!0,r.default.defaultTenantToken=t,this.Be(e),this.T.disableCookiesUsage&&!this.T.propertyStorageOverride&&(r.default.sessionEnabled=!1),a.default.addPropertyStorageOverride(this.T.propertyStorageOverride),a.default.autoCollect(r.default.semanticContext,this.T.disableCookiesUsage,this.T.userAgent),s.default.initialize(this.T),r.default.loggingEnabled=!0,this.getLogger()},t.getSemanticContext=function(){return r.default.semanticContext},t.flush=function(t){this.Ee&&!this.Ce&&s.default.flush(t)},t.flushAndTeardown=function(){this.Ee&&!this.Ce&&(this.Ce=!0,s.default.flushAndTeardown(),r.default.loggingEnabled=!1)},t.pauseTransmission=function(){this.Ee&&!this.Ce&&s.default.pauseTransmission()},t.resumeTransmision=function(){this.Ee&&!this.Ce&&s.default.resumeTransmision()},t.setTransmitProfile=function(t){this.Ee&&!this.Ce&&s.default.setTransmitProfile(t)},t.loadTransmitProfiles=function(t){this.Ee&&!this.Ce&&s.default.loadTransmitProfiles(t)},t.setContext=function(t,e,i){void 0===i&&(i=n.AWTPropertyType.Unspecified),r.default.logManagerContext.setProperty(t,e,i)},t.setContextWithPii=function(t,e,i,o){void 0===o&&(o=n.AWTPropertyType.Unspecified),r.default.logManagerContext.setPropertyWithPii(t,e,i,o)},t.prototype.setContextWithCustomerContent=function(t,e,i,o){void 0===o&&(o=n.AWTPropertyType.Unspecified),r.default.logManagerContext.setPropertyWithCustomerContent(t,e,i,o)},t.getLogger=function(t){var e=t;return e&&e!==r.default.defaultTenantToken||(e=""),this.we[t]||(this.we[t]=new o.default(t)),this.we[t]},t.addNotificationListener=function(t){u.default.addNotificationListener(t)},t.Be=function(t){t.collectorUri&&(this.T.collectorUri=t.collectorUri),t.cacheMemorySizeLimitInNumberOfEvents>0&&(this.T.cacheMemorySizeLimitInNumberOfEvents=t.cacheMemorySizeLimitInNumberOfEvents),t.httpXHROverride&&t.httpXHROverride.sendPOST&&(this.T.httpXHROverride=t.httpXHROverride),t.propertyStorageOverride&&t.propertyStorageOverride.getProperty&&t.propertyStorageOverride.setProperty&&(this.T.propertyStorageOverride=t.propertyStorageOverride),t.userAgent&&(this.T.userAgent=t.userAgent),t.disableCookiesUsage&&(this.T.disableCookiesUsage=t.disableCookiesUsage),t.canSendStatEvent&&(this.T.canSendStatEvent=t.canSendStatEvent)},t.we={},t.Ee=!1,t.Ce=!1,t.T={collectorUri:"https://browser.pipe.aria.microsoft.com/Collector/3.0/",cacheMemorySizeLimitInNumberOfEvents:1e4,disableCookiesUsage:!1,canSendStatEvent:function(t){return!0}},t}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),r=i(8),o=function(){function t(){}return t.logManagerContext=new n.default,t.sessionEnabled=!0,t.loggingEnabled=!1,t.defaultTenantToken="",t.semanticContext=new r.default(!0,t.logManagerContext),t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(9),o=i(5),s=i(1),u=i(10),a=i(2),h=i(3),f=i(12),c=i(15),p=i(8),l=i(7),d=function(){function t(t){this.be=t,this.De=new o.default,this.$=new p.default(!1,this.De),this.Oe=0,this.Ne()}return t.prototype.setContext=function(t,e,i){void 0===i&&(i=n.AWTPropertyType.Unspecified),this.De.setProperty(t,e,i)},t.prototype.setContextWithPii=function(t,e,i,r){void 0===r&&(r=n.AWTPropertyType.Unspecified),this.De.setPropertyWithPii(t,e,i,r)},t.prototype.setContextWithCustomerContent=function(t,e,i,r){void 0===r&&(r=n.AWTPropertyType.Unspecified),this.De.setPropertyWithCustomerContent(t,e,i,r)},t.prototype.getSemanticContext=function(){return this.$},t.prototype.logEvent=function(e){if(f.default.loggingEnabled){this.be||(this.be=f.default.defaultTenantToken,this.Ne());var i=!0;s.isString(e)?e={name:e}:e instanceof o.default&&(e=e.getEvent(),i=!1),u.default.eventReceived(this.be),t.Re(t.Me(e,this.be),i,this.De)}},t.prototype.logSession=function(e,i){if(f.default.sessionEnabled){var o={name:"session",type:"session",properties:{}};if(t.Ue(o,i),o.priority=n.AWTEventPriority.High,e===r.AWTSessionState.Started){if(this.Oe>0)return;this.Oe=(new Date).getTime(),this.ke=s.newGuid(),this.setContext("Session.Id",this.ke)}else{if(e!==r.AWTSessionState.Ended)return;if(0===this.Oe)return;var u=Math.floor(((new Date).getTime()-this.Oe)/1e3);o.properties["Session.Id"]=this.ke,o.properties["Session.Duration"]=u.toString(),o.properties["Session.DurationBucket"]=t.xe(u),this.Oe=0,this.setContext("Session.Id",null),this.ke=void 0}o.properties["Session.FirstLaunchTime"]=l.default.firstLaunchTime,o.properties["Session.State"]=e.toString(),this.logEvent(o)}},t.prototype.getSessionId=function(){return this.ke},t.prototype.logFailure=function(e,i,r,o,s){if(e&&i){var u={name:"failure",type:"failure",properties:{}};t.Ue(u,s),u.properties["Failure.Signature"]=e,u.properties["Failure.Detail"]=i,r&&(u.properties["Failure.Category"]=r),o&&(u.properties["Failure.Id"]=o),u.priority=n.AWTEventPriority.High,this.logEvent(u)}},t.prototype.logPageView=function(e,i,n,r,o,s){if(e&&i){var u={name:"pageview",type:"pageview",properties:{}};t.Ue(u,s),u.properties["PageView.Id"]=e,u.properties["PageView.Name"]=i,n&&(u.properties["PageView.Category"]=n),r&&(u.properties["PageView.Uri"]=r),o&&(u.properties["PageView.ReferrerUri"]=o),this.logEvent(u)}},t.prototype.Ne=function(){!t.Le[this.be]&&this.be&&(t.Le[this.be]=s.newGuid())},t.Ue=function(t,e){if(e)for(var i in e instanceof o.default&&(e=e.getEvent()),e.name&&(t.name=e.name),e.priority&&(t.priority=e.priority),e.properties)e.properties.hasOwnProperty(i)&&(t.properties[i]=e.properties[i])},t.xe=function(t){return t<0?"Undefined":t<=3?"UpTo3Sec":t<=10?"UpTo10Sec":t<=30?"UpTo30Sec":t<=60?"UpTo60Sec":t<=180?"UpTo3Min":t<=600?"UpTo10Min":t<=1800?"UpTo30Min":"Above30Min"},t.Re=function(t,e,i){if(t.name)if(t.name=t.name.toLowerCase(),t.name=t.name.replace(s.EventNameDotRegex,"_"),t.type?t.type=t.type.toLowerCase():t.type="custom",s.EventNameAndTypeRegex.test(t.name)&&s.EventNameAndTypeRegex.test(t.type)){if(isNaN(t.timestamp)&&(t.timestamp=(new Date).getTime()),e&&t.properties)for(var r in t.properties)t.properties.hasOwnProperty(r)&&(t.properties[r]=s.sanitizeProperty(r,t.properties[r]),null===t.properties[r]&&delete t.properties[r]);t.properties||(t.properties={}),this.Fe(t,i.getPropertyMap()),this.Fe(t,f.default.logManagerContext.getPropertyMap()),this.ze(t,"EventInfo.InitId",this.qe(t.apiKey)),this.ze(t,"EventInfo.Sequence",this.He(t.apiKey)),this.ze(t,"EventInfo.SdkVersion",c.FullVersionString),this.ze(t,"EventInfo.Name",t.name),this.ze(t,"EventInfo.Time",new Date(t.timestamp).toISOString()),s.isPriority(t.priority)||(t.priority=n.AWTEventPriority.Normal),this.je(t)}else a.default.eventsRejected([t],n.AWTEventsRejectedReason.InvalidEvent);else a.default.eventsRejected([t],n.AWTEventsRejectedReason.InvalidEvent)},t.Fe=function(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t.properties[i]||(t.properties[i]=e[i]))},t.ze=function(t,e,i){t.properties[e]={value:i,pii:n.AWTPiiKind.NotSet,type:n.AWTPropertyType.String}},t.je=function(t){h.default.sendEvent(t)},t.Me=function(t,e){var i=t;return i.id=s.newGuid(),i.apiKey=e,i},t.qe=function(e){return t.Le[e]},t.He=function(e){return void 0===t.Ke[e]&&(t.Ke[e]=0),(++t.Ke[e]).toString()},t.Ke={},t.Le={},t}();e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AWT_REAL_TIME="REAL_TIME",e.AWT_NEAR_REAL_TIME="NEAR_REAL_TIME",e.AWT_BEST_EFFORT="BEST_EFFORT"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Version="1.2.0",e.FullVersionString="AWT-Web-JS-"+e.Version},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.AWTPropertyType=n.AWTPropertyType,e.AWTPiiKind=n.AWTPiiKind,e.AWTEventPriority=n.AWTEventPriority,e.AWTEventsDroppedReason=n.AWTEventsDroppedReason,e.AWTEventsRejectedReason=n.AWTEventsRejectedReason,e.AWTCustomerContentKind=n.AWTCustomerContentKind;var r=i(9);e.AWTUserIdType=r.AWTUserIdType,e.AWTSessionState=r.AWTSessionState;var o=i(14);e.AWT_BEST_EFFORT=o.AWT_BEST_EFFORT,e.AWT_NEAR_REAL_TIME=o.AWT_NEAR_REAL_TIME,e.AWT_REAL_TIME=o.AWT_REAL_TIME;var s=i(5);e.AWTEventProperties=s.default;var u=i(13);e.AWTLogger=u.default;var a=i(11);e.AWTLogManager=a.default;var h=i(29);e.AWTTransmissionManager=h.default;var f=i(6);e.AWTSerializer=f.default;var c=i(8);e.AWTSemanticContext=c.default,e.AWT_COLLECTOR_URL_UNITED_STATES="https://us.pipe.aria.microsoft.com/Collector/3.0/",e.AWT_COLLECTOR_URL_GERMANY="https://de.pipe.aria.microsoft.com/Collector/3.0/",e.AWT_COLLECTOR_URL_JAPAN="https://jp.pipe.aria.microsoft.com/Collector/3.0/",e.AWT_COLLECTOR_URL_AUSTRALIA="https://au.pipe.aria.microsoft.com/Collector/3.0/",e.AWT_COLLECTOR_URL_EUROPE="https://eu.pipe.aria.microsoft.com/Collector/3.0/"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Qe=0]="_BT_STOP",t[t.Ve=1]="_BT_STOP_BASE",t[t.Q=2]="_BT_BOOL",t[t.G=8]="_BT_DOUBLE",t[t.R=9]="_BT_STRING",t[t.x=10]="_BT_STRUCT",t[t.M=11]="_BT_LIST",t[t.D=13]="_BT_MAP",t[t.j=16]="_BT_INT32",t[t.L=17]="_BT_INT64"}(e.O||(e.O={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),r=i(19),o=i(22);e.Ze=function(t){for(var e=[],i=0;i<t.length;++i){var n=t.charCodeAt(i);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||n>=57344?e.push(224|n>>12,128|n>>6&63,128|63&n):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++i)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e},e.Z=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[],n=t.length%3,r=0,o=t.length-n;r<o;r+=3){var s=(t[r]<<16)+(t[r+1]<<8)+t[r+2];i.push(function(t){return[e.charAt(t>>18&63),e.charAt(t>>12&63),e.charAt(t>>6&63),e.charAt(63&t)].join("")}(s))}switch(n){case 1:s=t[t.length-1];i.push(e.charAt(s>>2)),i.push(e.charAt(s<<4&63)),i.push("==");break;case 2:var u=(t[t.length-2]<<8)+t[t.length-1];i.push(e.charAt(u>>10)),i.push(e.charAt(u>>4&63)),i.push(e.charAt(u<<2&63)),i.push("=")}return i.join("")},e.Je=function(t){for(var e=[];4294967168&t;)e.push(127&t|128),t>>>=7;return e.push(127&t),e},e.Ye=function(t){for(var e=t.low,i=t.high,n=[];i||4294967168&e;)n.push(127&e|128),e=(127&i)<<25|e>>>7,i>>>=7;return n.push(127&e),n},e.$e=function(t){if(o.BrowserChecker.Ge()){var e=new DataView(new ArrayBuffer(8));e.setFloat64(0,t,!0);for(var i=[],n=0;n<8;++n)i.push(e.getUint8(n));return i}return r.FloatUtils.Xe(t,!0)},e.et=function(t){return(t=n.Number.B(t))<<1^t>>31},e.tt=function(t){var e=t.low,i=t.high,r=i<<1|e>>>31,o=e<<1;2147483648&i&&(r=~r,o=~o);var s=new n.UInt64("0");return s.low=o,s.high=r,s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.Xe=function(t,e){if(!t)return e?this.it:this.nt;var i=e?52:23,n=(1<<(e?11:8)-1)-1,r=1-n,o=n,s=t<0?1:0;t=Math.abs(t);for(var u=Math.floor(t),a=t-u,h=2*(n+2)+i,f=new Array(h),c=0;c<h;)f[c++]=0;for(c=n+2;c&&u;)f[--c]=u%2,u=Math.floor(u/2);for(c=n+1;c<h-1&&a>0;)(a*=2)>=1?(f[++c]=1,--a):f[++c]=0;for(var p=0;p<h&&!f[p];)p++;var l=n+1-p,d=p+i;if(f[d+1]){for(c=d;c>p&&(f[c]=1-f[c],!f);--c);c===p&&++l}if(l>o||u)return s?e?this.rt:this.ot:e?this.st:this.at;if(l<r)return e?this.it:this.nt;if(e){var v=0;for(c=0;c<20;++c)v=v<<1|f[++p];for(var y=0;c<52;++c)y=y<<1|f[++p];return[255&y,y>>8&255,y>>16&255,y>>>24,255&(v=s<<31|2147483647&(v|=l+n<<20)),v>>8&255,v>>16&255,v>>>24]}var T=0;for(c=0;c<23;++c)T=T<<1|f[++p];return[255&(T=s<<31|2147483647&(T|=l+n<<23)),T>>8&255,T>>16&255,T>>>24]},t.nt=[0,0,0,0],t.it=[0,0,0,0,0,0,0,0],t.at=[0,0,128,127],t.ot=[0,0,128,255],t.st=[0,0,0,0,0,0,240,127],t.rt=[0,0,0,0,0,0,240,255],t}();e.FloatUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),r=function(){function t(){this.ut=[]}return t.prototype.dt=function(t){this.ut.push(n.Number.P(t))},t.prototype._t=function(t,e,i){for(;i--;)this.dt(t[e++])},t.prototype.H=function(){return this.ut},t}();e.MemoryStream=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17);e.O=n.O;var r=i(18);e.J=r;var o=i(20);e.IO=o;var s=i(4);e.Int64=s.Int64,e.UInt64=s.UInt64,e.Number=s.Number;var u=function(){function t(t){this.lt=t}return t.prototype.z=function(t){this.lt._t(t,0,t.length)},t.prototype.V=function(t){this.lt.dt(t?1:0)},t.prototype.k=function(t,e){this.ct(e),this.pt(t)},t.prototype.N=function(t,e,i){this.ct(e),this.ct(i),this.pt(t)},t.prototype.X=function(t){var e=r.$e(t);this.lt._t(e,0,e.length)},t.prototype.b=function(t,e,i){e<=5?this.lt.dt(t|e<<5):e<=255?(this.lt.dt(192|t),this.lt.dt(e)):(this.lt.dt(224|t),this.lt.dt(e),this.lt.dt(e>>8))},t.prototype.K=function(t){t=r.et(t),this.pt(t)},t.prototype.F=function(t){this.ft(r.tt(t))},t.prototype.U=function(t){if(""===t)this.pt(0);else{var e=r.Ze(t);this.pt(e.length),this.lt._t(e,0,e.length)}},t.prototype.q=function(t){this.ct(t?n.O.Ve:n.O.Qe)},t.prototype.pt=function(t){var e=r.Je(s.Number.C(t));this.lt._t(e,0,e.length)},t.prototype.ft=function(t){var e=r.Ye(t);this.lt._t(e,0,e.length)},t.prototype.ct=function(t){this.lt.dt(s.Number.W(t))},t}();e.CompactBinaryProtocolWriter=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.Ge=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},t}();e.BrowserChecker=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.ht=!0,this.vt=!0,this.yt=!0,this.Tt="use-collector-delta",this.gt=!1}return t.prototype.allowRequestSending=function(){return this.yt?(this.yt=!1,this.ht=!1,!0):this.ht},t.prototype.shouldAddClockSkewHeaders=function(){return this.vt},t.prototype.getClockSkewHeaderValue=function(){return this.Tt},t.prototype.setClockSkew=function(t){this.gt||(t?this.Tt=t:this.vt=!1,this.gt=!0,this.ht=!0)},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.mt={}}return t.prototype.setKillSwitchTenants=function(t,e){if(t&&e)try{var i=t.split(",");if("this-request-only"===e)return i;for(var n=1e3*parseInt(e,10),r=0;r<i.length;++r)this.mt[i[r]]=Date.now()+n}catch(t){return[]}return[]},t.prototype.isTenantKilled=function(t){return void 0!==this.mt[t]&&this.mt[t]>Date.now()||(delete this.mt[t],!1)},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(0),o=function(){function t(t,e){this.St=t,this.At=e,this.It={},this.Pt=0}return t.prototype.addEventToBatch=function(t){t.serializedEvent.length>this.St?n.default.eventsRejected([t],r.AWTEventsRejectedReason.SizeLimitExceeded):(this.Pt+t.serializedEvent.length>this.St&&this.flushBatch(),void 0===this.It[t.apiKey]&&(this.It[t.apiKey]=[]),this.It[t.apiKey].push(t),this.Pt+=t.serializedEvent.length)},t.prototype.flushBatch=function(){this.Pt>0&&(this.At.push(this.It),this.It={},this.Pt=0)},t.prototype.hasBatch=function(){return this.Pt>0},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.shouldRetryForStatus=function(t){return!(t>=300&&t<500&&408!==t||501===t||505===t)},t.getMillisToBackoffForRetry=function(t){var e,i=Math.floor(1200*Math.random())+2400;return e=Math.pow(4,t)*i,Math.min(e,12e4)},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(6),o=i(26),s=i(24),u=i(23),a=i(15),h=i(1),f=i(2),c=i(3),p="POST",l=function(){function t(t,e,i,n){var r=this;this.Wt=t,this.Et=i,this.Bt=n,this.Ct="?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version="+a.FullVersionString,this.wt=new s.default,this._=!1,this.bt=new u.default,this.Dt=!1,this.Ot=0,h.isUint8ArrayAvailable()||(this.Ct+="&content-encoding=base64"),this.Ct=e+this.Ct,this.Bt||(this.Dt=!h.isReactNative(),this.Bt={sendPOST:function(t,e,i,n,o,s){if(h.useXDomainRequest()){var u=new XDomainRequest;u.open(p,t),u.onload=function(){o(200,null)},u.onerror=function(){n(400,null)},u.ontimeout=function(){i(500,null)},u.send(e)}else if(h.isReactNative())fetch(t,{body:e,method:p}).then((function(t){var e={};t.headers&&t.headers.forEach((function(t,i){e[i]=t})),o(t.status,e)})).catch((function(t){n(0,{})}));else{var a=new XMLHttpRequest;a.open(p,t,!s),a.onload=function(){o(a.status,r.Nt(a.getAllResponseHeaders()))},a.onerror=function(){n(a.status,r.Nt(a.getAllResponseHeaders()))},a.ontimeout=function(){i(a.status,r.Nt(a.getAllResponseHeaders()))},a.send(e)}}})}return t.prototype.hasIdleConnection=function(){return this.Ot<2},t.prototype.sendQueuedRequests=function(){for(;this.hasIdleConnection()&&!this._&&this.Wt.length>0&&this.bt.allowRequestSending();)this.Ot++,this.Rt(this.Wt.pop(),0,!1);this.hasIdleConnection()&&c.default.scheduleTimer()},t.prototype.isCompletelyIdle=function(){return 0===this.Ot},t.prototype.flush=function(){for(;this.Wt.length>0;)this.Rt(this.Wt.pop(),0,!0)},t.prototype.pause=function(){this._=!0},t.prototype.resume=function(){this._=!1,this.sendQueuedRequests()},t.prototype.removeQueuedRequests=function(){this.Wt.length=0},t.prototype.Rt=function(t,e,i){var o=this;if(this._)return this.Ot--,void this.Et.addBackRequest(t);var s=0,u="";for(var a in t)t.hasOwnProperty(a)&&(this.wt.isTenantKilled(a)?(f.default.eventsDropped(t[a],n.AWTEventsDroppedReason.KillSwitch),delete t[a]):(u.length>0&&(u+=","),u+=a,s++));if(s>0){var c=r.default.getPayloadBlob(t,s),p=this.Ct+"&x-apikey="+u+"&client-time-epoch-millis="+Date.now().toString();this.bt.shouldAddClockSkewHeaders()&&(p=p+"&time-delta-to-apply-millis="+this.bt.getClockSkewHeaderValue());var l;l=h.isUint8ArrayAvailable()?new Uint8Array(c):r.default.base64Encode(c),this.Dt&&i&&h.isBeaconsSupported()?navigator.sendBeacon(p,l):this.Bt.sendPOST(p,l,(function(i,n){o.Mt(i,n,t,s,u,e)}),(function(i,n){o.Mt(i,n,t,s,u,e)}),(function(i,n){o.Mt(i,n,t,s,u,e)}),!1)}else i||this.Ut(null,{})},t.prototype.Mt=function(t,e,i,r,s,u){var a=this,h=!0;if(void 0!==t){if(e){var p=this.wt.setKillSwitchTenants(e["kill-tokens"],e["kill-duration-seconds"]);this.bt.setClockSkew(e["time-delta-millis"]);for(var l=0;l<p.length;++l)f.default.eventsDropped(i[p[l]],n.AWTEventsDroppedReason.KillSwitch),delete i[p[l]],r--}else this.bt.setClockSkew(null);if(200===t)return void this.Ut(!0,i);(!o.default.shouldRetryForStatus(t)||r<=0)&&(h=!1)}if(h)if(u<1){for(var d in i)i.hasOwnProperty(d)&&f.default.eventsRetrying(i[d]);setTimeout((function(){return a.Rt(i,u+1,!1)}),o.default.getMillisToBackoffForRetry(u))}else this.Ot--,c.default.backOffTransmission(),this.Et.addBackRequest(i);else this.Ut(!1,i)},t.prototype.Ut=function(t,e){for(var i in t&&c.default.clearBackOff(),e)e.hasOwnProperty(i)&&(t?f.default.eventsSent(e[i]):f.default.eventsDropped(e[i],n.AWTEventsDroppedReason.NonRetryableStatus));this.Ot--,this.sendQueuedRequests()},t.prototype.Nt=function(t){var e={};if(t)for(var i=t.split("\n"),n=0;n<i.length;++n){var r=i[n].split(": ");e[r[0]]=r[1]}return e},t}();e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(27),o=i(3),s=i(25),u=i(6),a=i(2),h=function(){function t(t,e,i){this.kt=e,this.xt=!1,this.Lt=[],this.Ft=!1,this._=!1,this.zt=0,this.At=[],this.qt={},this.qt[n.AWTEventPriority.High]=[],this.qt[n.AWTEventPriority.Normal]=[],this.qt[n.AWTEventPriority.Low]=[],this.Ht(),this.jt=new s.default(2936012,this.At),this.Kt=new r.default(this.At,t,this,i)}return t.prototype.addEvent=function(t){this.zt<this.kt?this._&&this.Ft||(this.zt++,this.qt[t.priority][this.qt[t.priority].length-1].push(t)):a.default.eventsDropped([t],n.AWTEventsDroppedReason.QueueFull)},t.prototype.sendEventsForPriorityAndAbove=function(t){this.Qt(t),this.Kt.sendQueuedRequests()},t.prototype.hasEvents=function(){return(this.qt[n.AWTEventPriority.High][0].length>0||this.qt[n.AWTEventPriority.Normal][0].length>0||this.qt[n.AWTEventPriority.Low][0].length>0||this.jt.hasBatch())&&this.Kt.hasIdleConnection()},t.prototype.addBackRequest=function(t){if(!this._||!this.Ft){for(var e in t)if(t.hasOwnProperty(e))for(var i=0;i<t[e].length;++i)this.addEvent(t[e][i]);o.default.scheduleTimer()}},t.prototype.teardown=function(){this._||(this.Qt(n.AWTEventPriority.Low),this.Kt.flush())},t.prototype.uploadNow=function(t){var e=this;this.Ht(),this.xt?this.Lt.push(t):(this.xt=!0,setTimeout((function(){return e.Vt(t)}),0))},t.prototype.pauseTransmission=function(){this._=!0,this.Kt.pause(),this.shouldDropEventsOnPause&&(this.zt-=this.qt[n.AWTEventPriority.High][0].length+this.qt[n.AWTEventPriority.Normal][0].length+this.qt[n.AWTEventPriority.Low][0].length,this.qt[n.AWTEventPriority.High][0]=[],this.qt[n.AWTEventPriority.Normal][0]=[],this.qt[n.AWTEventPriority.Low][0]=[],this.Kt.removeQueuedRequests())},t.prototype.resumeTransmission=function(){this._=!1,this.Kt.resume()},t.prototype.shouldDropEventsOnPause=function(t){this.Ft=t},t.prototype.Gt=function(){this.qt[n.AWTEventPriority.High].shift(),this.qt[n.AWTEventPriority.Normal].shift(),this.qt[n.AWTEventPriority.Low].shift()},t.prototype.Ht=function(){this.qt[n.AWTEventPriority.High].push([]),this.qt[n.AWTEventPriority.Normal].push([]),this.qt[n.AWTEventPriority.Low].push([])},t.prototype.Qt=function(t){for(var e=n.AWTEventPriority.High;e>=t;){for(;this.qt[e][0].length>0;){var i=this.qt[e][0].pop();this.zt--,i.serializedEvent||(i.serializedEvent=u.default.getEventBlob(i)),this.jt.addEventToBatch(i)}e--}this.jt.flushBatch()},t.prototype.Vt=function(t){var e=this;this.hasEvents()&&this.sendEventsForPriorityAndAbove(n.AWTEventPriority.Low),this.Xt((function(){e.Gt(),null!=t&&t(),e.Lt.length>0?setTimeout((function(){return e.Vt(e.Lt.shift())}),0):(e.xt=!1,e.hasEvents()&&o.default.scheduleTimer())}))},t.prototype.Xt=function(t){var e=this;this.Kt.isCompletelyIdle()?t():setTimeout((function(){return e.Xt(t)}),250)},t}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=function(){function t(){}return t.setEventsHandler=function(t){n.default.setEventsHandler(t)},t.getEventsHandler=function(){return n.default.getEventsHandler()},t.scheduleTimer=function(){n.default.scheduleTimer()},t}();e.default=r},function(t,e,i){t.exports=i(16)}])}));